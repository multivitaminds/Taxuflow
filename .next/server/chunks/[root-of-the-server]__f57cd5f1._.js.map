{"version":3,"sources":["../../../lib/email/templates/filing-status.tsx","../../../lib/email/templates/document-processed.tsx","../../../lib/email/send.ts"],"sourcesContent":["interface FilingStatusEmailProps {\n  userName: string\n  filingType: string\n  status: \"accepted\" | \"rejected\" | \"pending\"\n  submissionId: string\n  refundAmount?: number\n  rejectionReasons?: string[]\n  dashboardUrl: string\n}\n\nexport function FilingStatusEmail({\n  userName,\n  filingType,\n  status,\n  submissionId,\n  refundAmount,\n  rejectionReasons,\n  dashboardUrl,\n}: FilingStatusEmailProps) {\n  const statusColors = {\n    accepted: \"#10b981\",\n    rejected: \"#ef4444\",\n    pending: \"#f59e0b\",\n  }\n\n  const statusMessages = {\n    accepted: \"Your tax return has been accepted by the IRS! üéâ\",\n    rejected: \"Your tax return was rejected and needs attention.\",\n    pending: \"Your tax return is being processed.\",\n  }\n\n  return (\n    <html>\n      <head>\n        <style>{`\n          body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 0; background: #f3f4f6; }\n          .container { max-width: 600px; margin: 40px auto; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }\n          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px 30px; text-align: center; }\n          .header h1 { color: white; margin: 0; font-size: 28px; }\n          .content { padding: 40px 30px; }\n          .status-badge { display: inline-block; padding: 12px 24px; border-radius: 8px; font-weight: 600; margin: 20px 0; }\n          .button { display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 14px 32px; border-radius: 8px; text-decoration: none; font-weight: 600; margin: 20px 0; }\n          .footer { background: #f9fafb; padding: 30px; text-align: center; color: #6b7280; font-size: 14px; }\n          .rejection-list { background: #fef2f2; border-left: 4px solid #ef4444; padding: 16px; margin: 20px 0; border-radius: 4px; }\n        `}</style>\n      </head>\n      <body>\n        <div className=\"container\">\n          <div className=\"header\">\n            <h1>Taxu</h1>\n          </div>\n          <div className=\"content\">\n            <h2>Hi {userName},</h2>\n            <p style={{ fontSize: \"16px\", lineHeight: \"1.6\", color: \"#374151\" }}>{statusMessages[status]}</p>\n\n            <div className=\"status-badge\" style={{ background: statusColors[status], color: \"white\" }}>\n              {status.toUpperCase()} - {filingType}\n            </div>\n\n            <p style={{ color: \"#6b7280\", fontSize: \"14px\" }}>Submission ID: {submissionId}</p>\n\n            {status === \"accepted\" && refundAmount && refundAmount > 0 && (\n              <div style={{ background: \"#f0fdf4\", padding: \"20px\", borderRadius: \"8px\", margin: \"20px 0\" }}>\n                <p style={{ margin: 0, fontSize: \"14px\", color: \"#166534\" }}>Expected Refund</p>\n                <p style={{ margin: \"8px 0 0 0\", fontSize: \"32px\", fontWeight: \"bold\", color: \"#15803d\" }}>\n                  ${refundAmount.toLocaleString()}\n                </p>\n              </div>\n            )}\n\n            {status === \"rejected\" && rejectionReasons && rejectionReasons.length > 0 && (\n              <div className=\"rejection-list\">\n                <p style={{ fontWeight: \"600\", color: \"#991b1b\", margin: \"0 0 12px 0\" }}>Rejection Reasons:</p>\n                <ul style={{ margin: 0, paddingLeft: \"20px\", color: \"#7f1d1d\" }}>\n                  {rejectionReasons.map((reason, i) => (\n                    <li key={i} style={{ marginBottom: \"8px\" }}>\n                      {reason}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            <a href={dashboardUrl} className=\"button\">\n              View in Dashboard\n            </a>\n\n            <p style={{ fontSize: \"14px\", color: \"#6b7280\", marginTop: \"30px\" }}>\n              {status === \"accepted\" && \"Your refund will be processed by the IRS within 21 days.\"}\n              {status === \"rejected\" && \"Please review the rejection reasons and resubmit your corrected return.\"}\n              {status === \"pending\" && \"We'll notify you as soon as the IRS processes your return.\"}\n            </p>\n          </div>\n          <div className=\"footer\">\n            <p>¬© 2025 Taxu. All rights reserved.</p>\n            <p>\n              <a href={`${dashboardUrl}/settings/notifications`} style={{ color: \"#667eea\" }}>\n                Manage email preferences\n              </a>\n            </p>\n          </div>\n        </div>\n      </body>\n    </html>\n  )\n}\n","interface DocumentProcessedEmailProps {\n  userName: string\n  documentName: string\n  documentType: string\n  extractedData: Record<string, any>\n  dashboardUrl: string\n}\n\nexport function DocumentProcessedEmail({\n  userName,\n  documentName,\n  documentType,\n  extractedData,\n  dashboardUrl,\n}: DocumentProcessedEmailProps) {\n  return (\n    <html>\n      <head>\n        <style>{`\n          body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 0; background: #f3f4f6; }\n          .container { max-width: 600px; margin: 40px auto; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }\n          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px 30px; text-align: center; }\n          .header h1 { color: white; margin: 0; font-size: 28px; }\n          .content { padding: 40px 30px; }\n          .data-card { background: #f9fafb; border-radius: 8px; padding: 20px; margin: 20px 0; }\n          .button { display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 14px 32px; border-radius: 8px; text-decoration: none; font-weight: 600; margin: 20px 0; }\n          .footer { background: #f9fafb; padding: 30px; text-align: center; color: #6b7280; font-size: 14px; }\n        `}</style>\n      </head>\n      <body>\n        <div className=\"container\">\n          <div className=\"header\">\n            <h1>Taxu</h1>\n          </div>\n          <div className=\"content\">\n            <h2>Hi {userName},</h2>\n            <p style={{ fontSize: \"16px\", lineHeight: \"1.6\", color: \"#374151\" }}>\n              Your document has been processed successfully! ‚ú®\n            </p>\n\n            <div className=\"data-card\">\n              <p style={{ fontWeight: \"600\", margin: \"0 0 12px 0\", color: \"#111827\" }}>Document Details</p>\n              <p style={{ margin: \"8px 0\", color: \"#6b7280\" }}>\n                <strong>Name:</strong> {documentName}\n              </p>\n              <p style={{ margin: \"8px 0\", color: \"#6b7280\" }}>\n                <strong>Type:</strong> {documentType}\n              </p>\n            </div>\n\n            {Object.keys(extractedData).length > 0 && (\n              <div className=\"data-card\">\n                <p style={{ fontWeight: \"600\", margin: \"0 0 12px 0\", color: \"#111827\" }}>Extracted Information</p>\n                {Object.entries(extractedData).map(([key, value]) => (\n                  <p key={key} style={{ margin: \"8px 0\", color: \"#6b7280\" }}>\n                    <strong>{key}:</strong> {String(value)}\n                  </p>\n                ))}\n              </div>\n            )}\n\n            <a href={dashboardUrl} className=\"button\">\n              View Document\n            </a>\n\n            <p style={{ fontSize: \"14px\", color: \"#6b7280\", marginTop: \"30px\" }}>\n              Review the extracted data and use it to file your taxes or add it to your accounting records.\n            </p>\n          </div>\n          <div className=\"footer\">\n            <p>¬© 2025 Taxu. All rights reserved.</p>\n            <p>\n              <a href={`${dashboardUrl}/settings/notifications`} style={{ color: \"#667eea\" }}>\n                Manage email preferences\n              </a>\n            </p>\n          </div>\n        </div>\n      </body>\n    </html>\n  )\n}\n","import { createClient } from \"@/lib/supabase/server\"\nimport { render } from \"@react-email/render\"\nimport { FilingStatusEmail } from \"./templates/filing-status\"\nimport { DocumentProcessedEmail } from \"./templates/document-processed\"\n\nconst RESEND_API_KEY = process.env.RESEND_API_KEY\nconst FROM_EMAIL =\n  process.env.NODE_ENV === \"production\" ? \"Taxu <notifications@taxu.io>\" : \"Taxu <onboarding@resend.dev>\"\n\ninterface SendEmailOptions {\n  to: string\n  subject: string\n  html: string\n  userId?: string\n  emailType: string\n}\n\nexport async function sendEmail({ to, subject, html, userId, emailType }: SendEmailOptions) {\n  try {\n    const response = await fetch(\"https://api.resend.com/emails\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${RESEND_API_KEY}`,\n      },\n      body: JSON.stringify({\n        from: FROM_EMAIL,\n        to,\n        subject,\n        html,\n      }),\n    })\n\n    const data = await response.json()\n\n    if (!response.ok) {\n      throw new Error(data.message || \"Failed to send email\")\n    }\n\n    const supabase = await createClient()\n    await supabase.from(\"email_logs\").insert({\n      user_id: userId,\n      email_to: to,\n      email_type: emailType,\n      subject,\n      status: \"sent\",\n      provider_id: data.id,\n    })\n\n    console.log(\"[v0] ‚úÖ Email sent successfully:\", data.id)\n    return { success: true, id: data.id }\n  } catch (error) {\n    console.error(\"[v0] ‚ùå Failed to send email:\", error)\n\n    if (userId) {\n      const supabase = await createClient()\n      await supabase.from(\"email_logs\").insert({\n        user_id: userId,\n        email_to: to,\n        email_type: emailType,\n        subject,\n        status: \"failed\",\n        error_message: error instanceof Error ? error.message : \"Unknown error\",\n      })\n    }\n\n    return { success: false, error }\n  }\n}\n\nexport async function sendFilingStatusEmail(\n  userId: string,\n  userEmail: string,\n  userName: string,\n  filing: {\n    id: string\n    form_type: string\n    filing_status: string\n    submission_id: string\n    refund_amount?: number\n    rejection_reasons?: string[]\n  },\n) {\n  const supabase = await createClient()\n  const { data: prefs } = await supabase.from(\"email_preferences\").select(\"*\").eq(\"user_id\", userId).single()\n\n  if (prefs && !prefs.filing_updates) {\n    console.log(\"[v0] User has disabled filing update emails\")\n    return\n  }\n\n  const html = render(\n    FilingStatusEmail({\n      userName,\n      filingType: filing.form_type,\n      status: filing.filing_status as any,\n      submissionId: filing.submission_id,\n      refundAmount: filing.refund_amount,\n      rejectionReasons: filing.rejection_reasons,\n      dashboardUrl: `${process.env.NEXT_PUBLIC_APP_URL}/dashboard/filing/${filing.id}`,\n    }),\n  )\n\n  const statusText =\n    filing.filing_status === \"accepted\" ? \"Accepted\" : filing.filing_status === \"rejected\" ? \"Rejected\" : \"Updated\"\n\n  await sendEmail({\n    to: userEmail,\n    subject: `Your ${filing.form_type} Filing Has Been ${statusText}`,\n    html,\n    userId,\n    emailType: \"filing_status\",\n  })\n}\n\nexport async function sendDocumentProcessedEmail(\n  userId: string,\n  userEmail: string,\n  userName: string,\n  document: {\n    id: string\n    file_name: string\n    document_type: string\n    extracted_data: Record<string, any>\n  },\n) {\n  const supabase = await createClient()\n  const { data: prefs } = await supabase.from(\"email_preferences\").select(\"*\").eq(\"user_id\", userId).single()\n\n  if (prefs && !prefs.document_processing) {\n    console.log(\"[v0] User has disabled document processing emails\")\n    return\n  }\n\n  const html = render(\n    DocumentProcessedEmail({\n      userName,\n      documentName: document.file_name,\n      documentType: document.document_type,\n      extractedData: document.extracted_data || {},\n      dashboardUrl: `${process.env.NEXT_PUBLIC_APP_URL}/dashboard/documents/${document.id}`,\n    }),\n  )\n\n  await sendEmail({\n    to: userEmail,\n    subject: `Your ${document.document_type} Has Been Processed`,\n    html,\n    userId,\n    emailType: \"document_processed\",\n  })\n}\n"],"names":[],"mappings":"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"}