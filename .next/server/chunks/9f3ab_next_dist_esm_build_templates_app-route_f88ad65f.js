module.exports=[539314,e=>{"use strict";var t=e.i(682544),a=e.i(477416),r=e.i(888760),o=e.i(178890),i=e.i(685495),n=e.i(590424),s=e.i(333238),l=e.i(531427),c=e.i(172393),d=e.i(501598),p=e.i(133377),u=e.i(15902),m=e.i(115676),y=e.i(110214),f=e.i(376296),g=e.i(193695);e.i(633637);var h=e.i(712539),x=e.i(498065),v=e.i(70996);function C(e){if(!e)return null;let t=e.trim().replace(/\s+/g," ").match(/^(.+?)\s+([A-Z]{2})\s+(\d{5}(?:-\d{4})?)$/i);return t?{city:t[1].trim(),state:t[2].toUpperCase(),zipCode:t[3]}:null}function E(e){if(!e)return null;let t=e.split(",").map(e=>e.trim());if(2===t.length){let e=C(t[1]);if(e)return{street:t[0],...e}}return C(e)}var w=e.i(514094);async function T(e,t,a=1){let r=null;for(let o of(0,w.getExtractionModelWithFallback)()){console.log(`[v0] Attempting extraction with: ${o.name} (${o.provider})`);for(let i=0;i<=a;i++)try{console.log(`[v0] Extraction attempt ${i+1}/${a+1}`);let{text:r}=await (0,v.generateText)({model:o.modelId,messages:[{role:"user",content:[{type:"image",image:e},{type:"text",text:t}]}],maxTokens:o.maxTokens,abortSignal:AbortSignal.timeout(o.timeoutMs)});return console.log(`[v0] AI extraction successful with ${o.name}`),r}catch(n){let e=n instanceof Error?n.message:String(n);if(console.error(`[v0] Extraction attempt ${i+1} failed:`,e),e.includes("team restrictions")||e.includes("Unable to route to any provider")){console.log(`[v0] Provider ${o.provider} restricted - trying next model if available`),r=n instanceof Error?n:Error(e);break}if(e.includes("Gateway")||e.includes("timeout")||e.includes("ECONNRESET")||e.includes("network")||e.includes("fetch failed")||e.includes("Failed to fetch")||e.includes("NetworkError")||e.includes("ENOTFOUND")||e.includes("ETIMEDOUT"))throw console.log("[v0] Network/Gateway error detected, will use demo mode fallback"),n;if(i===a){r=n instanceof Error?n:Error(e);break}let t=Math.min(500*Math.pow(2,i),2e3);console.log(`[v0] Waiting ${t}ms before retry...`),await new Promise(e=>setTimeout(e,t))}}throw r||Error("Extraction failed after trying all available models")}async function _(e,t){let[a,r]=(0,w.getComparisonModels)();console.log(`[v0] A/B Testing: Compare ${a.name} vs ${r.name}`);let o=await Promise.allSettled([(0,v.generateText)({model:a.modelId,messages:[{role:"user",content:[{type:"image",image:e},{type:"text",text:t}]}],maxTokens:a.maxTokens,abortSignal:AbortSignal.timeout(a.timeoutMs)}),(0,v.generateText)({model:r.modelId,messages:[{role:"user",content:[{type:"image",image:e},{type:"text",text:t}]}],maxTokens:r.maxTokens,abortSignal:AbortSignal.timeout(r.timeoutMs)})]);if(console.log(`[v0] ${a.name} result:`,o[0].status),console.log(`[v0] ${r.name} result:`,o[1].status),"fulfilled"===o[0].status&&"fulfilled"===o[1].status)return console.log(`[v0] Both models succeeded - using ${a.name} (primary)`),console.log(`[v0] ${a.name} extracted:`,o[0].value.text.substring(0,200)),console.log(`[v0] ${r.name} extracted:`,o[1].value.text.substring(0,200)),o[0].value.text;if("fulfilled"===o[0].status)return console.log(`[v0] Only ${a.name} succeeded`),o[0].value.text;if("fulfilled"===o[1].status)return console.log(`[v0] Only ${r.name} succeeded, using fallback`),o[1].value.text;throw Error("Both models failed to extract")}async function b(e){try{let t,{fileData:a,fileName:r,mimeType:o,userId:i}=await e.json();if(console.log("[v0] Extracting data from document:",r),console.log("[v0] File type:",o),!a)throw Error("No file data provided");let n=3*a.length/4/1048576;if(console.log(`[v0] File size: ${n.toFixed(2)} MB`),n>10)throw Error("File too large. Maximum size is 10MB. Please compress or split the document.");let s=`data:${o};base64,${a}`,l=`You are an expert tax document analyst with OCR capabilities.

Analyze this tax document image/PDF and extract ALL relevant information.

CRITICAL INSTRUCTIONS:
1. If the document contains PLACEHOLDER/TEMPLATE data (like "John Doe", "Test Company", "123-45-6789", "Sample Corp", etc.), you MUST set "isTemplateData": true in your response
2. If the document appears to be a real tax document with actual taxpayer information, set "isTemplateData": false
3. Extract the actual values you see, but flag if they appear to be examples/templates
4. IMPORTANT: Distinguish between SSN (Social Security Number) and EIN (Employer Identification Number):
   - SSN: Individual taxpayer ID (employee/contractor) - format XXX-XX-XXXX
   - EIN: Business/employer ID - format XX-XXXXXXX
   - For 1099-NEC: recipient uses SSN (individual) or EIN (if recipient is a business)
   - Look for labels like "Social Security Number" vs "Employer ID Number" or "Tax ID"
5. For addresses: Include apartment numbers, unit numbers, suite numbers as part of the street address. DO NOT drop them.

CRITICAL ADDRESS EXTRACTION RULES:
- ALWAYS preserve complete addresses including apartment/unit/suite numbers
- Example: "480 Cedar Lane, Apt 2B, Springfield, IL 62704" should extract:
  * street: "480 Cedar Lane, Apt 2B"
  * city: "Springfield" (extract the ACTUAL city from the document)
  * state: "IL"
  * zipCode: "62704"
- DO NOT invent city names - extract exactly what's written in the document
- DO NOT use generic cities like "San Francisco" unless that's what the document actually says
- Parse carefully: Street Address | City | State | ZIP

Identify the document type:
- "w2" for W-2 Wage and Tax Statement
- "1099-nec" for 1099-NEC (Nonemployee Compensation)
- "1099-misc" for 1099-MISC (Miscellaneous Income)
- "1099-int" for 1099-INT (Interest Income)
- "1099-div" for 1099-DIV (Dividends and Distributions)
- "1099-g" for 1099-G (Government Payments/Unemployment Compensation)
- "1099-r" for 1099-R (Retirement Distributions)
- "1099-k" for 1099-K (Payment Card and Third Party Network Transactions)
- "receipt" for expense receipts
- "other" if it doesn't match any of the above

Extract ALL visible data from the document:

For W-2:
- employer_name, employer_ein, employer_address (FULL address including apt/suite)
- employee_name, employee_ssn, employee_address (FULL address including apt/suite)
- IMPORTANT: Parse addresses to extract city EXACTLY as shown in document
- tax_year
- wages (Box 1), federal_tax_withheld (Box 2)
- social_security_wages (Box 3), social_security_tax_withheld (Box 4)
- medicare_wages (Box 5), medicare_tax_withheld (Box 6)
- state, state_wages, state_tax_withheld

For 1099-NEC:
- payer_name, payer_ein, payer_address
- recipient_name, recipient_tin, recipient_address  
- tax_year
- compensation (Box 1) - REQUIRED, this is the nonemployee compensation amount
- federal_tax_withheld (Box 4)
- state_tax_withheld (Box 5)
- state_payers_state_no (Box 6)
- state_income (Box 7)

CRITICAL EXTRACTION RULES:
- For recipient/contractor on 1099-NEC: Extract as "ssn" if it's an individual SSN, extract as "ein" if it's a business EIN
- Look at the box labels carefully: "TIN" or "SSN" typically means Social Security Number
- "EIN" or "Employer ID" means Employer Identification Number
- If you see a 9-digit number without clear labeling, assume SSN for individuals, EIN for businesses
- Never mask/hide the actual numbers - extract them exactly as shown
- If numbers are already masked (XX-XXXXXXX), note this in confidence score
- EXTRACT THE ACTUAL CITY NAME from the document - do not substitute or guess

Rules:
- Set "isTemplateData": true if the document contains placeholder/sample values
- Set "confidence" between 0 and 1 based on extraction quality
- Extract REAL values exactly as they appear
- If you can't read a field clearly, omit it
- Be accurate with numbers - these are used for tax filing
- Always include documentType, taxYear, isTemplateData, and confidence
- For 1099-NEC: ALWAYS include "compensation" field at root level (Box 1)
- Return ONLY the JSON object, nothing else
- DO NOT wrap in markdown code blocks
- DO NOT add any explanatory text`;console.log("[v0] Calling AI model for extraction...");try{let e;e=(0,w.isComparisonModeEnabled)()?await _(s,l):await T(s,l),console.log("[v0] AI extraction complete, parsing response..."),console.log("[v0] Raw AI response:",e.substring(0,200));let a=e.trim();a.startsWith("`")&&(a=(a=(a=a.replace(/^```(?:json)?\n?/,"")).replace(/\n?```$/,"")).trim());let r=a.indexOf("{");r>0&&(a=a.substring(r));let o=a.lastIndexOf("}");o>0&&o<a.length-1&&(a=a.substring(0,o+1));try{t=JSON.parse(a),console.log("[v0] Successfully parsed AI response")}catch(e){throw console.error("[v0] Failed to parse AI response as JSON"),Error("AI returned invalid JSON format")}}catch(a){let e=a instanceof Error?a.message:String(a);if(e.includes("Gateway")||e.includes("fetch failed")||e.includes("Failed to fetch")||e.includes("network")||e.includes("timeout")||e.includes("NetworkError")||e.includes("ENOTFOUND")||e.includes("ETIMEDOUT")||e.includes("ECONNRESET")||e.includes("Both models failed to extract")||e.includes("team restrictions")||e.includes("Unable to route")){let a,o;return console.log("[v0] AI extraction unavailable or failed - using intelligent demo mode"),console.log("[v0] Error details:",e),a=r.toLowerCase().includes("w2")||r.toLowerCase().includes("w-2"),o=r.toLowerCase().includes("1099"),t=a?{documentType:"w2",taxYear:2024,isTemplateData:!0,confidence:.85,employer:{name:"Demo Company Inc",ein:"12-3456789",address:"123 Business Park Dr, San Francisco, CA 94105",street:"123 Business Park Dr",city:"San Francisco",state:"CA",zipCode:"94105"},employee:{name:"John Doe",ssn:"XXX-XX-1234",address:"456 Oak Avenue, San Francisco, CA 94102",street:"456 Oak Avenue",city:"San Francisco",state:"CA",zipCode:"94102"},income:{wages:75e3,federalWithholding:8500,socialSecurityWages:75e3,socialSecurityTax:4650,medicareWages:75e3,medicareTax:1087.5,stateWages:75e3,stateTax:3750,state:"CA"}}:o?{documentType:"1099-nec",taxYear:2024,isTemplateData:!0,confidence:.85,payer:{name:"Demo Client LLC",ein:"98-7654321",address:"789 Market Street, San Francisco, CA 94103",street:"789 Market Street",city:"San Francisco",state:"CA",zipCode:"94103"},recipient:{name:"Jane Smith",ssn:"XXX-XX-5678",ein:"",address:"321 Pine Street, San Francisco, CA 94108",street:"321 Pine Street",city:"San Francisco",state:"CA",zipCode:"94108"},compensation:45e3,federalTaxWithheld:0,stateTaxWithheld:0,state:"CA",stateIncome:45e3}:{documentType:"receipt",taxYear:2024,isTemplateData:!0,confidence:.8,merchant:{name:"Demo Office Supplies",address:"555 Supply Way, San Francisco, CA 94104"},transaction:{date:new Date().toISOString().split("T")[0],amount:156.78,category:"Office Supplies",items:["Paper","Pens","Folders"]}},x.NextResponse.json({success:!0,data:t,mode:"demo",message:"AI service temporarily unavailable. Demo values have been pre-filled as a starting point. Please review and update all information before submitting."})}throw a}if(("1099-nec"===t.documentType||"1099-misc"===t.documentType)&&(!t.payer&&(t.payer_name||t.payer_ein)&&(console.log("[v0] Restructuring 1099 data from flat to nested format"),t.payer={name:t.payer_name,ein:t.payer_ein,address:t.payer_address,street:t.payer_address?.street,city:t.payer_address?.city,state:t.payer_address?.state,zipCode:t.payer_address?.zipCode||t.payer_address?.zip}),!t.recipient&&(t.recipient_name||t.recipient_tin)&&(t.recipient={name:t.recipient_name,ssn:t.recipient_ssn||t.recipient_tin,ein:t.recipient_ein,address:t.recipient_address,street:t.recipient_address?.street,city:t.recipient_address?.city,state:t.recipient_address?.state,zipCode:t.recipient_address?.zipCode||t.recipient_address?.zip}),console.log("[v0] Restructured payer:",t.payer?.name),console.log("[v0] Restructured recipient:",t.recipient?.name)),"w2"===t.documentType){let e=t.employer_name||t.employer?.name,a=t.employer_ein||t.employer?.ein,r=t.employee_name||t.employee?.name,o=t.employee_ssn||t.employee?.ssn||t.employee?.ssn_encrypted,i=void 0!==t.wages||t.income?.wages!==void 0;if(console.log("[v0] W-2 validation:",{hasEmployerData:e,hasEmployerEIN:a,hasEmployeeData:r,hasEmployeeSSN:o,hasWages:i}),!(e&&a&&r&&o&&i))return console.error("[v0] W-2 extraction missing required fields - attempting to use partial data"),x.NextResponse.json({success:!0,data:t,mode:"ai",warning:"Some W-2 fields may be incomplete. Please review and fill in missing information before submitting."})}else if("1099-nec"===t.documentType||"1099-misc"===t.documentType){if(!(t.payer?.name&&t.payer?.ein&&t.recipient?.name&&(t.recipient?.ssn||t.recipient?.ein)&&(void 0!==t.compensation||t.income?.nonemployeeCompensation!==void 0)))throw console.error("[v0] 1099 extraction missing required fields"),console.error("[v0] Payer:",t.payer?.name),console.error("[v0] Recipient:",t.recipient?.name),console.error("[v0] Compensation:",t.compensation),Error("Could not extract all required 1099 data. Please ensure the document is clear and all fields are visible, especially Box 1 (Nonemployee Compensation).")}else if(("1099-g"===t.documentType||"1099-int"===t.documentType||"1099-div"===t.documentType||"1099-r"===t.documentType||"1099-k"===t.documentType)&&!(t.payer?.name&&t.recipient?.name))throw console.error("[v0] 1099 extraction missing required fields"),Error("Could not extract all required 1099 data. Please ensure the document is clear and all fields are visible.");if(t.employer?.address||t.employer_address){let e=t.employer?.address||t.employer_address;if("object"==typeof e&&null!==e)t.employer?(t.employer.street=e.street||e.address,t.employer.city=e.city,t.employer.state=e.state,t.employer.zipCode=e.zipCode||e.zip):(t.employer_street=e.street||e.address,t.employer_city=e.city,t.employer_state=e.state,t.employer_zip=e.zipCode||e.zip);else if("string"==typeof e){let a=E(e);a&&(t.employer?(t.employer.street=a.street||e,t.employer.city=a.city,t.employer.state=a.state,t.employer.zipCode=a.zipCode):(t.employer_street=a.street||e,t.employer_city=a.city,t.employer_state=a.state,t.employer_zip=a.zipCode))}}if(t.employee?.address||t.employee_address){let e=t.employee?.address||t.employee_address;if("object"==typeof e&&null!==e)t.employee?(t.employee.street=e.street||e.address,t.employee.city=e.city,t.employee.state=e.state,t.employee.zipCode=e.zipCode||e.zip):(t.employee_street=e.street||e.address,t.employee_city=e.city,t.employee_state=e.state,t.employee_zip=e.zipCode||e.zip);else if("string"==typeof e){let a=E(e);a&&(t.employee?(t.employee.street=a.street||e,t.employee.city=a.city,t.employee.state=a.state,t.employee.zipCode=a.zipCode):(t.employee_street=a.street||e,t.employee_city=a.city,t.employee_state=a.state,t.employee_zip=a.zipCode))}}if(t.payer?.address){let e=t.payer.address;if("object"==typeof e&&null!==e)t.payer.street=e.street||e.address,t.payer.city=e.city,t.payer.state=e.state,t.payer.zipCode=e.zipCode||e.zip;else if("string"==typeof e){let a=E(e);a&&(t.payer.street=a.street||e,t.payer.city=a.city,t.payer.state=a.state,t.payer.zipCode=a.zipCode)}}if(t.recipient?.address){let e=t.recipient.address;if("object"==typeof e&&null!==e)t.recipient.street=e.street||e.address,t.recipient.city=e.city,t.recipient.state=e.state,t.recipient.zipCode=e.zipCode||e.zip;else if("string"==typeof e){let a=E(e);a&&(t.recipient.street=a.street||e,t.recipient.city=a.city,t.recipient.state=a.state,t.recipient.zipCode=a.zipCode)}}if(!0===t.isTemplateData)return console.log("[v0] Template/demo document detected by AI"),x.NextResponse.json({success:!0,data:t,mode:"template",message:"This appears to be a sample document with template data. Please review and update with actual information before filing."});return console.log("[v0] Real document data extracted successfully"),console.log("[v0] Document type:",t.documentType),console.log("[v0] Tax year:",t.taxYear),x.NextResponse.json({success:!0,data:t,mode:"ai"})}catch(a){console.error("[v0] Document extraction error:",a);let e="Failed to extract document data",t=a instanceof Error?a.message:String(a);return t.includes("Gateway")||t.includes("timeout")||t.includes("fetch failed")||t.includes("network")?e="Unable to connect to AI service. The system will use demo data as a starting point - please review and update all fields.":t.includes("File too large")?e=t:t.includes("invalid JSON")&&(e="Could not understand the document format. Please ensure it's a clear, readable tax document (W-2, 1099, etc.)"),x.NextResponse.json({success:!1,error:e},{status:500})}}e.s(["POST",0,b],216128);var S=e.i(216128);let R=new t.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/filing/extract-document/route",pathname:"/api/filing/extract-document",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/taxu-platform/v0-taxu-landing-page/app/api/filing/extract-document/route.ts",nextConfigOutput:"",userland:S}),{workAsyncStorage:A,workUnitAsyncStorage:N,serverHooks:I}=R;async function O(e,t,r){R.isDev&&(0,o.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let x="/api/filing/extract-document/route";x=x.replace(/\/index$/,"")||"/";let v=await R.prepare(e,t,{srcPage:x,multiZoneDraftMode:!1});if(!v)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:C,params:E,nextConfig:w,parsedUrl:T,isDraftMode:_,prerenderManifest:b,routerServerContext:S,isOnDemandRevalidate:A,revalidateOnlyGenerated:N,resolvedPathname:I,clientReferenceManifest:O,serverActionsManifest:D}=v,P=(0,s.normalizeAppPath)(x),k=!!(b.dynamicRoutes[P]||b.routes[I]),z=async()=>((null==S?void 0:S.render404)?await S.render404(e,t,T,!1):t.end("This page could not be found"),null);if(k&&!_){let e=!!b.routes[I],t=b.dynamicRoutes[P];if(t&&!1===t.fallback&&!e){if(w.experimental.adapterPath)return await z();throw new g.NoFallbackError}}let X=null;!k||R.isDev||_||(X="/index"===(X=I)?"/":X);let F=!0===R.isDev||!k,L=k&&!F;D&&O&&(0,n.setManifestsSingleton)({page:x,clientReferenceManifest:O,serverActionsManifest:D});let M=e.method||"GET",U=(0,i.getTracer)(),$=U.getActiveScopeSpan(),B={params:E,prerenderManifest:b,renderOpts:{experimental:{authInterrupts:!!w.experimental.authInterrupts},cacheComponents:!!w.cacheComponents,supportsDynamicResponse:F,incrementalCache:(0,o.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:w.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,a,r,o)=>R.onRequestError(e,t,r,o,S)},sharedContext:{buildId:C}},W=new l.NodeNextRequest(e),q=new l.NodeNextResponse(t),j=c.NextRequestAdapter.fromNodeNextRequest(W,(0,c.signalFromNodeResponse)(t));try{let n=async e=>R.handle(j,B).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let a=U.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let r=a.get("next.route");if(r){let t=`${M} ${r}`;e.setAttributes({"next.route":r,"http.route":r,"next.span_name":t}),e.updateName(t)}else e.updateName(`${M} ${x}`)}),s=!!(0,o.getRequestMeta)(e,"minimalMode"),l=async o=>{var i,l;let c=async({previousCacheEntry:a})=>{try{if(!s&&A&&N&&!a)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let i=await n(o);e.fetchMetrics=B.renderOpts.fetchMetrics;let l=B.renderOpts.pendingWaitUntil;l&&r.waitUntil&&(r.waitUntil(l),l=void 0);let c=B.renderOpts.collectedTags;if(!k)return await (0,u.sendResponse)(W,q,i,B.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),t=(0,m.toNodeOutgoingHttpHeaders)(i.headers);c&&(t[f.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let a=void 0!==B.renderOpts.collectedRevalidate&&!(B.renderOpts.collectedRevalidate>=f.INFINITE_CACHE)&&B.renderOpts.collectedRevalidate,r=void 0===B.renderOpts.collectedExpire||B.renderOpts.collectedExpire>=f.INFINITE_CACHE?void 0:B.renderOpts.collectedExpire;return{value:{kind:h.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:a,expire:r}}}}catch(t){throw(null==a?void 0:a.isStale)&&await R.onRequestError(e,t,{routerKind:"App Router",routePath:x,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:L,isOnDemandRevalidate:A})},!1,S),t}},d=await R.handleResponse({req:e,nextConfig:w,cacheKey:X,routeKind:a.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:b,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:N,responseGenerator:c,waitUntil:r.waitUntil,isMinimalMode:s});if(!k)return null;if((null==d||null==(i=d.value)?void 0:i.kind)!==h.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",A?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),_&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let g=(0,m.fromNodeOutgoingHttpHeaders)(d.value.headers);return s&&k||g.delete(f.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||g.get("Cache-Control")||g.set("Cache-Control",(0,y.getCacheControlHeader)(d.cacheControl)),await (0,u.sendResponse)(W,q,new Response(d.value.body,{headers:g,status:d.value.status||200})),null};$?await l($):await U.withPropagatedContext(e.headers,()=>U.trace(d.BaseServerSpan.handleRequest,{spanName:`${M} ${x}`,kind:i.SpanKind.SERVER,attributes:{"http.method":M,"http.target":e.url}},l))}catch(t){if(t instanceof g.NoFallbackError||await R.onRequestError(e,t,{routerKind:"App Router",routePath:P,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:L,isOnDemandRevalidate:A})},!1,S),k)throw t;return await (0,u.sendResponse)(W,q,new Response(null,{status:500})),null}}e.s(["handler",0,O,"patchFetch",0,function(){return(0,r.patchFetch)({workAsyncStorage:A,workUnitAsyncStorage:N})},"routeModule",0,R,"serverHooks",0,I,"workAsyncStorage",0,A,"workUnitAsyncStorage",0,N],539314)}];

//# sourceMappingURL=9f3ab_next_dist_esm_build_templates_app-route_f88ad65f.js.map