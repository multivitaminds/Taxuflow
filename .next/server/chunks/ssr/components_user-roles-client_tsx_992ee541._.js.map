{"version":3,"sources":["../../../../components/user-roles-client.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Label } from \"@/components/ui/label\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Shield, Users, Eye, Edit, DollarSign, FileText, Settings, Plus, Trash2, Lock, Database } from \"lucide-react\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport Link from \"next/link\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Badge } from \"@/components/ui/badge\"\n\ninterface Permission {\n  id: string\n  name: string\n  description: string\n  icon: any\n  category: string\n}\n\ninterface FieldPermission {\n  field: string\n  module: string\n  canView: boolean\n  canEdit: boolean\n}\n\ninterface Role {\n  id: string\n  name: string\n  description: string\n  userCount: number\n  isCustom: boolean\n  permissions: Record<string, boolean>\n  fieldPermissions: FieldPermission[]\n}\n\nconst availablePermissions: Permission[] = [\n  { id: \"view_reports\", name: \"View Reports\", description: \"Access financial reports\", icon: Eye, category: \"Reports\" },\n  {\n    id: \"export_reports\",\n    name: \"Export Reports\",\n    description: \"Download and export reports\",\n    icon: FileText,\n    category: \"Reports\",\n  },\n  {\n    id: \"edit_transactions\",\n    name: \"Edit Transactions\",\n    description: \"Create and modify transactions\",\n    icon: Edit,\n    category: \"Transactions\",\n  },\n  {\n    id: \"delete_transactions\",\n    name: \"Delete Transactions\",\n    description: \"Remove transactions\",\n    icon: Trash2,\n    category: \"Transactions\",\n  },\n  {\n    id: \"approve_payments\",\n    name: \"Approve Payments\",\n    description: \"Approve payment requests\",\n    icon: DollarSign,\n    category: \"Payments\",\n  },\n  {\n    id: \"process_payments\",\n    name: \"Process Payments\",\n    description: \"Execute payments\",\n    icon: DollarSign,\n    category: \"Payments\",\n  },\n  {\n    id: \"manage_invoices\",\n    name: \"Manage Invoices\",\n    description: \"Create and send invoices\",\n    icon: FileText,\n    category: \"Invoices\",\n  },\n  { id: \"void_invoices\", name: \"Void Invoices\", description: \"Cancel invoices\", icon: FileText, category: \"Invoices\" },\n  {\n    id: \"manage_customers\",\n    name: \"Manage Customers\",\n    description: \"Create and edit customers\",\n    icon: Users,\n    category: \"Customers\",\n  },\n  {\n    id: \"view_customer_details\",\n    name: \"View Customer Details\",\n    description: \"Access customer information\",\n    icon: Eye,\n    category: \"Customers\",\n  },\n  {\n    id: \"manage_vendors\",\n    name: \"Manage Vendors\",\n    description: \"Create and edit vendors\",\n    icon: Users,\n    category: \"Vendors\",\n  },\n  {\n    id: \"manage_products\",\n    name: \"Manage Products\",\n    description: \"Create and edit products\",\n    icon: Database,\n    category: \"Products\",\n  },\n  {\n    id: \"manage_settings\",\n    name: \"Manage Settings\",\n    description: \"Configure system settings\",\n    icon: Settings,\n    category: \"Settings\",\n  },\n  { id: \"manage_users\", name: \"Manage Users\", description: \"Add and remove users\", icon: Users, category: \"Settings\" },\n]\n\nconst fieldLevelOptions = [\n  { module: \"Invoices\", field: \"Amount\", description: \"Invoice total amount\" },\n  { module: \"Invoices\", field: \"Customer Name\", description: \"Customer information\" },\n  { module: \"Invoices\", field: \"Payment Terms\", description: \"Payment terms and conditions\" },\n  { module: \"Customers\", field: \"Credit Limit\", description: \"Customer credit limit\" },\n  { module: \"Customers\", field: \"Payment History\", description: \"Historical payment data\" },\n  { module: \"Transactions\", field: \"Amount\", description: \"Transaction amount\" },\n  { module: \"Transactions\", field: \"Account\", description: \"Associated account\" },\n  { module: \"Employees\", field: \"Salary\", description: \"Employee compensation\" },\n  { module: \"Employees\", field: \"Bank Details\", description: \"Banking information\" },\n]\n\nexport function UserRolesClient() {\n  const { toast } = useToast()\n  const [roles, setRoles] = useState<Role[]>([\n    {\n      id: \"admin\",\n      name: \"Administrator\",\n      description: \"Full access to all features\",\n      userCount: 2,\n      isCustom: false,\n      permissions: {\n        view_reports: true,\n        export_reports: true,\n        edit_transactions: true,\n        delete_transactions: true,\n        approve_payments: true,\n        process_payments: true,\n        manage_invoices: true,\n        void_invoices: true,\n        manage_customers: true,\n        view_customer_details: true,\n        manage_vendors: true,\n        manage_products: true,\n        manage_settings: true,\n        manage_users: true,\n      },\n      fieldPermissions: fieldLevelOptions.map((f) => ({\n        field: f.field,\n        module: f.module,\n        canView: true,\n        canEdit: true,\n      })),\n    },\n    {\n      id: \"accountant\",\n      name: \"Accountant\",\n      description: \"Can manage transactions and view reports\",\n      userCount: 5,\n      isCustom: false,\n      permissions: {\n        view_reports: true,\n        export_reports: true,\n        edit_transactions: true,\n        delete_transactions: false,\n        approve_payments: false,\n        process_payments: true,\n        manage_invoices: true,\n        void_invoices: false,\n        manage_customers: true,\n        view_customer_details: true,\n        manage_vendors: true,\n        manage_products: true,\n        manage_settings: false,\n        manage_users: false,\n      },\n      fieldPermissions: fieldLevelOptions.map((f) => ({\n        field: f.field,\n        module: f.module,\n        canView: true,\n        canEdit: !f.field.includes(\"Salary\") && !f.field.includes(\"Bank Details\"),\n      })),\n    },\n    {\n      id: \"viewer\",\n      name: \"Viewer\",\n      description: \"Read-only access to reports\",\n      userCount: 12,\n      isCustom: false,\n      permissions: {\n        view_reports: true,\n        export_reports: false,\n        edit_transactions: false,\n        delete_transactions: false,\n        approve_payments: false,\n        process_payments: false,\n        manage_invoices: false,\n        void_invoices: false,\n        manage_customers: false,\n        view_customer_details: true,\n        manage_vendors: false,\n        manage_products: false,\n        manage_settings: false,\n        manage_users: false,\n      },\n      fieldPermissions: fieldLevelOptions.map((f) => ({\n        field: f.field,\n        module: f.module,\n        canView: !f.field.includes(\"Salary\") && !f.field.includes(\"Bank Details\") && !f.field.includes(\"Credit Limit\"),\n        canEdit: false,\n      })),\n    },\n  ])\n\n  const [selectedRole, setSelectedRole] = useState<Role>(roles[0])\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false)\n  const [newRoleName, setNewRoleName] = useState(\"\")\n  const [newRoleDescription, setNewRoleDescription] = useState(\"\")\n\n  const togglePermission = (permissionId: string) => {\n    const updatedRole = {\n      ...selectedRole,\n      permissions: {\n        ...selectedRole.permissions,\n        [permissionId]: !selectedRole.permissions[permissionId],\n      },\n    }\n    setSelectedRole(updatedRole)\n    setRoles(roles.map((r) => (r.id === updatedRole.id ? updatedRole : r)))\n    toast({ title: \"Permission updated\", description: \"Role permissions have been saved.\" })\n  }\n\n  const toggleFieldPermission = (module: string, field: string, type: \"view\" | \"edit\") => {\n    const updatedFieldPermissions = selectedRole.fieldPermissions.map((fp) => {\n      if (fp.module === module && fp.field === field) {\n        if (type === \"view\") {\n          return { ...fp, canView: !fp.canView, canEdit: !fp.canView ? fp.canEdit : false }\n        } else {\n          return { ...fp, canEdit: !fp.canEdit }\n        }\n      }\n      return fp\n    })\n\n    const updatedRole = {\n      ...selectedRole,\n      fieldPermissions: updatedFieldPermissions,\n    }\n    setSelectedRole(updatedRole)\n    setRoles(roles.map((r) => (r.id === updatedRole.id ? updatedRole : r)))\n    toast({ title: \"Field permission updated\", description: \"Field-level security has been saved.\" })\n  }\n\n  const createCustomRole = () => {\n    if (!newRoleName.trim()) {\n      toast({ title: \"Error\", description: \"Role name is required\", variant: \"destructive\" })\n      return\n    }\n\n    const newRole: Role = {\n      id: `custom_${Date.now()}`,\n      name: newRoleName,\n      description: newRoleDescription,\n      userCount: 0,\n      isCustom: true,\n      permissions: Object.fromEntries(availablePermissions.map((p) => [p.id, false])),\n      fieldPermissions: fieldLevelOptions.map((f) => ({\n        field: f.field,\n        module: f.module,\n        canView: false,\n        canEdit: false,\n      })),\n    }\n\n    setRoles([...roles, newRole])\n    setSelectedRole(newRole)\n    setNewRoleName(\"\")\n    setNewRoleDescription(\"\")\n    setIsCreateDialogOpen(false)\n    toast({ title: \"Role created\", description: `${newRoleName} has been created successfully.` })\n  }\n\n  const deleteRole = (roleId: string) => {\n    const role = roles.find((r) => r.id === roleId)\n    if (!role?.isCustom) {\n      toast({ title: \"Error\", description: \"Cannot delete system roles\", variant: \"destructive\" })\n      return\n    }\n\n    setRoles(roles.filter((r) => r.id !== roleId))\n    setSelectedRole(roles[0])\n    toast({ title: \"Role deleted\", description: \"Custom role has been removed.\" })\n  }\n\n  const permissionsByCategory = availablePermissions.reduce(\n    (acc, permission) => {\n      if (!acc[permission.category]) {\n        acc[permission.category] = []\n      }\n      acc[permission.category].push(permission)\n      return acc\n    },\n    {} as Record<string, Permission[]>,\n  )\n\n  return (\n    <div className=\"min-h-screen bg-background p-8 space-y-8\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <Link\n            href=\"/accounting/settings\"\n            className=\"text-sm text-muted-foreground hover:text-foreground mb-2 inline-block\"\n          >\n            ‚Üê Back to Settings\n          </Link>\n          <h1 className=\"text-3xl font-bold tracking-tight\">User Roles & Permissions</h1>\n          <p className=\"text-muted-foreground mt-2\">Configure access control and field-level security</p>\n        </div>\n        <Dialog open={isCreateDialogOpen} onOpenChange={setIsCreateDialogOpen}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-[#635bff] hover:bg-[#5851df] text-white\">\n              <Plus className=\"mr-2 h-4 w-4\" />\n              Create Custom Role\n            </Button>\n          </DialogTrigger>\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>Create Custom Role</DialogTitle>\n              <DialogDescription>Define a new role with specific permissions</DialogDescription>\n            </DialogHeader>\n            <div className=\"space-y-4 py-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"roleName\">Role Name</Label>\n                <Input\n                  id=\"roleName\"\n                  placeholder=\"e.g., Sales Manager\"\n                  value={newRoleName}\n                  onChange={(e) => setNewRoleName(e.target.value)}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"roleDescription\">Description</Label>\n                <Textarea\n                  id=\"roleDescription\"\n                  placeholder=\"Describe what this role can do...\"\n                  value={newRoleDescription}\n                  onChange={(e) => setNewRoleDescription(e.target.value)}\n                />\n              </div>\n              <Button onClick={createCustomRole} className=\"w-full\">\n                Create Role\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      <div className=\"grid gap-6 md:grid-cols-3\">\n        <Card className=\"p-6 md:col-span-1\">\n          <h2 className=\"text-lg font-semibold mb-4\">Roles</h2>\n          <div className=\"space-y-2\">\n            {roles.map((role) => (\n              <div key={role.id} className=\"relative group\">\n                <button\n                  onClick={() => setSelectedRole(role)}\n                  className={`w-full text-left p-4 rounded-lg border transition-all ${\n                    selectedRole.id === role.id\n                      ? \"border-[#635bff] bg-[#635bff]/5\"\n                      : \"border-border hover:border-[#635bff]/50\"\n                  }`}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <Shield className=\"h-5 w-5 text-[#635bff]\" />\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2\">\n                        <h3 className=\"font-medium\">{role.name}</h3>\n                        {role.isCustom && (\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            Custom\n                          </Badge>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-muted-foreground\">{role.userCount} users</p>\n                    </div>\n                  </div>\n                </button>\n                {role.isCustom && (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\"\n                    onClick={(e) => {\n                      e.stopPropagation()\n                      deleteRole(role.id)\n                    }}\n                  >\n                    <Trash2 className=\"h-4 w-4 text-destructive\" />\n                  </Button>\n                )}\n              </div>\n            ))}\n          </div>\n        </Card>\n\n        <Card className=\"p-6 md:col-span-2\">\n          <div className=\"mb-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-lg font-semibold\">{selectedRole.name}</h2>\n                <p className=\"text-sm text-muted-foreground\">{selectedRole.description}</p>\n              </div>\n              <Button variant=\"outline\" asChild>\n                <Link href={`/accounting/permissions/${selectedRole.id}/users`}>\n                  <Users className=\"mr-2 h-4 w-4\" />\n                  Manage Users\n                </Link>\n              </Button>\n            </div>\n          </div>\n\n          <Tabs defaultValue=\"module\" className=\"space-y-4\">\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"module\">Module Permissions</TabsTrigger>\n              <TabsTrigger value=\"field\">Field-Level Security</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"module\" className=\"space-y-4\">\n              {Object.entries(permissionsByCategory).map(([category, permissions]) => (\n                <div key={category} className=\"space-y-3\">\n                  <h3 className=\"text-sm font-semibold text-muted-foreground\">{category}</h3>\n                  <div className=\"space-y-2\">\n                    {permissions.map((permission) => {\n                      const Icon = permission.icon\n                      return (\n                        <div key={permission.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"w-10 h-10 bg-[#635bff]/10 rounded-lg flex items-center justify-center\">\n                              <Icon className=\"h-5 w-5 text-[#635bff]\" />\n                            </div>\n                            <div>\n                              <Label htmlFor={permission.id} className=\"font-medium cursor-pointer\">\n                                {permission.name}\n                              </Label>\n                              <p className=\"text-sm text-muted-foreground\">{permission.description}</p>\n                            </div>\n                          </div>\n                          <Switch\n                            id={permission.id}\n                            checked={selectedRole.permissions[permission.id] || false}\n                            onCheckedChange={() => togglePermission(permission.id)}\n                          />\n                        </div>\n                      )\n                    })}\n                  </div>\n                </div>\n              ))}\n            </TabsContent>\n\n            <TabsContent value=\"field\" className=\"space-y-4\">\n              <div className=\"flex items-center gap-2 p-4 bg-muted/50 rounded-lg\">\n                <Lock className=\"h-5 w-5 text-[#635bff]\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Field-Level Security</p>\n                  <p className=\"text-xs text-muted-foreground\">Control access to specific fields within modules</p>\n                </div>\n              </div>\n\n              {Object.entries(\n                fieldLevelOptions.reduce(\n                  (acc, option) => {\n                    if (!acc[option.module]) acc[option.module] = []\n                    acc[option.module].push(option)\n                    return acc\n                  },\n                  {} as Record<string, typeof fieldLevelOptions>,\n                ),\n              ).map(([module, fields]) => (\n                <div key={module} className=\"space-y-3\">\n                  <h3 className=\"text-sm font-semibold text-muted-foreground flex items-center gap-2\">\n                    <Database className=\"h-4 w-4\" />\n                    {module}\n                  </h3>\n                  <div className=\"space-y-2\">\n                    {fields.map((fieldOption) => {\n                      const fieldPerm = selectedRole.fieldPermissions.find(\n                        (fp) => fp.module === fieldOption.module && fp.field === fieldOption.field,\n                      )\n                      return (\n                        <div key={`${fieldOption.module}-${fieldOption.field}`} className=\"p-4 border rounded-lg\">\n                          <div className=\"flex items-center justify-between mb-3\">\n                            <div>\n                              <Label className=\"font-medium\">{fieldOption.field}</Label>\n                              <p className=\"text-sm text-muted-foreground\">{fieldOption.description}</p>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center gap-6\">\n                            <div className=\"flex items-center gap-2\">\n                              <Switch\n                                id={`${fieldOption.module}-${fieldOption.field}-view`}\n                                checked={fieldPerm?.canView || false}\n                                onCheckedChange={() =>\n                                  toggleFieldPermission(fieldOption.module, fieldOption.field, \"view\")\n                                }\n                              />\n                              <Label\n                                htmlFor={`${fieldOption.module}-${fieldOption.field}-view`}\n                                className=\"text-sm cursor-pointer\"\n                              >\n                                <Eye className=\"h-4 w-4 inline mr-1\" />\n                                Can View\n                              </Label>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <Switch\n                                id={`${fieldOption.module}-${fieldOption.field}-edit`}\n                                checked={fieldPerm?.canEdit || false}\n                                disabled={!fieldPerm?.canView}\n                                onCheckedChange={() =>\n                                  toggleFieldPermission(fieldOption.module, fieldOption.field, \"edit\")\n                                }\n                              />\n                              <Label\n                                htmlFor={`${fieldOption.module}-${fieldOption.field}-edit`}\n                                className={`text-sm ${!fieldPerm?.canView ? \"opacity-50\" : \"cursor-pointer\"}`}\n                              >\n                                <Edit className=\"h-4 w-4 inline mr-1\" />\n                                Can Edit\n                              </Label>\n                            </div>\n                          </div>\n                        </div>\n                      )\n                    })}\n                  </div>\n                </div>\n              ))}\n            </TabsContent>\n          </Tabs>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAQA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QA2BA,IAAM,EAAqC,CACzC,CAAE,GAAI,eAAgB,KAAM,eAAgB,YAAa,2BAA4B,KAAM,EAAA,GAAG,CAAE,SAAU,SAAU,EACpH,CACE,GAAI,iBACJ,KAAM,iBACN,YAAa,8BACb,KAAM,EAAA,QAAQ,CACd,SAAU,SACZ,EACA,CACE,GAAI,oBACJ,KAAM,oBACN,YAAa,iCACb,KAAM,EAAA,IAAI,CACV,SAAU,cACZ,EACA,CACE,GAAI,sBACJ,KAAM,sBACN,YAAa,sBACb,KAAM,EAAA,MAAM,CACZ,SAAU,cACZ,EACA,CACE,GAAI,mBACJ,KAAM,mBACN,YAAa,2BACb,KAAM,EAAA,UAAU,CAChB,SAAU,UACZ,EACA,CACE,GAAI,mBACJ,KAAM,mBACN,YAAa,mBACb,KAAM,EAAA,UAAU,CAChB,SAAU,UACZ,EACA,CACE,GAAI,kBACJ,KAAM,kBACN,YAAa,2BACb,KAAM,EAAA,QAAQ,CACd,SAAU,UACZ,EACA,CAAE,GAAI,gBAAiB,KAAM,gBAAiB,YAAa,kBAAmB,KAAM,EAAA,QAAQ,CAAE,SAAU,UAAW,EACnH,CACE,GAAI,mBACJ,KAAM,mBACN,YAAa,4BACb,KAAM,EAAA,KAAK,CACX,SAAU,WACZ,EACA,CACE,GAAI,wBACJ,KAAM,wBACN,YAAa,8BACb,KAAM,EAAA,GAAG,CACT,SAAU,WACZ,EACA,CACE,GAAI,iBACJ,KAAM,iBACN,YAAa,0BACb,KAAM,EAAA,KAAK,CACX,SAAU,SACZ,EACA,CACE,GAAI,kBACJ,KAAM,kBACN,YAAa,2BACb,KAAM,EAAA,QAAQ,CACd,SAAU,UACZ,EACA,CACE,GAAI,kBACJ,KAAM,kBACN,YAAa,4BACb,KAAM,EAAA,QAAQ,CACd,SAAU,UACZ,EACA,CAAE,GAAI,eAAgB,KAAM,eAAgB,YAAa,uBAAwB,KAAM,EAAA,KAAK,CAAE,SAAU,UAAW,EACpH,CAEK,EAAoB,CACxB,CAAE,OAAQ,WAAY,MAAO,SAAU,YAAa,sBAAuB,EAC3E,CAAE,OAAQ,WAAY,MAAO,gBAAiB,YAAa,sBAAuB,EAClF,CAAE,OAAQ,WAAY,MAAO,gBAAiB,YAAa,8BAA+B,EAC1F,CAAE,OAAQ,YAAa,MAAO,eAAgB,YAAa,uBAAwB,EACnF,CAAE,OAAQ,YAAa,MAAO,kBAAmB,YAAa,yBAA0B,EACxF,CAAE,OAAQ,eAAgB,MAAO,SAAU,YAAa,oBAAqB,EAC7E,CAAE,OAAQ,eAAgB,MAAO,UAAW,YAAa,oBAAqB,EAC9E,CAAE,OAAQ,YAAa,MAAO,SAAU,YAAa,uBAAwB,EAC7E,CAAE,OAAQ,YAAa,MAAO,eAAgB,YAAa,qBAAsB,EAClF,0BAEM,SAAS,EACd,GAAM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IACpB,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,CACzC,CACE,GAAI,QACJ,KAAM,gBACN,YAAa,8BACb,UAAW,EACX,UAAU,EACV,YAAa,CACX,cAAc,EACd,gBAAgB,EAChB,mBAAmB,EACnB,qBAAqB,EACrB,kBAAkB,EAClB,kBAAkB,EAClB,gBAAiB,GACjB,eAAe,EACf,kBAAkB,EAClB,uBAAuB,EACvB,gBAAgB,EAChB,iBAAiB,EACjB,iBAAiB,EACjB,cAAc,CAChB,EACA,iBAAkB,EAAkB,GAAG,CAAC,AAAC,IAAO,AAAD,CAC7C,MAAO,EAAE,KAAK,CACd,OAAQ,EAAE,MAAM,CAChB,SAAS,EACT,SAAS,EACX,CAAC,CACH,EACA,CACE,GAAI,aACJ,KAAM,aACN,YAAa,2CACb,UAAW,EACX,SAAU,GACV,YAAa,CACX,cAAc,EACd,gBAAgB,EAChB,mBAAmB,EACnB,qBAAqB,EACrB,kBAAkB,EAClB,kBAAkB,EAClB,iBAAiB,EACjB,eAAe,EACf,kBAAkB,EAClB,uBAAuB,EACvB,gBAAgB,EAChB,iBAAiB,EACjB,iBAAiB,EACjB,cAAc,CAChB,EACA,iBAAkB,EAAkB,GAAG,CAAC,AAAC,GAAO,CAAD,CAC7C,MAAO,EAAE,KAAK,CACd,OAAQ,EAAE,MAAM,CAChB,QAAS,GACT,QAAS,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,WAAa,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,gBAC5D,CAAC,CACH,EACA,CACE,GAAI,SACJ,KAAM,SACN,YAAa,8BACb,UAAW,GACX,UAAU,EACV,YAAa,CACX,cAAc,EACd,gBAAgB,EAChB,mBAAmB,EACnB,qBAAqB,EACrB,kBAAkB,EAClB,kBAAkB,EAClB,iBAAiB,EACjB,eAAe,EACf,kBAAkB,EAClB,uBAAuB,EACvB,gBAAgB,EAChB,iBAAiB,EACjB,iBAAiB,EACjB,cAAc,CAChB,EACA,iBAAkB,EAAkB,GAAG,CAAC,AAAC,IAAM,AAAC,CAC9C,MAAO,EAAE,KAAK,CACd,OAAQ,EAAE,MAAM,CAChB,QAAS,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,WAAa,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,iBAAmB,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,gBAC/F,SAAS,EACX,CAAC,CACH,EACD,EAEK,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAO,CAAK,CAAC,EAAE,EACzD,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAevD,EAAwB,CAAC,EAAgB,EAAe,KAC5D,IAAM,EAA0B,EAAa,gBAAgB,CAAC,GAAG,CAAC,AAAC,IACjE,GAAI,EAAG,MAAM,GAAK,GAAU,EAAG,KAAK,GAAK,EACvC,GAAa,EADiC,MACzB,CAAjB,EACF,MAAO,CAAE,GAAG,CAAE,CAAE,QAAS,CAAC,EAAG,OAAO,CAAE,QAAS,CAAC,EAAG,OAAO,EAAG,EAAG,OAAO,AAAS,GAAN,IAE1E,MAAO,CAAE,GAAG,CAAE,CAAE,QAAS,CAAC,EAAG,OAAO,AAAC,EAGzC,OAAO,CACT,GAEM,EAAc,CAClB,GAAG,CAAY,CACf,iBAAkB,CACpB,EACA,EAAgB,GAChB,EAAS,EAAM,GAAG,CAAC,AAAC,GAAO,EAAE,EAAE,GAAK,EAAY,EAAE,CAAG,EAAc,IACnE,EAAM,CAAE,MAAO,2BAA4B,YAAa,sCAAuC,EACjG,EA2CM,EAAwB,EAAqB,MAAM,CACvD,CAAC,EAAK,KACA,AAAC,CAAG,CAAC,EAAW,QAAQ,CAAC,EAAE,CAC7B,CAAG,CAAC,EAAW,QAAQ,CAAC,CAAG,EAAE,AAAF,EAE7B,CAAG,CAAC,EAAW,QAAQ,CAAC,CAAC,IAAI,CAAC,GACvB,GAET,CAAC,GAGH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,uBACL,UAAU,iFACX,uBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,6BAClD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,yDAE5C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAoB,aAAc,YAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,OAAO,CAAA,CAAA,WACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,uDAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,0BAIrC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAC,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,mDAErB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,oBAAW,cAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,YAAY,sBACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,OAGlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,2BAAkB,gBACjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACP,GAAG,kBACH,YAAY,oCACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAsB,EAAE,MAAM,CAAC,KAAK,OAGzD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAhGK,CAgGI,IA/F3B,GAAI,CAAC,EAAY,IAAI,GAAI,YACvB,EAAM,CAAE,MAAO,QAAS,YAAa,wBAAyB,QAAS,aAAc,GAIvF,IAAM,EAAgB,CACpB,GAAI,CAAC,OAAO,EAAE,KAAK,GAAG,GAAA,CAAI,CAC1B,KAAM,EACN,YAAa,EACb,UAAW,EACX,UAAU,EACV,YAAa,OAAO,WAAW,CAAC,EAAqB,GAAG,CAAC,AAAC,GAAM,CAAC,EAAE,EAAE,EAAE,EAAM,GAC7E,iBAAkB,EAAkB,GAAG,CAAE,AAAD,IAAO,AAAC,CAC9C,MAAO,EAAE,KAAK,CACd,OAAQ,EAAE,MAAM,CAChB,SAAS,EACT,SAAS,EACX,CAAC,CACH,EAEA,EAAS,IAAI,EAAO,EAAQ,EAC5B,EAAgB,GAChB,EAAe,IACf,EAAsB,IACtB,EAAsB,IACtB,EAAM,CAAE,MAAO,eAAgB,YAAa,CAAA,EAAG,EAAY,+BAA+B,CAAC,AAAC,EAC9F,EAqE+C,UAAU,kBAAS,4BAQ9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,8BACd,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA6B,UAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAkB,UAAU,2BAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,GAC/B,UAAW,CAAC,sDAAsD,EAChE,EAAa,EAAE,GAAK,EAAK,EAAE,CACvB,kCACA,0CAAA,CACJ,UAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,2BAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uBAAe,EAAK,IAAI,GACrC,EAAK,QAAQ,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,mBAAU,cAKjD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,EAAK,SAAS,CAAC,oBAIlE,EAAK,QAAQ,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,KACL,UAAU,8EACV,QAAS,AAAC,gBACR,EAAE,eAAe,GA9GjB,EA+GW,EAAK,EAAE,CA9G9B,EAAO,EAAM,IAAI,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,GACnC,AAAL,GAAW,CAAP,SAAiB,AAKrB,EAAS,EAAM,MAAM,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,IACtC,EAAgB,CAAK,CAAC,EAAE,EACxB,EAAM,CAAE,MAAO,eAAgB,YAAa,+BAAgC,IAN1E,EAAM,CAAE,MAAO,QAAS,YAAa,6BAA8B,QAAS,aAAc,EA6G5E,WAEA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,iCAlCd,EAAK,EAAE,QA0CvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,8BACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCAAyB,EAAa,IAAI,GACxD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,EAAa,WAAW,MAExE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,OAAO,CAAA,CAAA,WAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,wBAAwB,EAAE,EAAa,EAAE,CAAC,MAAM,CAAC,WAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,iBAAiB,yBAO1C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,aAAa,SAAS,UAAU,sBACpC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,oCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,kBAAS,uBAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,iBAAQ,4BAG7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,SAAS,UAAU,qBACnC,OAAO,OAAO,CAAC,GAAuB,GAAG,CAAC,CAAC,CAAC,EAAU,EAAY,GACjE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAmB,UAAU,sBAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDAA+C,IAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAY,GAAG,CAAC,AAAC,IAChB,IAAM,EAAO,EAAW,IAAI,CAC5B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAwB,UAAU,oEACjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iFACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,6BAElB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,EAAW,EAAE,CAAE,UAAU,sCACtC,EAAW,IAAI,GAElB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,EAAW,WAAW,SAGxE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAI,EAAW,EAAE,CACjB,QAAS,EAAa,WAAW,CAAC,EAAW,EAAE,CAAC,GAAI,EACpD,gBAAiB,IAAM,oBAtOvB,EAsOwC,EAAW,EAAE,MA9N7E,EAPM,EAAc,CAClB,GAAG,CAAY,CACf,MAKc,MALD,CACX,GAAG,EAAa,WAAW,CAC3B,CAAC,EAAa,CAAE,CAAC,EAAa,WAAW,CAAC,EAAa,AACzD,CACF,GAEA,EAAS,EAAM,GAAG,CAAC,AAAC,GAAO,EAAE,EAAE,GAAK,EAAY,EAAE,CAAG,EAAc,IACnE,EAAM,CAAE,MAAO,qBAAsB,YAAa,mCAAoC,SA6MxD,EAAW,EAAE,CAmB3B,OAzBM,MA+Bd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,QAAQ,UAAU,sBACnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,2BAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAsB,yBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,2DAIhD,OAAO,OAAO,CACb,EAAkB,MAAM,CACtB,CAAC,EAAK,KACA,AAAC,CAAG,CAAC,EAAO,MAAM,CAAC,GAAE,CAAG,CAAC,EAAO,MAAM,CAAC,CAAG,EAAA,AAAE,EAChD,CAAG,CAAC,EAAO,MAAM,CAAC,CAAC,IAAI,CAAC,GACjB,GAET,CAAC,IAEH,GAAG,CAAC,CAAC,CAAC,EAAQ,EAAO,GACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAiB,UAAU,sBAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,gFACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,YACnB,KAEH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAO,GAAG,CAAC,AAAC,IACX,IAAM,EAAY,EAAa,gBAAgB,CAAC,IAAI,CAClD,AAAC,GAAO,EAAG,MAAM,GAAK,EAAY,MAAM,EAAI,EAAG,KAAK,GAAK,EAAY,KAAK,EAE5E,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAuD,UAAU,kCAChE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,uBAAe,EAAY,KAAK,GACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,EAAY,WAAW,QAGzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAI,CAAA,EAAG,EAAY,MAAM,CAAC,CAAC,EAAE,EAAY,KAAK,CAAC,KAAK,CAAC,CACrD,QAAS,GAAW,UAAW,EAC/B,gBAAiB,IACf,EAAsB,EAAY,MAAM,CAAE,EAAY,KAAK,CAAE,UAGjE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,CAAA,EAAG,EAAY,MAAM,CAAC,CAAC,EAAE,EAAY,KAAK,CAAC,KAAK,CAAC,CAC1D,UAAU,mCAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,wBAAwB,iBAI3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAI,CAAA,EAAG,EAAY,MAAM,CAAC,CAAC,EAAE,EAAY,KAAK,CAAC,KAAK,CAAC,CACrD,QAAS,GAAW,UAAW,EAC/B,SAAU,CAAC,GAAW,QACtB,gBAAiB,IACf,EAAsB,EAAY,MAAM,CAAE,EAAY,KAAK,CAAE,UAGjE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,CAAA,EAAG,EAAY,MAAM,CAAC,CAAC,EAAE,EAAY,KAAK,CAAC,KAAK,CAAC,CAC1D,UAAW,CAAC,QAAQ,EAAE,CAAC,GAAW,QAAU,aAAe,iBAAA,CAAkB,WAE7E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,wBAAwB,sBArCtC,CAAA,EAAG,EAAY,MAAM,CAAC,CAAC,EAAE,EAAY,KAAK,CAAA,CAAE,CA4C1D,OAvDM,kBAiE1B"}