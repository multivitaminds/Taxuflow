module.exports=[475560,a=>{"use strict";var b=a.i(108446),c=a.i(117462),d=a.i(703130),e=a.i(340695),f=a.i(254161),g=a.i(435483),h=a.i(738611),i=a.i(322409),j=a.i(674375),k=a.i(583958),l=a.i(197665),m=a.i(318851),n=a.i(748923),o=a.i(277687);a.s(["default",0,function(){let{toast:a}=(0,o.useToast)(),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(new Date().getFullYear());(0,c.useEffect)(()=>{v()},[t]);let v=async()=>{try{let a=await fetch(`/api/form-941/list?year=${t}`),b=await a.json();q(b.filings||[])}catch(a){console.error("[v0] Error fetching 941 filings:",a)}finally{s(!1)}},w=async b=>{a({title:"Creating 941-X",description:"Preparing correction form..."}),window.location.href=`/dashboard/file/941x?original=${b}`};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Total Wages (YTD)"}),(0,b.jsx)(h.DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",p.reduce((a,b)=>a+(b.wages_tips_compensation||0),0).toLocaleString()]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Total Taxes (YTD)"}),(0,b.jsx)(k.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",p.reduce((a,b)=>a+(b.total_taxes_after_adjustments||0),0).toLocaleString()]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Total Deposits (YTD)"}),(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",p.reduce((a,b)=>a+(b.total_deposits_quarter||0),0).toLocaleString()]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Balance Due (YTD)"}),(0,b.jsx)(i.AlertTriangle,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",p.reduce((a,b)=>a+(b.balance_due||0),0).toLocaleString()]})})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{children:["Quarterly 941 Filings - ",t]}),(0,b.jsx)(d.CardDescription,{children:"Track your quarterly payroll tax returns"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:[1,2,3,4].map(a=>{let c=p.find(b=>b.quarter===a),d={1:`${t}-04-30`,2:`${t}-07-31`,3:`${t}-10-31`,4:`${t+1}-01-31`}[a],h=!c?.filed_at&&new Date(d)<new Date;return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-purple-500/20 to-orange-500/20",children:(0,b.jsxs)("span",{className:"text-lg font-bold",children:["Q",a]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-semibold",children:["Quarter ",a," - ",t]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(g.Calendar,{className:"h-3 w-3"}),"Due: ",d,h&&(0,b.jsx)(f.Badge,{variant:"destructive",className:"ml-2",children:"Overdue"})]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-sm font-medium",children:["$",c.total_taxes_after_adjustments?.toLocaleString()||"0"]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Total Taxes"})]}),(0,b.jsx)(f.Badge,{className:(a=>{switch(a){case"accepted":return"bg-green-500/10 text-green-500 border-green-500/20";case"submitted":return"bg-blue-500/10 text-blue-500 border-blue-500/20";case"draft":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"rejected":return"bg-red-500/10 text-red-500 border-red-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}})(c.filing_status),children:c.filing_status}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{size:"sm",variant:"outline",onClick:()=>w(c.id),children:[(0,b.jsx)(n.Edit,{className:"h-4 w-4 mr-1"}),"Correct"]}),(0,b.jsxs)(e.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(m.Download,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}):(0,b.jsxs)(e.Button,{onClick:()=>window.location.href=`/dashboard/file/941?year=${t}&quarter=${a}`,className:"bg-gradient-to-r from-purple-600 to-orange-600",children:[(0,b.jsx)(l.FileText,{className:"h-4 w-4 mr-2"}),"File Q",a]})})]},a)})})})]})]})}])},561197,a=>{"use strict";var b=a.i(108446),c=a.i(117462),d=a.i(703130),e=a.i(340695),f=a.i(205522),g=a.i(917171),h=a.i(254161),i=a.i(277687),j=a.i(435483),k=a.i(738611),l=a.i(100715),m=a.i(965733);a.s(["default",0,function({taxYear:a,quarter:n}){let{toast:o}=(0,i.useToast)(),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)({deposit_amount:"",deposit_date:"",scheduled_date:"",federal_income_tax:"",social_security_tax:"",medicare_tax:""});(0,c.useEffect)(()=>{x()},[a,n]);let x=async()=>{try{let b=await fetch(`/api/form-941/eftps/list?tax_year=${a}&quarter=${n}`),c=await b.json();q(c.deposits||[])}catch(a){console.error("[v0] Error fetching EFTPS deposits:",a)}finally{s(!1)}},y=async()=>{try{let b=await fetch("/api/form-941/eftps/schedule-deposit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...v,quarter:n,tax_year:a,deposit_amount:Number.parseFloat(v.deposit_amount),federal_income_tax:Number.parseFloat(v.federal_income_tax)||0,social_security_tax:Number.parseFloat(v.social_security_tax)||0,medicare_tax:Number.parseFloat(v.medicare_tax)||0})}),c=await b.json();if(c.success)o({title:"Deposit Scheduled",description:"Your EFTPS deposit has been scheduled successfully."}),u(!1),x();else throw Error(c.error)}catch(a){o({title:"Error",description:a.message,variant:"destructive"})}},z=p.reduce((a,b)=>a+b.deposit_amount,0);return(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:"EFTPS Deposit Tracker"}),(0,b.jsxs)(d.CardDescription,{children:["Track your Electronic Federal Tax Payment System deposits for Q",n," ",a]})]}),(0,b.jsxs)(m.Dialog,{open:t,onOpenChange:u,children:[(0,b.jsx)(m.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{className:"bg-gradient-to-r from-purple-600 to-orange-600",children:[(0,b.jsx)(l.Plus,{className:"h-4 w-4 mr-2"}),"Schedule Deposit"]})}),(0,b.jsxs)(m.DialogContent,{children:[(0,b.jsxs)(m.DialogHeader,{children:[(0,b.jsx)(m.DialogTitle,{children:"Schedule EFTPS Deposit"}),(0,b.jsx)(m.DialogDescription,{children:"Schedule a new tax deposit via EFTPS"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"deposit_amount",children:"Deposit Amount *"}),(0,b.jsx)(f.Input,{id:"deposit_amount",type:"number",step:"0.01",value:v.deposit_amount,onChange:a=>w({...v,deposit_amount:a.target.value}),placeholder:"10000.00"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"deposit_date",children:"Deposit Date *"}),(0,b.jsx)(f.Input,{id:"deposit_date",type:"date",value:v.deposit_date,onChange:a=>w({...v,deposit_date:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"scheduled_date",children:"Scheduled Date (Optional)"}),(0,b.jsx)(f.Input,{id:"scheduled_date",type:"date",value:v.scheduled_date,onChange:a=>w({...v,scheduled_date:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"federal_income_tax",children:"Federal Income Tax"}),(0,b.jsx)(f.Input,{id:"federal_income_tax",type:"number",step:"0.01",value:v.federal_income_tax,onChange:a=>w({...v,federal_income_tax:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"social_security_tax",children:"Social Security Tax"}),(0,b.jsx)(f.Input,{id:"social_security_tax",type:"number",step:"0.01",value:v.social_security_tax,onChange:a=>w({...v,social_security_tax:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"medicare_tax",children:"Medicare Tax"}),(0,b.jsx)(f.Input,{id:"medicare_tax",type:"number",step:"0.01",value:v.medicare_tax,onChange:a=>w({...v,medicare_tax:a.target.value})})]})]}),(0,b.jsx)(e.Button,{onClick:y,className:"w-full",children:"Schedule Deposit"})]})]})]})]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Total Deposits"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",z.toLocaleString()]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Deposit Count"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold",children:p.length})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Pending"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold",children:p.filter(a=>"pending"===a.deposit_status||"scheduled"===a.deposit_status).length})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[p.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-br from-purple-500/20 to-orange-500/20",children:(0,b.jsx)(k.DollarSign,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-semibold",children:["$",a.deposit_amount.toLocaleString()]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(j.Calendar,{className:"h-3 w-3"}),new Date(a.deposit_date).toLocaleDateString(),a.eftps_confirmation_number&&(0,b.jsxs)("span",{className:"text-xs",children:["• Conf: ",a.eftps_confirmation_number]})]})]})]}),(0,b.jsx)(h.Badge,{className:(a=>{switch(a){case"completed":return"bg-green-500/10 text-green-500 border-green-500/20";case"pending":return"bg-blue-500/10 text-blue-500 border-blue-500/20";case"scheduled":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"failed":return"bg-red-500/10 text-red-500 border-red-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}})(a.deposit_status),children:a.deposit_status})]},a.id)),0===p.length&&(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:'No deposits scheduled yet. Click "Schedule Deposit" to add one.'})]})]})})]})}])},548360,a=>{"use strict";var b=a.i(108446),c=a.i(117462),d=a.i(703130),e=a.i(340695),f=a.i(205522),g=a.i(917171),h=a.i(277687),i=a.i(621426),j=a.i(322409),k=a.i(674375),l=a.i(991282),m=a.i(602150);a.s(["default",0,function({taxYear:a,quarter:n}){let{toast:o}=(0,h.useToast)(),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)("");(0,c.useEffect)(()=>{v()},[a,n]);let v=async()=>{try{let b=await fetch(`/api/form-941/safe-harbor/get?tax_year=${a}&quarter=${n}`),c=await b.json();c.safeHarbor&&s(c.safeHarbor)}catch(a){console.error("[v0] Error fetching safe harbor:",a)}},w=async()=>{if(!t)return void o({title:"Error",description:"Please enter total tax liability",variant:"destructive"});q(!0);try{let b=await fetch("/api/form-941/safe-harbor/calculate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tax_year:a,quarter:n,total_tax_liability:Number.parseFloat(t)})}),c=await b.json();if(c.success)s(c.safeHarbor),o({title:"Safe Harbor Calculated",description:c.status.message});else throw Error(c.error)}catch(a){o({title:"Error",description:a.message,variant:"destructive"})}finally{q(!1)}},x=r?r.total_deposits/r.safe_harbor_100_percent*100:0;return(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Shield,{className:"h-5 w-5 text-purple-600"}),(0,b.jsx)(d.CardTitle,{children:"Safe Harbor Calculator"})]}),(0,b.jsxs)(d.CardDescription,{children:["Calculate safe harbor amounts to avoid penalties for Q",n," ",a]})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"total_tax_liability",children:"Total Tax Liability for Quarter *"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Input,{id:"total_tax_liability",type:"number",step:"0.01",value:t,onChange:a=>u(a.target.value),placeholder:"50000.00"}),(0,b.jsxs)(e.Button,{onClick:w,disabled:p,children:[(0,b.jsx)(l.Calculator,{className:"h-4 w-4 mr-2"}),"Calculate"]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter your total tax liability (federal income tax + Social Security + Medicare)"})]})}),r&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{children:"Deposit Progress"}),(0,b.jsxs)("span",{className:"font-semibold",children:[x.toFixed(1),"%"]})]}),(0,b.jsx)(m.Progress,{value:x,className:"h-2"}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,b.jsxs)("span",{children:["$",r.total_deposits?.toLocaleString()||0," deposited"]}),(0,b.jsxs)("span",{children:["$",r.safe_harbor_100_percent?.toLocaleString()||0," total liability"]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)(d.Card,{className:r.meets_100_percent_safe_harbor?"border-green-500/50":"",children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"100% Safe Harbor"}),r.meets_100_percent_safe_harbor?(0,b.jsx)(k.CheckCircle2,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(j.AlertTriangle,{className:"h-4 w-4 text-yellow-500"})]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",r.safe_harbor_100_percent?.toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:r.meets_100_percent_safe_harbor?"You meet 100% safe harbor!":"Deposit 100% of liability to meet safe harbor"})]})]}),(0,b.jsxs)(d.Card,{className:r.meets_90_percent_safe_harbor?"border-green-500/50":"",children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"90% Safe Harbor"}),r.meets_90_percent_safe_harbor?(0,b.jsx)(k.CheckCircle2,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(j.AlertTriangle,{className:"h-4 w-4 text-yellow-500"})]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",r.safe_harbor_90_percent?.toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:r.meets_90_percent_safe_harbor?"You meet 90% safe harbor!":"Deposit 90% of liability to meet safe harbor"})]})]})]}),r.shortfall_amount>0&&(0,b.jsxs)(d.Card,{className:"border-yellow-500/50 bg-yellow-500/5",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.AlertTriangle,{className:"h-5 w-5 text-yellow-500"}),(0,b.jsx)(d.CardTitle,{className:"text-sm",children:"Shortfall Detected"})]})}),(0,b.jsxs)(d.CardContent,{className:"space-y-2",children:[(0,b.jsxs)("p",{className:"text-sm",children:["You need to deposit"," ",(0,b.jsxs)("span",{className:"font-bold",children:["$",r.shortfall_amount.toLocaleString()]})," more to meet 90% safe harbor."]}),r.recommended_catch_up_deposit>0&&(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:"Recommended Catch-Up Deposit"}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Due by ",new Date(r.catch_up_deposit_due_date).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"text-lg font-bold",children:["$",r.recommended_catch_up_deposit.toLocaleString()]})]})]})]}),r.meets_90_percent_safe_harbor&&(0,b.jsx)(d.Card,{className:"border-green-500/50 bg-green-500/5",children:(0,b.jsx)(d.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.CheckCircle2,{className:"h-5 w-5 text-green-500"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"You meet safe harbor requirements! You are protected from penalties even if you underpay slightly."})]})})})]})]})]})}])},762228,a=>{"use strict";var b=a.i(108446),c=a.i(117462),d=a.i(703130),e=a.i(340695),f=a.i(254161),g=a.i(277687),h=a.i(435483),i=a.i(949191),j=a.i(506702);a.s(["default",0,function({currentYear:a}){let{toast:k}=(0,g.useToast)(),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null);(0,c.useEffect)(()=>{p()},[a]);let p=async()=>{try{let b=await fetch(`/api/form-941/lookback/get?lookback_year=${a}`),c=await b.json();c.lookback&&o(c.lookback)}catch(a){console.error("[v0] Error fetching lookback period:",a)}},q=async()=>{m(!0);try{let b=await fetch("/api/form-941/lookback/calculate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lookback_year:a})}),c=await b.json();if(c.success)o(c.lookback),k({title:"Lookback Period Calculated",description:c.status.message});else throw Error(c.error)}catch(a){k({title:"Error",description:a.message,variant:"destructive"})}finally{m(!1)}};return(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Calendar,{className:"h-5 w-5 text-purple-600"}),(0,b.jsx)(d.CardTitle,{children:"Lookback Period Tracker"})]}),(0,b.jsxs)(d.CardDescription,{children:["Determine your deposit schedule (monthly vs semi-weekly) for ",a]})]}),(0,b.jsxs)(e.Button,{onClick:q,disabled:l,children:[(0,b.jsx)(j.RefreshCw,{className:`h-4 w-4 mr-2 ${l?"animate-spin":""}`}),"Calculate"]})]})}),(0,b.jsx)(d.CardContent,{className:"space-y-6",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Card,{className:"border-2",children:(0,b.jsx)(d.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Your Deposit Schedule for ",a]}),(0,b.jsx)("div",{className:"text-3xl font-bold mt-1 capitalize",children:n.deposit_schedule})]}),(0,b.jsx)(f.Badge,{className:"semi-weekly"===n.deposit_schedule?"bg-orange-500/10 text-orange-500 border-orange-500/20":"bg-blue-500/10 text-blue-500 border-blue-500/20",style:{fontSize:"1rem",padding:"0.5rem 1rem"},children:"semi-weekly"===n.deposit_schedule?"Semi-Weekly":"Monthly"})]})})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium mb-2",children:"Lookback Period"}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[new Date(n.lookback_start_date).toLocaleDateString()," -"," ",new Date(n.lookback_end_date).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Total Tax Liability"})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",n.total_tax_liability?.toLocaleString()]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[n.exceeds_threshold?"Exceeds":"Below"," $50,000 threshold"]})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Threshold Status"})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:n.exceeds_threshold?(0,b.jsx)("span",{className:"text-orange-500",children:"Above"}):(0,b.jsx)("span",{className:"text-blue-500",children:"Below"})}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"$50,000 threshold"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium mb-2",children:"Quarterly Breakdown"}),(0,b.jsxs)("div",{className:"grid gap-2 md:grid-cols-4",children:[(0,b.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Q3 ",a-1]}),(0,b.jsxs)("div",{className:"text-sm font-semibold",children:["$",n.q3_prior_year?.toLocaleString()||0]})]}),(0,b.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Q4 ",a-1]}),(0,b.jsxs)("div",{className:"text-sm font-semibold",children:["$",n.q4_prior_year?.toLocaleString()||0]})]}),(0,b.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Q1 ",a]}),(0,b.jsxs)("div",{className:"text-sm font-semibold",children:["$",n.q1_current_year?.toLocaleString()||0]})]}),(0,b.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Q2 ",a]}),(0,b.jsxs)("div",{className:"text-sm font-semibold",children:["$",n.q2_current_year?.toLocaleString()||0]})]})]})]})]}),n.schedule_changed&&(0,b.jsxs)(d.Card,{className:"border-orange-500/50 bg-orange-500/5",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.AlertCircle,{className:"h-5 w-5 text-orange-500"}),(0,b.jsx)(d.CardTitle,{className:"text-sm",children:"Schedule Changed!"})]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("p",{className:"text-sm",children:["Your deposit schedule has changed from"," ",(0,b.jsx)("span",{className:"font-bold capitalize",children:n.previous_deposit_schedule})," to"," ",(0,b.jsx)("span",{className:"font-bold capitalize",children:n.deposit_schedule})," effective"," ",new Date(n.schedule_change_date).toLocaleDateString(),"."]})})]}),n.total_tax_liability>45e3&&n.total_tax_liability<5e4&&(0,b.jsx)(d.Card,{className:"border-yellow-500/50 bg-yellow-500/5",children:(0,b.jsx)(d.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.AlertCircle,{className:"h-5 w-5 text-yellow-500"}),(0,b.jsx)("p",{className:"text-sm",children:"You are approaching the $50,000 threshold. If you exceed it, your deposit schedule will change to semi-weekly next year."})]})})})]}):(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:['Click "Calculate" to determine your deposit schedule for ',a]})})]})}])},826410,a=>{"use strict";var b=a.i(108446),c=a.i(117462),d=a.i(703130),e=a.i(340695),f=a.i(254161),g=a.i(277687),h=a.i(197665),i=a.i(318851);a.s(["default",0,function({taxYear:a,quarter:j}){let{toast:k}=(0,g.useToast)(),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)([]),p=async()=>{m(!0);try{let b=await fetch("/api/form-941/schedule-b/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tax_year:a,quarter:j})}),c=await b.json();if(c.success)o(c.entries),k({title:"Schedule B Generated",description:c.message});else throw Error(c.error)}catch(a){k({title:"Error",description:a.message,variant:"destructive"})}finally{m(!1)}};return(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.FileText,{className:"h-5 w-5 text-purple-600"}),(0,b.jsx)(d.CardTitle,{children:"Schedule B Generator"})]}),(0,b.jsxs)(d.CardDescription,{children:["Auto-generate Schedule B for semi-weekly depositors - Q",j," ",a]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{onClick:p,disabled:l,className:"bg-gradient-to-r from-purple-600 to-orange-600",children:l?"Generating...":"Generate Schedule B"}),n.length>0&&(0,b.jsxs)(e.Button,{variant:"outline",children:[(0,b.jsx)(i.Download,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),(0,b.jsx)(d.CardContent,{children:n.length>0?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Total Entries"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold",children:n.length})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Total Liability"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",n.reduce((a,b)=>a+(b.tax_liability||0),0).toLocaleString()]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Overdue"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-red-500",children:n.filter(a=>a.is_overdue).length})})]})]}),(0,b.jsx)("div",{className:"space-y-2",children:n.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-semibold",children:["Payroll Date: ",new Date(a.payroll_date).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Due: ",new Date(a.deposit_due_date).toLocaleDateString(),a.is_overdue&&(0,b.jsxs)("span",{className:"text-red-500 ml-2",children:["• ",a.days_overdue," days overdue"]})]})]})})}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"font-semibold",children:["$",a.tax_liability?.toLocaleString()]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Tax Liability"})]}),(0,b.jsx)(f.Badge,{className:(a=>{switch(a){case"deposited":return"bg-green-500/10 text-green-500 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"overdue":return"bg-red-500/10 text-red-500 border-red-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}})(a.deposit_status),children:a.deposit_status})]})]},a.id))})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(h.FileText,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:'No Schedule B entries generated yet. Click "Generate Schedule B" to create entries from your payroll data.'}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Schedule B is required for semi-weekly depositors (businesses with >$50,000 annual tax liability)."})]})})]})}])}];

//# sourceMappingURL=components_787f09fd._.js.map