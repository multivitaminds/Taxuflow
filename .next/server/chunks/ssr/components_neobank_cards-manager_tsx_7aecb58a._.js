module.exports=[216137,a=>{"use strict";var b=a.i(108446),c=a.i(117462),d=a.i(340695),e=a.i(703130),f=a.i(280281),g=a.i(254161),h=a.i(850462),i=a.i(100715),j=a.i(127497),k=a.i(369764),l=a.i(388596),m=a.i(640065),n=a.i(935176);let o=(0,a.i(550349).default)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var p=a.i(506702),q=a.i(873859),r=a.i(750905),s=a.i(965733),t=a.i(917171),u=a.i(205522),v=a.i(887682),w=a.i(497895),x=a.i(95811),y=a.i(681228),z=a.i(483780);let A=(0,z.createServerReference)("40809ba98f19ebadb960e84122ddee48406fd3434a",z.callServer,void 0,z.findSourceMapURL,"createNeobankCard"),B=(0,z.createServerReference)("6014c16f1d260c4931b03eb27ebd48fdf038c2aa06",z.callServer,void 0,z.findSourceMapURL,"updateCardStatus"),C=[{id:"card_1",last4:"4291",expiry:"12/28",cvv:"123",holder:"ALEXANDER SMITH",type:"virtual",status:"active",limit:5e3,spent:1240.5,name:"Software Subscriptions"},{id:"card_2",last4:"8821",expiry:"09/26",cvv:"456",holder:"ALEXANDER SMITH",type:"physical",status:"active",limit:1e4,spent:450,name:"Travel & Expenses"},{id:"card_3",last4:"1029",expiry:"11/27",cvv:"789",holder:"SARAH JONES",type:"virtual",status:"frozen",limit:2e3,spent:0,name:"Marketing Ads"}];a.s(["CardsManager",0,function(){let[a,z]=(0,c.useState)([]),[D,E]=(0,c.useState)(!0),[F,G]=(0,c.useState)({}),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1);async function N(){E(!0);let{data:a,error:b}=await (0,y.getNeobankCards)();if(b)x.toast.error("Failed to load cards"),z(C),I(C[0]?.id);else if(a&&a.length>0){let b=a.map(a=>({id:a.id,last4:a.last_four,expiry:a.expiry_date,cvv:a.cvv,holder:a.cardholder_name,type:a.card_type,status:a.status,limit:a.monthly_limit,spent:a.spent_amount,name:a.card_name}));z(b),I(b[0]?.id)}else z(C),I(C[0]?.id);E(!1)}(0,c.useEffect)(()=>{N()},[]);let O=a.find(a=>a.id===H)||a[0],P=async b=>{let c=a.find(a=>a.id===b);if(!c)return;let d="active"===c.status?"frozen":"active";z(a.map(a=>a.id===b?{...a,status:d}:a));let e=await B(b,d);e.success?x.toast.success(`Card ${"active"===d?"unfrozen":"frozen"} successfully`):(z(a.map(a=>a.id===b?{...a,status:c.status}:a)),x.toast.error(e.error||"Failed to update card status"))},Q=async a=>{a.preventDefault(),M(!0);let b=new FormData(a.currentTarget),c=b.get("card-type"),d=b.get("name"),e=Number(b.get("limit")),f=b.get("holder");if(!d||!e||!f){x.toast.error("Please fill in all fields"),M(!1);return}let g=await A({cardType:c,cardName:d,monthlyLimit:e,cardholder:f});g.success?(x.toast.success("Card issued successfully!"),K(!1),N()):x.toast.error(g.error||"Failed to create card"),M(!1)};return D?(0,b.jsx)("div",{className:"p-8 max-w-7xl mx-auto",children:(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"text-slate-500",children:"Loading cards..."})})}):(0,b.jsxs)("div",{className:"p-8 max-w-7xl mx-auto space-y-8 text-[#0a2540]",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Card Management"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Issue and manage physical and virtual cards for your team."})]}),(0,b.jsxs)(s.Dialog,{open:J,onOpenChange:K,children:[(0,b.jsx)(s.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{className:"bg-[#635bff] hover:bg-[#5851e1] text-white shadow-sm h-8 text-xs",children:[(0,b.jsx)(i.Plus,{className:"mr-2 h-4 w-4"})," Issue New Card"]})}),(0,b.jsx)(s.DialogContent,{className:"sm:max-w-[425px]",children:(0,b.jsxs)("form",{onSubmit:Q,children:[(0,b.jsxs)(s.DialogHeader,{children:[(0,b.jsx)(s.DialogTitle,{className:"text-base",children:"Issue New Card"}),(0,b.jsx)(s.DialogDescription,{className:"text-xs",children:"Create a new virtual or physical card for business expenses."})]}),(0,b.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(t.Label,{htmlFor:"card-type",className:"text-xs",children:"Card Type"}),(0,b.jsxs)(v.Select,{name:"card-type",defaultValue:"virtual",children:[(0,b.jsx)(v.SelectTrigger,{className:"h-8 text-xs",children:(0,b.jsx)(v.SelectValue,{placeholder:"Select card type"})}),(0,b.jsxs)(v.SelectContent,{children:[(0,b.jsx)(v.SelectItem,{value:"virtual",className:"text-xs",children:"Virtual (Instant)"}),(0,b.jsx)(v.SelectItem,{value:"physical",className:"text-xs",children:"Physical (Mail)"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(t.Label,{htmlFor:"name",className:"text-xs",children:"Card Name (e.g. Marketing)"}),(0,b.jsx)(u.Input,{id:"name",name:"name",placeholder:"Marketing Expenses",required:!0,className:"h-8 text-xs"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(t.Label,{htmlFor:"limit",className:"text-xs",children:"Monthly Limit"}),(0,b.jsx)(u.Input,{id:"limit",name:"limit",type:"number",placeholder:"5000",required:!0,className:"h-8 text-xs"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(t.Label,{htmlFor:"holder",className:"text-xs",children:"Cardholder Name"}),(0,b.jsx)(u.Input,{id:"holder",name:"holder",placeholder:"John Doe",required:!0,className:"h-8 text-xs"})]})]}),(0,b.jsxs)(s.DialogFooter,{children:[(0,b.jsx)(d.Button,{variant:"outline",type:"button",onClick:()=>K(!1),className:"h-8 text-xs",children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",className:"bg-[#635bff] h-8 text-xs",disabled:L,children:L?"Creating...":"Issue Card"})]})]})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,b.jsxs)(e.Card,{className:"border-slate-200 shadow-sm overflow-hidden",children:[(0,b.jsx)(e.CardHeader,{className:"bg-slate-50 border-b border-slate-200 py-3 px-4",children:(0,b.jsx)("h3",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Your Cards"})}),(0,b.jsx)(e.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"divide-y divide-slate-100",children:a.map(a=>(0,b.jsxs)("div",{onClick:()=>I(a.id),className:(0,w.cn)("p-4 cursor-pointer hover:bg-slate-50 transition-colors flex items-center justify-between",H===a.id?"bg-slate-50 border-l-4 border-[#635bff]":"border-l-4 border-transparent"),children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:(0,w.cn)("h-10 w-10 rounded-full flex items-center justify-center","frozen"===a.status?"bg-slate-100 text-slate-400":"bg-[#635bff]/10 text-[#635bff]"),children:(0,b.jsx)(h.CreditCard,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-xs",children:a.name}),(0,b.jsxs)("p",{className:"text-[10px] text-slate-500",children:["•••• ",a.last4]})]})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)(g.Badge,{variant:"active"===a.status?"outline":"secondary",className:(0,w.cn)("text-[10px]","active"===a.status?"text-green-600 border-green-200 bg-green-50":"text-slate-500"),children:"active"===a.status?"Active":"Frozen"})})]},a.id))})})]}),(0,b.jsx)(e.Card,{className:"bg-[#f6f9fc] border-slate-200 shadow-none",children:(0,b.jsxs)(e.CardContent,{className:"p-4 flex items-start gap-3",children:[(0,b.jsx)(o,{className:"h-5 w-5 text-[#635bff] mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-semibold text-[#0a2540]",children:"Security Tip"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 mt-1",children:"Freeze your card immediately if you notice any suspicious activity. You can unfreeze it anytime."})]})]})})]}),(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[(0,b.jsxs)("div",{className:(0,w.cn)("w-full md:w-[380px] h-[240px] rounded-2xl p-6 text-white shadow-xl flex flex-col justify-between relative overflow-hidden transition-all duration-500","frozen"===O.status?"bg-slate-600 grayscale":"bg-gradient-to-br from-[#0a2540] to-[#635bff]"),children:[(0,b.jsx)("div",{className:"absolute right-[-20px] top-[-20px] h-40 w-40 bg-white opacity-10 rounded-full blur-2xl"}),(0,b.jsxs)("div",{className:"flex justify-between items-start relative z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-bold text-base tracking-tight",children:"Taxu"}),(0,b.jsx)(g.Badge,{className:"bg-white/20 text-white border-none hover:bg-white/30 backdrop-blur-sm uppercase text-[10px] tracking-wider",children:O.type})]}),(0,b.jsx)(h.CreditCard,{className:"h-6 w-6 opacity-80"})]}),(0,b.jsxs)("div",{className:"space-y-4 relative z-10 mt-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"text-lg font-mono tracking-wider opacity-90",children:F[O.id]?`4532 1234 5678 ${O.last4}`:`•••• •••• •••• ${O.last4}`}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 h-8 w-8",onClick:()=>{var a;return a=O.id,void G(b=>({...b,[a]:!b[a]}))},children:F[O.id]?(0,b.jsx)(l.EyeOff,{className:"h-4 w-4"}):(0,b.jsx)(k.Eye,{className:"h-4 w-4"})})]}),(0,b.jsxs)("div",{className:"flex justify-between items-end",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] opacity-70 uppercase tracking-widest",children:"Card Holder"}),(0,b.jsx)("p",{className:"font-medium tracking-wide text-xs",children:O.holder})]}),(0,b.jsxs)("div",{className:"flex gap-6",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] opacity-70 uppercase tracking-widest",children:"Expires"}),(0,b.jsx)("p",{className:"font-medium tracking-wide text-xs",children:O.expiry})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] opacity-70 uppercase tracking-widest",children:"CVC"}),(0,b.jsx)("p",{className:"font-medium tracking-wide text-xs",children:F[O.id]?O.cvv:"•••"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-4 w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border border-slate-200 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:(0,w.cn)("p-2 rounded-full","active"===O.status?"bg-green-100":"bg-slate-100"),children:(0,b.jsx)(j.Lock,{className:(0,w.cn)("h-4 w-4","active"===O.status?"text-green-600":"text-slate-500")})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium",children:"Card Status"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500",children:"active"===O.status?"Active & Secure":"Frozen & Locked"})]})]}),(0,b.jsx)(f.Switch,{checked:"active"===O.status,onCheckedChange:()=>P(O.id),className:"data-[state=checked]:bg-[#635bff]"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)(d.Button,{variant:"outline",className:"bg-white h-8 justify-start border-slate-200 text-slate-600 hover:text-[#635bff] hover:border-[#635bff] text-xs",children:[(0,b.jsx)(n.Settings,{className:"mr-2 h-4 w-4"})," Limits"]}),(0,b.jsxs)(d.Button,{variant:"outline",className:"bg-white h-8 justify-start border-slate-200 text-slate-600 hover:text-[#635bff] hover:border-[#635bff] text-xs",children:[(0,b.jsx)(p.RefreshCw,{className:"mr-2 h-4 w-4"})," Replace"]}),(0,b.jsxs)(d.Button,{variant:"outline",className:"bg-white h-8 justify-start border-slate-200 text-slate-600 hover:text-[#635bff] hover:border-[#635bff] text-xs",children:[(0,b.jsx)(q.Wallet,{className:"mr-2 h-4 w-4"})," Add to Wallet"]}),(0,b.jsxs)(d.Button,{variant:"outline",className:"bg-white h-8 justify-start border-slate-200 text-slate-600 hover:text-[#635bff] hover:border-[#635bff] text-xs",children:[(0,b.jsx)(r.Smartphone,{className:"mr-2 h-4 w-4"})," Pin"]})]})]})]}),(0,b.jsxs)(e.Card,{className:"border-slate-200 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{className:"border-b border-slate-100 pb-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-base font-semibold",children:"Card Details"}),(0,b.jsx)(e.CardDescription,{className:"text-xs",children:"Billing address and limits"})]}),(0,b.jsxs)(d.Button,{variant:"ghost",size:"sm",className:"text-[#635bff] h-8 text-xs",onClick:()=>{var a;return a="4532 1234 5678 "+O.last4,void(navigator.clipboard.writeText(a),x.toast.success("Copied to clipboard"))},children:[(0,b.jsx)(m.Copy,{className:"h-4 w-4 mr-2"})," Copy Number"]})]})}),(0,b.jsxs)(e.CardContent,{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] font-medium text-slate-500 uppercase",children:"Billing Address"}),(0,b.jsx)("p",{className:"text-xs font-medium",children:"123 Innovation Dr"}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:"Suite 400"}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:"San Francisco, CA 94103"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] font-medium text-slate-500 uppercase",children:"Spending Limit"}),(0,b.jsxs)("p",{className:"text-xs font-medium",children:["$",O.limit.toLocaleString()," / month"]}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-[10px] mb-1",children:[(0,b.jsxs)("span",{className:"text-slate-600",children:["Spent: $",O.spent.toLocaleString()]}),(0,b.jsxs)("span",{className:"text-[#635bff]",children:[Math.round(O.spent/O.limit*100),"%"]})]}),(0,b.jsx)("div",{className:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-[#635bff] rounded-full",style:{width:`${O.spent/O.limit*100}%`}})})]})]})]})]})]})]})]})}],216137)}];

//# sourceMappingURL=components_neobank_cards-manager_tsx_7aecb58a._.js.map