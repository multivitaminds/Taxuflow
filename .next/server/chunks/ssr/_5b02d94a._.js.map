{"version":3,"sources":["../../../../app/actions/neobank/get-accounts.ts","../../../../app/actions/neobank/get-transactions.ts","../../../../.next-internal/server/app/neobank/accounts/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["\"use server\"\n\nimport { createClient } from \"@/lib/supabase/server\"\n\nexport async function getNeobankAccounts() {\n  const supabase = await createClient()\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { data: null, error: \"Not authenticated\" }\n  }\n\n  const { data, error } = await supabase\n    .from(\"neobank_accounts\")\n    .select(\"*\")\n    .eq(\"user_id\", user.id)\n    .order(\"created_at\", { ascending: false })\n\n  if (error) {\n    console.error(\"[v0] Error fetching neobank accounts:\", error)\n    return { data: null, error: error.message }\n  }\n\n  return { data, error: null }\n}\n\nexport async function getAccountBalance() {\n  const supabase = await createClient()\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { totalBalance: 0, accounts: [] }\n  }\n\n  const { data: accounts } = await supabase\n    .from(\"neobank_accounts\")\n    .select(\"balance, account_type\")\n    .eq(\"user_id\", user.id)\n\n  if (!accounts || accounts.length === 0) {\n    return { totalBalance: 0, accounts: [] }\n  }\n\n  const totalBalance = accounts.reduce((sum, acc) => sum + (Number(acc.balance) || 0), 0)\n\n  return { totalBalance, accounts }\n}\n","\"use server\"\n\nimport { createClient } from \"@/lib/supabase/server\"\n\nexport async function getNeobankTransactions(limit = 10) {\n  const supabase = await createClient()\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { data: null, error: \"Not authenticated\" }\n  }\n\n  // First get user's accounts\n  const { data: accounts } = await supabase.from(\"neobank_accounts\").select(\"id\").eq(\"user_id\", user.id)\n\n  if (!accounts || accounts.length === 0) {\n    return { data: [], error: null }\n  }\n\n  const accountIds = accounts.map((acc) => acc.id)\n\n  // Get transactions for user's accounts\n  const { data, error } = await supabase\n    .from(\"neobank_transactions\")\n    .select(\"*\")\n    .in(\"account_id\", accountIds)\n    .order(\"transaction_date\", { ascending: false })\n    .limit(limit)\n\n  if (error) {\n    console.error(\"[v0] Error fetching transactions:\", error)\n    return { data: null, error: error.message }\n  }\n\n  return { data, error: null }\n}\n","export {getUserProfile as '40d983bdc873a2f33f08198e581ae6b3a6175ca29e'} from 'ACTIONS_MODULE0'\nexport {getUser as '00b4e5982374ff027d3c9db80af0059fe8abad476a'} from 'ACTIONS_MODULE1'\nexport {getNeobankAccounts as '00ac4ca27e4e68db97496d421ded6c8c31a33cbefd'} from 'ACTIONS_MODULE2'\nexport {getNeobankTransactions as '40640aa4312c4e06e8d99779c9bf0183f519b5c9da'} from 'ACTIONS_MODULE3'\n"],"names":[],"mappings":"iEAEA,EAAA,EAAA,CAAA,CAAA,qBAEO,eAAe,IACpB,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAE7B,CACJ,KAAM,MAAE,CAAI,CAAE,CACf,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GAE/B,GAAI,CAAC,EACH,IADS,EACF,CAAE,KAAM,KAAM,MAAO,mBAAoB,EAGlD,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,EAC3B,IAAI,CAAC,oBACL,MAAM,CAAC,KACP,EAAE,CAAC,UAAW,EAAK,EAAE,EACrB,KAAK,CAAC,aAAc,CAAE,WAAW,CAAM,UAE1C,AAAI,GACF,IADS,IACD,KAAK,CAAC,wCAAyC,GAChD,CAAE,KAAM,KAAM,MAAO,EAAM,OAAO,AAAC,GAGrC,MAAE,EAAM,MAAO,IAAK,CAC7B,CAEO,eAAe,IACpB,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAY,AAAZ,IAEjB,CACJ,KAAM,MAAE,CAAI,CAAE,CACf,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GAE/B,GAAI,CAAC,EACH,IADS,EACF,CAAE,aAAc,EAAG,SAAU,EAAE,AAAC,EAGzC,GAAM,CAAE,KAAM,CAAQ,CAAE,CAAG,MAAM,EAC9B,IAAI,CAAC,oBACL,MAAM,CAAC,yBACP,EAAE,CAAC,UAAW,EAAK,EAAE,SAExB,AAAI,AAAC,GAAgC,GAAG,CAAvB,EAAS,MAAM,CAMzB,CAAE,aAFY,EAAS,MAAM,CAAC,CAAC,EAAK,IAAQ,EAAO,IAAD,IAAQ,EAAI,OAAO,IAAK,CAAC,CAAG,YAE9D,CAAS,EALvB,CAAE,aAAc,EAAG,SAAU,EAAE,AAAC,CAM3C,CChDO,eAAe,EAAuB,EAAQ,EAAE,EACrD,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAE7B,CACJ,KAAM,MAAE,CAAI,CAAE,CACf,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GAE/B,GAAI,CAAC,EACH,IADS,EACF,CAAE,KAAM,KAAM,MAAO,mBAAoB,EAIlD,GAAM,CAAE,KAAM,CAAQ,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,oBAAoB,MAAM,CAAC,MAAM,EAAE,CAAC,UAAW,EAAK,EAAE,EAErG,GAAI,CAAC,GAAY,AAAoB,GAAG,GAAd,MAAM,CAC9B,MAAO,CAAE,KAAM,EAAE,CAAE,MAAO,IAAK,EAGjC,IAAM,EAAa,EAAS,GAAG,CAAC,AAAC,GAAQ,EAAI,EAAE,EAGzC,MAAE,CAAI,CAAE,OAAK,CAAE,CAAG,MAAM,EAC3B,IAAI,CAAC,wBACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAc,GACjB,KAAK,CAAC,mBAAoB,CAAE,UAAW,EAAM,GAC7C,KAAK,CAAC,UAET,AAAI,GACF,IADS,IACD,KAAK,CAAC,oCAAqC,GAC5C,CAAE,KAAM,KAAM,MAAO,EAAM,OAAO,AAAC,GAGrC,MAAE,EAAM,MAAO,IAAK,CAC7B,iCDlCsB,EAyBA,IAzBA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAyBA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,qGCzBA,IAAA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,yECJtB,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA"}