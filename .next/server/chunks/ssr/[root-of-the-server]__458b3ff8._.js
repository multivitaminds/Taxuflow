module.exports=[629460,(a,b,c)=>{"use strict";b.exports=a.r(918622)},24500,(a,b,c)=>{"use strict";b.exports=a.r(629460).vendored["react-ssr"].ReactJsxRuntime},598293,(a,b,c)=>{"use strict";b.exports=a.r(629460).vendored["react-ssr"].React},805417,(a,b,c)=>{"use strict";b.exports=a.r(629460).vendored.contexts.AppRouterContext},873382,(a,b,c)=>{"use strict";b.exports=a.r(629460).vendored["react-ssr"].ReactServerDOMTurbopackClient},918622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},726685,(a,b,c)=>{"use strict";b.exports=a.r(629460).vendored.contexts.HooksClientContext},16306,(a,b,c)=>{"use strict";b.exports=a.r(629460).vendored.contexts.ServerInsertedHtml},301755,a=>{"use strict";let b=(0,a.i(540567).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",0,b],301755)},526608,a=>{"use strict";let b=(0,a.i(540567).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",0,b],526608)},181563,a=>{"use strict";let b=(0,a.i(540567).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",0,b],181563)},13325,a=>{"use strict";let b=(0,a.i(540567).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",0,b],13325)},865538,a=>{"use strict";var b=function(){return(b=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,a.s(["__assign",()=>b,"__awaiter",0,function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},"__rest",0,function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},"__spreadArray",0,function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}])},706051,a=>{"use strict";let b=(0,a.i(540567).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",0,b],706051)},930726,a=>{"use strict";let b=(0,a.i(540567).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",0,b],930726)},477242,a=>{"use strict";let b=(0,a.i(540567).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",0,b],477242)},298475,a=>{"use strict";let b=(0,a.i(540567).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",0,b],298475)},847658,a=>{"use strict";let b=(0,a.i(540567).default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);a.s(["BarChart3",0,b],847658)},74386,a=>{"use strict";let b=(0,a.i(540567).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Settings",0,b],74386)},654136,a=>{"use strict";let b=(0,a.i(540567).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["Activity",0,b],654136)},69075,a=>{"use strict";let b=(0,a.i(540567).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);a.s(["LogOut",0,b],69075)},55835,a=>{"use strict";var b=a.i(24500),c=a.i(598293),d=a.i(659790),e=a.i(290130),f=a.i(300976),g=a.i(419716),h=a.i(27866),i=a.i(298475),j=a.i(706051),k=a.i(301755),l=a.i(181563),m=a.i(654136),n=a.i(74386),o=a.i(69075),p=a.i(526608),q=a.i(930726),r=a.i(477242),s=a.i(13325),t=a.i(847658);function u({adminUser:a}){(0,d.useRouter)();let[u,v]=(0,c.useState)({totalUsers:0,activeUsers:0,totalFilings:0,successfulFilings:0,failedFilings:0,pendingFilings:0,totalRevenue:0,apiCalls:0}),[w,x]=(0,c.useState)(!0);(0,c.useEffect)(()=>{y()},[]);let y=async()=>{try{let a=(0,e.getSupabaseBrowserClient)(),{count:b}=await a.from("user_profiles").select("*",{count:"exact",head:!0}),{data:c}=await a.from("tax_filings").select("status"),d=c?.filter(a=>"accepted"===a.status).length||0,f=c?.filter(a=>"rejected"===a.status).length||0,g=c?.filter(a=>"pending"===a.status).length||0;v({totalUsers:b||0,activeUsers:Math.floor(.6*(b||0)),totalFilings:c?.length||0,successfulFilings:d,failedFilings:f,pendingFilings:g,totalRevenue:29.99*(c?.length||0),apiCalls:15*(c?.length||0)})}catch(a){console.error("[v0] Failed to load stats:",a)}finally{x(!1)}},z=async()=>{try{if(!(await fetch("/api/auth/signout",{method:"POST",credentials:"include"})).ok)throw Error("Sign out failed");window.location.href="/admin/login"}catch(a){console.error("[v0] Sign out error:",a),window.location.href="/admin/login"}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] opacity-10"}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("header",{className:"border-b border-white/10 bg-black/20 backdrop-blur-xl",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-blue-600 rounded-lg flex items-center justify-center",children:(0,b.jsx)(i.Shield,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-white",children:"Taxu Admin"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:a.email})]})]}),(0,b.jsxs)(g.Button,{onClick:z,variant:"ghost",className:"text-gray-400 hover:text-white",children:[(0,b.jsx)(o.LogOut,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(j.Users,{className:"w-8 h-8 text-blue-400"}),(0,b.jsx)(p.TrendingUp,{className:"w-5 h-5 text-green-400"})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Total Users"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:w?"...":u.totalUsers.toLocaleString()}),(0,b.jsxs)("p",{className:"text-xs text-green-400 mt-2",children:[u.activeUsers," active"]})]}),(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(k.FileText,{className:"w-8 h-8 text-purple-400"}),(0,b.jsx)(r.CheckCircle,{className:"w-5 h-5 text-green-400"})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Total Filings"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:w?"...":u.totalFilings.toLocaleString()}),(0,b.jsxs)("p",{className:"text-xs text-green-400 mt-2",children:[u.successfulFilings," successful"]})]}),(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(l.DollarSign,{className:"w-8 h-8 text-green-400"}),(0,b.jsx)(p.TrendingUp,{className:"w-5 h-5 text-green-400"})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Revenue"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:w?"...":`$${u.totalRevenue.toLocaleString()}`}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"This month"})]}),(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)(m.Activity,{className:"w-8 h-8 text-orange-400"}),(0,b.jsx)(t.BarChart3,{className:"w-5 h-5 text-blue-400"})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"API Calls"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:w?"...":u.apiCalls.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Last 24 hours"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,b.jsx)(f.default,{href:"/admin/users",children:(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6 hover:bg-white/10 transition-colors cursor-pointer group",children:[(0,b.jsx)(j.Users,{className:"w-10 h-10 text-blue-400 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"User Management"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"View and manage all platform users"})]})}),(0,b.jsx)(f.default,{href:"/admin/filings",children:(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6 hover:bg-white/10 transition-colors cursor-pointer group",children:[(0,b.jsx)(k.FileText,{className:"w-10 h-10 text-purple-400 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Filing Management"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Monitor and manage tax filings"})]})}),(0,b.jsx)(f.default,{href:"/admin/analytics",children:(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6 hover:bg-white/10 transition-colors cursor-pointer group",children:[(0,b.jsx)(t.BarChart3,{className:"w-10 h-10 text-green-400 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Analytics"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"View platform analytics and insights"})]})}),(0,b.jsx)(f.default,{href:"/admin/diagnostics",children:(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6 hover:bg-white/10 transition-colors cursor-pointer group",children:[(0,b.jsx)(m.Activity,{className:"w-10 h-10 text-orange-400 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"System Diagnostics"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Monitor system health and performance"})]})}),(0,b.jsx)(f.default,{href:"/admin/support",children:(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6 hover:bg-white/10 transition-colors cursor-pointer group",children:[(0,b.jsx)(q.AlertCircle,{className:"w-10 h-10 text-yellow-400 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Support Tickets"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Manage user support requests"})]})}),(0,b.jsx)(f.default,{href:"/admin/settings",children:(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6 hover:bg-white/10 transition-colors cursor-pointer group",children:[(0,b.jsx)(n.Settings,{className:"w-10 h-10 text-gray-400 mb-4 group-hover:scale-110 transition-transform"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Admin Settings"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Change password and manage account"})]})})]}),(0,b.jsxs)(h.Card,{className:"bg-white/5 backdrop-blur-xl border-white/10 p-6 mt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Filing Status Overview"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[(0,b.jsx)(r.CheckCircle,{className:"w-8 h-8 text-green-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:u.successfulFilings}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Successful"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,b.jsx)(s.Clock,{className:"w-8 h-8 text-yellow-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:u.pendingFilings}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Pending"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[(0,b.jsx)(q.AlertCircle,{className:"w-8 h-8 text-red-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:u.failedFilings}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Failed"})]})]})]})]})]})]})]})}a.s(["default",0,function(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{!async function(){let b=(0,e.createBrowserClient)();if(!b)return a.push("/admin/login");try{let{data:{session:c}}=await b.auth.getSession();if(!c)return void a.push("/admin/login");let{data:d}=await b.from("admin_users").select("*").eq("user_id",c.user.id).single();if(!d)return void a.push("/admin/unauthorized");g(d)}catch(b){console.log("[v0] Admin page: Error during auth check",b),a.push("/admin/login")}finally{i(!1)}}()},[a]),h)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading admin dashboard..."})]})}):f?(0,b.jsx)(u,{adminUser:f}):null}],55835)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__458b3ff8._.js.map