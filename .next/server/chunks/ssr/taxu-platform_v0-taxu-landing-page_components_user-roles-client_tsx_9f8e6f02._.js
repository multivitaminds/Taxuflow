module.exports=[520372,a=>{"use strict";var b=a.i(24500),c=a.i(598293),d=a.i(27866),e=a.i(419716),f=a.i(587879),g=a.i(618001),h=a.i(561080),i=a.i(208901),j=a.i(298475),k=a.i(706051),l=a.i(738048),m=a.i(745818),n=a.i(181563),o=a.i(301755),p=a.i(74386),q=a.i(570856),r=a.i(504047),s=a.i(440454),t=a.i(326579),u=a.i(690747),v=a.i(300976),w=a.i(878056),x=a.i(296465),y=a.i(676996);let z=[{id:"view_reports",name:"View Reports",description:"Access financial reports",icon:l.Eye,category:"Reports"},{id:"export_reports",name:"Export Reports",description:"Download and export reports",icon:o.FileText,category:"Reports"},{id:"edit_transactions",name:"Edit Transactions",description:"Create and modify transactions",icon:m.Edit,category:"Transactions"},{id:"delete_transactions",name:"Delete Transactions",description:"Remove transactions",icon:r.Trash2,category:"Transactions"},{id:"approve_payments",name:"Approve Payments",description:"Approve payment requests",icon:n.DollarSign,category:"Payments"},{id:"process_payments",name:"Process Payments",description:"Execute payments",icon:n.DollarSign,category:"Payments"},{id:"manage_invoices",name:"Manage Invoices",description:"Create and send invoices",icon:o.FileText,category:"Invoices"},{id:"void_invoices",name:"Void Invoices",description:"Cancel invoices",icon:o.FileText,category:"Invoices"},{id:"manage_customers",name:"Manage Customers",description:"Create and edit customers",icon:k.Users,category:"Customers"},{id:"view_customer_details",name:"View Customer Details",description:"Access customer information",icon:l.Eye,category:"Customers"},{id:"manage_vendors",name:"Manage Vendors",description:"Create and edit vendors",icon:k.Users,category:"Vendors"},{id:"manage_products",name:"Manage Products",description:"Create and edit products",icon:t.Database,category:"Products"},{id:"manage_settings",name:"Manage Settings",description:"Configure system settings",icon:p.Settings,category:"Settings"},{id:"manage_users",name:"Manage Users",description:"Add and remove users",icon:k.Users,category:"Settings"}],A=[{module:"Invoices",field:"Amount",description:"Invoice total amount"},{module:"Invoices",field:"Customer Name",description:"Customer information"},{module:"Invoices",field:"Payment Terms",description:"Payment terms and conditions"},{module:"Customers",field:"Credit Limit",description:"Customer credit limit"},{module:"Customers",field:"Payment History",description:"Historical payment data"},{module:"Transactions",field:"Amount",description:"Transaction amount"},{module:"Transactions",field:"Account",description:"Associated account"},{module:"Employees",field:"Salary",description:"Employee compensation"},{module:"Employees",field:"Bank Details",description:"Banking information"}];a.s(["UserRolesClient",0,function(){let{toast:a}=(0,u.useToast)(),[n,o]=(0,c.useState)([{id:"admin",name:"Administrator",description:"Full access to all features",userCount:2,isCustom:!1,permissions:{view_reports:!0,export_reports:!0,edit_transactions:!0,delete_transactions:!0,approve_payments:!0,process_payments:!0,manage_invoices:!0,void_invoices:!0,manage_customers:!0,view_customer_details:!0,manage_vendors:!0,manage_products:!0,manage_settings:!0,manage_users:!0},fieldPermissions:A.map(a=>({field:a.field,module:a.module,canView:!0,canEdit:!0}))},{id:"accountant",name:"Accountant",description:"Can manage transactions and view reports",userCount:5,isCustom:!1,permissions:{view_reports:!0,export_reports:!0,edit_transactions:!0,delete_transactions:!1,approve_payments:!1,process_payments:!0,manage_invoices:!0,void_invoices:!1,manage_customers:!0,view_customer_details:!0,manage_vendors:!0,manage_products:!0,manage_settings:!1,manage_users:!1},fieldPermissions:A.map(a=>({field:a.field,module:a.module,canView:!0,canEdit:!a.field.includes("Salary")&&!a.field.includes("Bank Details")}))},{id:"viewer",name:"Viewer",description:"Read-only access to reports",userCount:12,isCustom:!1,permissions:{view_reports:!0,export_reports:!1,edit_transactions:!1,delete_transactions:!1,approve_payments:!1,process_payments:!1,manage_invoices:!1,void_invoices:!1,manage_customers:!1,view_customer_details:!0,manage_vendors:!1,manage_products:!1,manage_settings:!1,manage_users:!1},fieldPermissions:A.map(a=>({field:a.field,module:a.module,canView:!a.field.includes("Salary")&&!a.field.includes("Bank Details")&&!a.field.includes("Credit Limit"),canEdit:!1}))}]),[p,B]=(0,c.useState)(n[0]),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(""),I=(b,c,d)=>{let e=p.fieldPermissions.map(a=>{if(a.module===b&&a.field===c)if("view"===d)return{...a,canView:!a.canView,canEdit:!a.canView&&a.canEdit};else return{...a,canEdit:!a.canEdit};return a}),f={...p,fieldPermissions:e};B(f),o(n.map(a=>a.id===f.id?f:a)),a({title:"Field permission updated",description:"Field-level security has been saved."})},J=z.reduce((a,b)=>(a[b.category]||(a[b.category]=[]),a[b.category].push(b),a),{});return(0,b.jsxs)("div",{className:"min-h-screen bg-background p-8 space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(v.default,{href:"/accounting/settings",className:"text-sm text-muted-foreground hover:text-foreground mb-2 inline-block",children:"â† Back to Settings"}),(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"User Roles & Permissions"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Configure access control and field-level security"})]}),(0,b.jsxs)(w.Dialog,{open:C,onOpenChange:D,children:[(0,b.jsx)(w.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{className:"bg-[#635bff] hover:bg-[#5851df] text-white",children:[(0,b.jsx)(q.Plus,{className:"mr-2 h-4 w-4"}),"Create Custom Role"]})}),(0,b.jsxs)(w.DialogContent,{children:[(0,b.jsxs)(w.DialogHeader,{children:[(0,b.jsx)(w.DialogTitle,{children:"Create Custom Role"}),(0,b.jsx)(w.DialogDescription,{children:"Define a new role with specific permissions"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"roleName",children:"Role Name"}),(0,b.jsx)(h.Input,{id:"roleName",placeholder:"e.g., Sales Manager",value:E,onChange:a=>F(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"roleDescription",children:"Description"}),(0,b.jsx)(i.Textarea,{id:"roleDescription",placeholder:"Describe what this role can do...",value:G,onChange:a=>H(a.target.value)})]}),(0,b.jsx)(e.Button,{onClick:()=>{if(!E.trim())return void a({title:"Error",description:"Role name is required",variant:"destructive"});let b={id:`custom_${Date.now()}`,name:E,description:G,userCount:0,isCustom:!0,permissions:Object.fromEntries(z.map(a=>[a.id,!1])),fieldPermissions:A.map(a=>({field:a.field,module:a.module,canView:!1,canEdit:!1}))};o([...n,b]),B(b),F(""),H(""),D(!1),a({title:"Role created",description:`${E} has been created successfully.`})},className:"w-full",children:"Create Role"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,b.jsxs)(d.Card,{className:"p-6 md:col-span-1",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Roles"}),(0,b.jsx)("div",{className:"space-y-2",children:n.map(c=>(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("button",{onClick:()=>B(c),className:`w-full text-left p-4 rounded-lg border transition-all ${p.id===c.id?"border-[#635bff] bg-[#635bff]/5":"border-border hover:border-[#635bff]/50"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(j.Shield,{className:"h-5 w-5 text-[#635bff]"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-medium",children:c.name}),c.isCustom&&(0,b.jsx)(y.Badge,{variant:"outline",className:"text-xs",children:"Custom"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[c.userCount," users"]})]})]})}),c.isCustom&&(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:b=>{var d;let e;b.stopPropagation(),d=c.id,e=n.find(a=>a.id===d),e?.isCustom?(o(n.filter(a=>a.id!==d)),B(n[0]),a({title:"Role deleted",description:"Custom role has been removed."})):a({title:"Error",description:"Cannot delete system roles",variant:"destructive"})},children:(0,b.jsx)(r.Trash2,{className:"h-4 w-4 text-destructive"})})]},c.id))})]}),(0,b.jsxs)(d.Card,{className:"p-6 md:col-span-2",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:p.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:p.description})]}),(0,b.jsx)(e.Button,{variant:"outline",asChild:!0,children:(0,b.jsxs)(v.default,{href:`/accounting/permissions/${p.id}/users`,children:[(0,b.jsx)(k.Users,{className:"mr-2 h-4 w-4"}),"Manage Users"]})})]})}),(0,b.jsxs)(x.Tabs,{defaultValue:"module",className:"space-y-4",children:[(0,b.jsxs)(x.TabsList,{className:"grid w-full grid-cols-2",children:[(0,b.jsx)(x.TabsTrigger,{value:"module",children:"Module Permissions"}),(0,b.jsx)(x.TabsTrigger,{value:"field",children:"Field-Level Security"})]}),(0,b.jsx)(x.TabsContent,{value:"module",className:"space-y-4",children:Object.entries(J).map(([c,d])=>(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground",children:c}),(0,b.jsx)("div",{className:"space-y-2",children:d.map(c=>{let d=c.icon;return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-[#635bff]/10 rounded-lg flex items-center justify-center",children:(0,b.jsx)(d,{className:"h-5 w-5 text-[#635bff]"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:c.id,className:"font-medium cursor-pointer",children:c.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:c.description})]})]}),(0,b.jsx)(f.Switch,{id:c.id,checked:p.permissions[c.id]||!1,onCheckedChange:()=>{var b;let d;return b=c.id,void(B(d={...p,permissions:{...p.permissions,[b]:!p.permissions[b]}}),o(n.map(a=>a.id===d.id?d:a)),a({title:"Permission updated",description:"Role permissions have been saved."}))}})]},c.id)})})]},c))}),(0,b.jsxs)(x.TabsContent,{value:"field",className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 p-4 bg-muted/50 rounded-lg",children:[(0,b.jsx)(s.Lock,{className:"h-5 w-5 text-[#635bff]"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Field-Level Security"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Control access to specific fields within modules"})]})]}),Object.entries(A.reduce((a,b)=>(a[b.module]||(a[b.module]=[]),a[b.module].push(b),a),{})).map(([a,c])=>(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(t.Database,{className:"h-4 w-4"}),a]}),(0,b.jsx)("div",{className:"space-y-2",children:c.map(a=>{let c=p.fieldPermissions.find(b=>b.module===a.module&&b.field===a.field);return(0,b.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"font-medium",children:a.field}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Switch,{id:`${a.module}-${a.field}-view`,checked:c?.canView||!1,onCheckedChange:()=>I(a.module,a.field,"view")}),(0,b.jsxs)(g.Label,{htmlFor:`${a.module}-${a.field}-view`,className:"text-sm cursor-pointer",children:[(0,b.jsx)(l.Eye,{className:"h-4 w-4 inline mr-1"}),"Can View"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Switch,{id:`${a.module}-${a.field}-edit`,checked:c?.canEdit||!1,disabled:!c?.canView,onCheckedChange:()=>I(a.module,a.field,"edit")}),(0,b.jsxs)(g.Label,{htmlFor:`${a.module}-${a.field}-edit`,className:`text-sm ${!c?.canView?"opacity-50":"cursor-pointer"}`,children:[(0,b.jsx)(m.Edit,{className:"h-4 w-4 inline mr-1"}),"Can Edit"]})]})]})]},`${a.module}-${a.field}`)})})]},a))]})]})]})]})]})}])}];

//# sourceMappingURL=taxu-platform_v0-taxu-landing-page_components_user-roles-client_tsx_9f8e6f02._.js.map