module.exports=[453364,a=>{"use strict";var b=a.i(24500),c=a.i(598293),d=a.i(419716),e=a.i(27866),f=a.i(561080),g=a.i(256266),h=a.i(878056),i=a.i(690747),j=a.i(570856),k=a.i(107560),l=a.i(990681),m=a.i(177584),n=a.i(745818),o=a.i(504047),p=a.i(181563),q=a.i(440454),r=a.i(30487),s=a.i(706051),t=a.i(300976),u=a.i(618001),v=a.i(208901),w=a.i(552497),x=a.i(412855),y=a.i(852460);let z=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];function A({recipientId:a,onSuccess:e}){let[g,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)({firstName:"",lastName:"",businessName:"",email:"",phone:"",ssn:"",ein:"",tinType:"SSN",streetAddress:"",city:"",state:"",zipCode:"",notes:""}),{toast:m}=(0,i.useToast)();(0,c.useEffect)(()=>{a&&n()},[a]);let n=async()=>{try{console.log("[v0] Fetching recipient:",a);let b=await fetch(`/api/recipients/${a}`),c=(await b.json()).recipient;l({firstName:c.first_name,lastName:c.last_name,businessName:c.business_name||"",email:c.email||"",phone:c.phone||"",ssn:c.ssn||"",ein:c.ein||"",tinType:c.tin_type,streetAddress:c.street_address,city:c.city,state:c.state,zipCode:c.zip_code,notes:c.notes||""})}catch(a){console.error("[v0] Error fetching recipient:",a),m({title:"Error",description:"Failed to fetch recipient details",variant:"destructive"})}},o=async b=>{if(b.preventDefault(),!k.firstName||!k.lastName)return void m({title:"Validation Error",description:"First name and last name are required",variant:"destructive"});if(!k.ssn&&!k.ein)return void m({title:"Validation Error",description:"Either SSN or EIN is required",variant:"destructive"});if(!k.streetAddress||!k.city||!k.state||!k.zipCode)return void m({title:"Validation Error",description:"Complete address is required",variant:"destructive"});j(!0);try{console.log("[v0] Submitting recipient form:",{...k,ssn:"***",ein:"***"});let b=a?`/api/recipients/${a}`:"/api/recipients",c=await fetch(b,{method:a?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}),d=await c.json();if(console.log("[v0] Recipient API response:",{success:d.success,error:d.error}),d.success)m({title:"Success",description:a?"Recipient updated successfully":"Recipient added successfully"}),e();else throw Error(d.error||"Failed to save recipient")}catch(a){console.error("[v0] Error submitting recipient:",a),m({title:"Error",description:a instanceof Error?a.message:"Failed to save recipient",variant:"destructive"})}finally{j(!1)}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.DialogHeader,{children:[(0,b.jsx)(h.DialogTitle,{children:a?"Edit Recipient":"Add New Recipient"}),(0,b.jsx)(h.DialogDescription,{children:a?"Update recipient information":"Add a new contractor or recipient for 1099 filing"})]}),(0,b.jsxs)("form",{onSubmit:o,className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"firstName",children:"First Name *"}),(0,b.jsx)(f.Input,{id:"firstName",value:k.firstName,onChange:a=>l({...k,firstName:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"lastName",children:"Last Name *"}),(0,b.jsx)(f.Input,{id:"lastName",value:k.lastName,onChange:a=>l({...k,lastName:a.target.value}),required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"businessName",children:"Business Name (Optional)"}),(0,b.jsx)(f.Input,{id:"businessName",value:k.businessName,onChange:a=>l({...k,businessName:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(f.Input,{id:"email",type:"email",value:k.email,onChange:a=>l({...k,email:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsx)(f.Input,{id:"phone",value:k.phone,onChange:a=>l({...k,phone:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(u.Label,{htmlFor:"ssn",className:"flex items-center gap-2",children:["SSN *",(0,b.jsx)(q.Lock,{className:"w-3 h-3 text-green-500"})]}),(0,b.jsx)(f.Input,{id:"ssn",value:k.ssn,onChange:a=>{let b=(0,y.formatSSN)(a.target.value);l({...k,ssn:b,tinType:"SSN"})},placeholder:"XXX-XX-XXXX",maxLength:11}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"AES-256 encrypted at rest"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(u.Label,{htmlFor:"ein",className:"flex items-center gap-2",children:["EIN (if business)",(0,b.jsx)(q.Lock,{className:"w-3 h-3 text-green-500"})]}),(0,b.jsx)(f.Input,{id:"ein",value:k.ein,onChange:a=>{let b=(0,y.formatEIN)(a.target.value);l({...k,ein:b,tinType:"EIN"})},placeholder:"XX-XXXXXXX",maxLength:10}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Encrypted and secure"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"streetAddress",children:"Street Address *"}),(0,b.jsx)(f.Input,{id:"streetAddress",value:k.streetAddress,onChange:a=>l({...k,streetAddress:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"city",children:"City *"}),(0,b.jsx)(f.Input,{id:"city",value:k.city,onChange:a=>l({...k,city:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"state",children:"State *"}),(0,b.jsxs)(w.Select,{value:k.state,onValueChange:a=>l({...k,state:a}),children:[(0,b.jsx)(w.SelectTrigger,{children:(0,b.jsx)(w.SelectValue,{placeholder:"Select"})}),(0,b.jsx)(w.SelectContent,{children:z.map(a=>(0,b.jsx)(w.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"zipCode",children:"ZIP Code *"}),(0,b.jsx)(f.Input,{id:"zipCode",value:k.zipCode,onChange:a=>l({...k,zipCode:a.target.value}),required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"notes",children:"Notes"}),(0,b.jsx)(v.Textarea,{id:"notes",value:k.notes,onChange:a=>l({...k,notes:a.target.value}),rows:3})]}),(0,b.jsx)("div",{className:"flex justify-end gap-2 pt-4",children:(0,b.jsxs)(d.Button,{type:"submit",disabled:g,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",children:[g&&(0,b.jsx)(x.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),a?"Update Recipient":"Add Recipient"]})})]})]})}var B=a.i(89932);function C({recipientId:a,recipientName:e,children:k}){let[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[v,w]=(0,c.useState)({amount:"",payment_date:new Date().toISOString().split("T")[0],description:"",tax_year:new Date().getFullYear()}),{toast:x}=(0,i.useToast)();(0,c.useEffect)(()=>{q&&y()},[q]);let y=async()=>{o(!0);try{let b=await fetch(`/api/recipients/${a}/payments`),c=await b.json();m(c.payments||[])}catch(a){x({title:"Error",description:"Failed to fetch payment history",variant:"destructive"})}finally{o(!1)}},z=async()=>{if(!v.amount||0>=Number.parseFloat(v.amount))return void x({title:"Error",description:"Please enter a valid payment amount",variant:"destructive"});try{(await fetch(`/api/recipients/${a}/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:Number.parseFloat(v.amount),payment_date:v.payment_date,description:v.description,tax_year:v.tax_year})})).ok&&(x({title:"Success",description:"Payment added successfully"}),t(!1),w({amount:"",payment_date:new Date().toISOString().split("T")[0],description:"",tax_year:new Date().getFullYear()}),y())}catch(a){x({title:"Error",description:"Failed to add payment",variant:"destructive"})}},A=l.reduce((a,b)=>a+b.amount,0);return(0,b.jsxs)(h.Dialog,{open:q,onOpenChange:r,children:[(0,b.jsx)(h.DialogTrigger,{asChild:!0,children:k}),(0,b.jsxs)(h.DialogContent,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[(0,b.jsx)(h.DialogHeader,{children:(0,b.jsxs)(h.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.DollarSign,{className:"w-5 h-5 text-green-500"}),"Payment History - ",e]})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 bg-muted/50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Payments"}),(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",A.toFixed(2)]})]}),(0,b.jsxs)(d.Button,{onClick:()=>t(!s),variant:"outline",size:"sm",children:[(0,b.jsx)(j.Plus,{className:"w-4 h-4 mr-2"}),"Add Payment"]})]}),s&&(0,b.jsxs)("div",{className:"p-4 border rounded-lg space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Add New Payment"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{htmlFor:"amount",children:"Amount *"}),(0,b.jsx)(f.Input,{id:"amount",type:"number",step:"0.01",placeholder:"0.00",value:v.amount,onChange:a=>w({...v,amount:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{htmlFor:"payment_date",children:"Payment Date *"}),(0,b.jsx)(f.Input,{id:"payment_date",type:"date",value:v.payment_date,onChange:a=>w({...v,payment_date:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{htmlFor:"tax_year",children:"Tax Year"}),(0,b.jsx)(f.Input,{id:"tax_year",type:"number",value:v.tax_year,onChange:a=>w({...v,tax_year:Number.parseInt(a.target.value)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(f.Input,{id:"description",placeholder:"Optional",value:v.description,onChange:a=>w({...v,description:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{onClick:z,className:"bg-green-500 hover:bg-green-600",children:"Save Payment"}),(0,b.jsx)(d.Button,{onClick:()=>t(!1),variant:"outline",children:"Cancel"})]})]}),(0,b.jsx)("div",{className:"border rounded-lg",children:(0,b.jsxs)(g.Table,{children:[(0,b.jsx)(g.TableHeader,{children:(0,b.jsxs)(g.TableRow,{children:[(0,b.jsx)(g.TableHead,{children:"Date"}),(0,b.jsx)(g.TableHead,{children:"Amount"}),(0,b.jsx)(g.TableHead,{children:"Tax Year"}),(0,b.jsx)(g.TableHead,{children:"Description"})]})}),(0,b.jsx)(g.TableBody,{children:n?(0,b.jsx)(g.TableRow,{children:(0,b.jsx)(g.TableCell,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"Loading payments..."})}):0===l.length?(0,b.jsx)(g.TableRow,{children:(0,b.jsx)(g.TableCell,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No payments recorded yet"})}):l.map(a=>(0,b.jsxs)(g.TableRow,{children:[(0,b.jsx)(g.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(B.Calendar,{className:"w-4 h-4 text-muted-foreground"}),new Date(a.payment_date).toLocaleDateString()]})}),(0,b.jsxs)(g.TableCell,{className:"font-medium",children:["$",a.amount.toFixed(2)]}),(0,b.jsx)(g.TableCell,{children:a.tax_year}),(0,b.jsx)(g.TableCell,{className:"text-muted-foreground",children:a.description||"-"})]},a.id))})]})})]})]})]})}var D=a.i(301755),E=a.i(477242),F=a.i(698677),G=a.i(930726),H=a.i(48204);function I({onSuccess:a}){let[e,f]=(0,c.useState)(null),[g,j]=(0,c.useState)(!1),[k,n]=(0,c.useState)(null),{toast:o}=(0,i.useToast)(),p=async()=>{if(e){j(!0);try{let b=await (0,H.parseCSV)(e),c=await fetch("/api/recipients/bulk-import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipients:b})}),d=await c.json();c.ok?(n(d),o({title:"Import Complete",description:`Successfully imported ${d.success} recipients`}),d.success>0&&a()):o({title:"Import Failed",description:d.error||"Failed to import recipients",variant:"destructive"})}catch(a){o({title:"Error",description:"Failed to process CSV file",variant:"destructive"})}finally{j(!1)}}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(h.DialogHeader,{children:(0,b.jsxs)(h.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Upload,{className:"w-5 h-5 text-purple-500"}),"Bulk Import Recipients"]})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(G.AlertCircle,{className:"w-5 h-5 text-blue-500 mt-0.5"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsx)("p",{className:"font-medium",children:"CSV Format Requirements:"}),(0,b.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[(0,b.jsx)("li",{children:"Required columns: first_name, last_name, street_address, city, state, zip_code"}),(0,b.jsx)("li",{children:"TIN: Provide either SSN or EIN (not both)"}),(0,b.jsx)("li",{children:'tin_type: Must be either "SSN" or "EIN"'}),(0,b.jsx)("li",{children:"Optional: business_name, email, phone"})]}),(0,b.jsxs)(d.Button,{variant:"link",onClick:()=>{let a=new Blob([`first_name,last_name,business_name,email,phone,ssn,ein,tin_type,street_address,city,state,zip_code
John,Doe,Doe Consulting,john@example.com,555-0100,123-45-6789,,SSN,123 Main St,New York,NY,10001
Jane,Smith,Smith LLC,jane@example.com,555-0200,,12-3456789,EIN,456 Oak Ave,Los Angeles,CA,90001`],{type:"text/csv"}),b=window.URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download="recipients-template.csv",document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(b),document.body.removeChild(c)},className:"h-auto p-0 text-blue-500",children:[(0,b.jsx)(l.Download,{className:"w-4 h-4 mr-1"}),"Download CSV Template"]})]})]})}),(0,b.jsxs)("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[(0,b.jsx)("input",{type:"file",accept:".csv",onChange:a=>{let b=a.target.files?.[0];if(b){if(!b.name.endsWith(".csv"))return void o({title:"Invalid File",description:"Please upload a CSV file",variant:"destructive"});f(b),n(null)}},className:"hidden",id:"csv-upload",disabled:g}),(0,b.jsx)("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-purple-500/20 flex items-center justify-center",children:(0,b.jsx)(D.FileText,{className:"w-8 h-8 text-purple-500"})}),e?(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:e.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(e.size/1024).toFixed(2)," KB"]})]}):(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Click to upload CSV file"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"or drag and drop"})]})]})})]}),e&&(0,b.jsx)(d.Button,{onClick:p,disabled:g,className:"w-full bg-purple-500 hover:bg-purple-600",children:g?"Importing...":"Import Recipients"}),k&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(E.CheckCircle,{className:"w-5 h-5 text-green-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:k.success}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Successful"})]})]})}),(0,b.jsx)("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(F.XCircle,{className:"w-5 h-5 text-red-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:k.failed}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Failed"})]})]})})]}),k.errors.length>0&&(0,b.jsxs)("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg max-h-48 overflow-y-auto",children:[(0,b.jsx)("p",{className:"font-medium mb-2 text-red-500",children:"Errors:"}),(0,b.jsx)("ul",{className:"space-y-1 text-sm",children:k.errors.map((a,c)=>(0,b.jsxs)("li",{className:"text-muted-foreground",children:["Row ",a.row,": ",a.error]},c))})]})]})]})]})}a.s(["RecipientsClient",0,function({userId:a}){let[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(""),[B,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),{toast:L}=(0,i.useToast)();(0,c.useEffect)(()=>{M()},[]),(0,c.useEffect)(()=>{y?x(u.filter(a=>a.first_name.toLowerCase().includes(y.toLowerCase())||a.last_name.toLowerCase().includes(y.toLowerCase())||a.email?.toLowerCase().includes(y.toLowerCase())||a.business_name?.toLowerCase().includes(y.toLowerCase()))):x(u)},[y,u]);let M=async()=>{try{let a=await fetch("/api/recipients"),b=await a.json();v(b.recipients||[]),x(b.recipients||[])}catch(a){L({title:"Error",description:"Failed to fetch recipients",variant:"destructive"})}finally{D(!1)}},N=async a=>{if(confirm("Are you sure you want to delete this recipient?"))try{(await fetch(`/api/recipients/${a}`,{method:"DELETE"})).ok&&(L({title:"Success",description:"Recipient deleted successfully"}),M())}catch(a){L({title:"Error",description:"Failed to delete recipient",variant:"destructive"})}},O=async()=>{try{let a=await fetch("/api/recipients/export"),b=await a.blob(),c=window.URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`recipients-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),L({title:"Success",description:"Recipients exported successfully"})}catch(a){L({title:"Error",description:"Failed to export recipients",variant:"destructive"})}};return(0,b.jsx)("div",{className:"min-h-screen bg-background pt-20",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[(0,b.jsx)(t.default,{href:"/1099-filing",children:(0,b.jsxs)(d.Button,{variant:"ghost",className:"mb-6 text-muted-foreground hover:text-foreground",children:[(0,b.jsx)(r.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to 1099 Filing"]})}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg bg-purple-500/20 flex items-center justify-center",children:(0,b.jsx)(s.Users,{className:"w-6 h-6 text-purple-500"})}),(0,b.jsx)("h1",{className:"text-4xl font-bold",children:"Manage Recipients"})]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Add and manage contractor information for easy filing and record keeping"})]}),(0,b.jsx)(e.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center",children:[(0,b.jsxs)("div",{className:"relative flex-1 w-full md:max-w-md",children:[(0,b.jsx)(k.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(f.Input,{placeholder:"Search recipients...",value:y,onChange:a=>z(a.target.value),className:"pl-10"})]}),(0,b.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,b.jsxs)(h.Dialog,{open:J,onOpenChange:K,children:[(0,b.jsx)(h.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{variant:"outline",className:"flex-1 md:flex-none bg-transparent",children:[(0,b.jsx)(m.Upload,{className:"w-4 h-4 mr-2"}),"Import CSV"]})}),(0,b.jsx)(h.DialogContent,{className:"max-w-2xl",children:(0,b.jsx)(I,{onSuccess:()=>{K(!1),M()}})})]}),(0,b.jsxs)(d.Button,{variant:"outline",onClick:O,className:"flex-1 md:flex-none bg-transparent",children:[(0,b.jsx)(l.Download,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),(0,b.jsxs)(h.Dialog,{open:G,onOpenChange:H,children:[(0,b.jsx)(h.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{className:"bg-purple-500 hover:bg-purple-600 flex-1 md:flex-none",children:[(0,b.jsx)(j.Plus,{className:"w-4 h-4 mr-2"}),"Add Recipient"]})}),(0,b.jsx)(h.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,b.jsx)(A,{onSuccess:()=>{H(!1),M()}})})]})]})]})}),(0,b.jsx)(e.Card,{className:"border-neon/20 bg-card/50 backdrop-blur",children:(0,b.jsxs)(g.Table,{children:[(0,b.jsx)(g.TableHeader,{children:(0,b.jsxs)(g.TableRow,{children:[(0,b.jsx)(g.TableHead,{children:"Name"}),(0,b.jsx)(g.TableHead,{children:"Contact"}),(0,b.jsx)(g.TableHead,{children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(q.Lock,{className:"w-3 h-3 text-green-500"}),"TIN"]})}),(0,b.jsx)(g.TableHead,{children:"Address"}),(0,b.jsx)(g.TableHead,{children:"Payments"}),(0,b.jsx)(g.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(g.TableBody,{children:B?(0,b.jsx)(g.TableRow,{children:(0,b.jsx)(g.TableCell,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Loading recipients..."})}):0===w.length?(0,b.jsx)(g.TableRow,{children:(0,b.jsx)(g.TableCell,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:y?"No recipients found matching your search":"No recipients yet. Add your first recipient to get started."})}):w.map(a=>(0,b.jsxs)(g.TableRow,{children:[(0,b.jsx)(g.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-medium",children:[a.first_name," ",a.last_name]}),a.business_name&&(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:a.business_name})]})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsxs)("div",{className:"text-sm",children:[a.email&&(0,b.jsx)("div",{children:a.email}),a.phone&&(0,b.jsx)("div",{className:"text-muted-foreground",children:a.phone})]})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(q.Lock,{className:"w-3 h-3 text-green-500"}),a.tin_type]}),(0,b.jsx)("div",{className:"text-muted-foreground font-mono",children:a.ssn_masked||a.ein_masked})]})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{children:a.street_address}),(0,b.jsxs)("div",{className:"text-muted-foreground",children:[a.city,", ",a.state," ",a.zip_code]})]})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsx)(C,{recipientId:a.id,recipientName:`${a.first_name} ${a.last_name}`,children:(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",className:"h-auto p-0 hover:bg-transparent",children:(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsxs)("div",{className:"font-medium",children:["$",a.total_payments?.toFixed(2)||"0.00"]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[a.payment_count||0," payments"]})]})})})}),(0,b.jsx)(g.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsxs)(h.Dialog,{children:[(0,b.jsx)(h.DialogTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(n.Edit,{className:"w-4 h-4"})})}),(0,b.jsx)(h.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:(0,b.jsx)(A,{recipientId:a.id,onSuccess:()=>M()})})]}),(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>N(a.id),className:"hover:bg-red-500/10 hover:text-red-500",children:(0,b.jsx)(o.Trash2,{className:"w-4 h-4"})})]})})]},a.id))})]})}),(0,b.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsx)(e.Card,{className:"p-4 border-neon/20 bg-gradient-to-br from-purple-500/10 to-pink-500/10",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(s.Users,{className:"w-8 h-8 text-purple-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:u.length}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Recipients"})]})]})}),(0,b.jsx)(e.Card,{className:"p-4 border-neon/20 bg-gradient-to-br from-green-500/10 to-emerald-500/10",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p.DollarSign,{className:"w-8 h-8 text-green-500"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",u.reduce((a,b)=>a+(b.total_payments||0),0).toFixed(2)]}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Payments"})]})]})}),(0,b.jsx)(e.Card,{className:"p-4 border-neon/20 bg-gradient-to-br from-blue-500/10 to-cyan-500/10",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(q.Lock,{className:"w-8 h-8 text-blue-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:"AES-256"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Encrypted Storage"})]})]})})]})]})})}],453364)}];

//# sourceMappingURL=taxu-platform_v0-taxu-landing-page_components_recipients-client_tsx_a34c3457._.js.map