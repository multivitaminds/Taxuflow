module.exports=[369057,a=>{"use strict";var b=a.i(24500),c=a.i(27866),d=a.i(419716),e=a.i(676996),f=a.i(570856),g=a.i(504047);let h=(0,a.i(540567).default)("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);var i=a.i(654136),j=a.i(72207),k=a.i(698677),l=a.i(306150),m=a.i(303905),n=a.i(738048),o=a.i(526894),p=a.i(953377),q=a.i(598293),r=a.i(878056),s=a.i(561080),t=a.i(618001),u=a.i(208901),v=a.i(608719),w=a.i(690747),x=a.i(296465);let y=[{value:"tax.filing.created",label:"Tax Filing Created",category:"Tax Filing",description:"Triggered when a new tax filing is created"},{value:"tax.filing.submitted",label:"Tax Filing Submitted",category:"Tax Filing",description:"Triggered when a tax filing is submitted to IRS"},{value:"tax.filing.accepted",label:"Tax Filing Accepted",category:"Tax Filing",description:"Triggered when IRS accepts the filing"},{value:"tax.filing.rejected",label:"Tax Filing Rejected",category:"Tax Filing",description:"Triggered when IRS rejects the filing"},{value:"tax.filing.amended",label:"Tax Filing Amended",category:"Tax Filing",description:"Triggered when a filing is amended"},{value:"payment.succeeded",label:"Payment Succeeded",category:"Payments",description:"Triggered when a payment is successfully processed"},{value:"payment.failed",label:"Payment Failed",category:"Payments",description:"Triggered when a payment fails"},{value:"payment.refunded",label:"Payment Refunded",category:"Payments",description:"Triggered when a payment is refunded"},{value:"transaction.posted",label:"Transaction Posted",category:"Banking",description:"Triggered when a bank transaction is posted"},{value:"account.updated",label:"Account Updated",category:"Banking",description:"Triggered when account information changes"},{value:"transfer.completed",label:"Transfer Completed",category:"Banking",description:"Triggered when a transfer completes"},{value:"document.uploaded",label:"Document Uploaded",category:"Documents",description:"Triggered when a document is uploaded"},{value:"document.processed",label:"Document Processed",category:"Documents",description:"Triggered when document processing completes"},{value:"document.verified",label:"Document Verified",category:"Documents",description:"Triggered when a document is verified"}];a.s(["default",0,function(){let[a,z]=(0,q.useState)([]),[A,B]=(0,q.useState)([]),[C,D]=(0,q.useState)(!0),[E,F]=(0,q.useState)(!1),[G,H]=(0,q.useState)(!1),[I,J]=(0,q.useState)([]),[K,L]=(0,q.useState)(""),[M,N]=(0,q.useState)(""),[O,P]=(0,q.useState)({}),{toast:Q}=(0,w.useToast)();async function R(){try{let a=await fetch("/api/webhooks/endpoints");if(a.ok){let b=await a.json();z(b.endpoints||[])}}catch(a){console.error("Error loading webhooks:",a)}finally{D(!1)}}async function S(){if(console.log("[v0] Create webhook called",{url:K,selectedEventsCount:I.length}),!K)return void Q({title:"URL required",description:"Please enter a webhook endpoint URL",variant:"destructive"});if(0===I.length)return void Q({title:"No events selected",description:"Please select at least one event to subscribe to",variant:"destructive"});try{new URL(K)}catch{Q({title:"Invalid URL",description:"Please enter a valid URL (e.g., https://api.example.com/webhooks)",variant:"destructive"});return}H(!0),console.log("[v0] Sending create webhook request",{url:K,events:I});try{let a=await fetch("/api/webhooks/endpoints",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:K,description:M,events:I})});if(console.log("[v0] Create webhook response status:",a.status),a.ok){let b=await a.json();console.log("[v0] Webhook created successfully:",b),Q({title:"Webhook created",description:"Your webhook endpoint has been created successfully"}),F(!1),L(""),N(""),J([]),R()}else{let b="Failed to create webhook endpoint";try{let c=await a.json();b=c.error||b,console.error("[v0] Create webhook error:",c)}catch{let c=await a.text();b=c||b,console.error("[v0] Create webhook text error:",c)}401===a.status?Q({title:"Authentication required",description:"Please sign in to create webhook endpoints",variant:"destructive"}):Q({title:"Error creating webhook",description:b,variant:"destructive"})}}catch(a){console.error("[v0] Create webhook exception:",a),Q({title:"Network error",description:a instanceof Error?a.message:"Failed to connect to the server",variant:"destructive"})}finally{H(!1)}}async function T(a){if(confirm("Are you sure you want to delete this webhook endpoint?"))try{(await fetch(`/api/webhooks/endpoints/${a}`,{method:"DELETE"})).ok&&(Q({title:"Webhook deleted",description:"The webhook endpoint has been removed"}),R())}catch(a){Q({title:"Error",description:"Failed to delete webhook",variant:"destructive"})}}async function U(a){try{let b=await fetch("/api/webhooks/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint_id:a})}),c=await b.json();c.success?Q({title:"Test successful",description:`Webhook responded with status ${c.status}`}):Q({title:"Test failed",description:c.error||`HTTP ${c.status}: ${c.statusText}`,variant:"destructive"})}catch(a){Q({title:"Test failed",description:"Failed to send test webhook",variant:"destructive"})}}(0,q.useEffect)(()=>{R()},[]);let V=a=>{navigator.clipboard.writeText(a),Q({title:"Copied",description:"Copied to clipboard"})},W=y.reduce((a,b)=>(a[b.category]||(a[b.category]=[]),a[b.category].push(b),a),{});return C?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading webhooks..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950",children:[(0,b.jsxs)("div",{className:"gradient-stripe-hero relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-grid-white/[0.02] bg-[size:60px_60px]"}),(0,b.jsx)("div",{className:"relative mx-auto max-w-7xl px-6 py-16 lg:px-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10 backdrop-blur-sm",children:(0,b.jsx)(l.Zap,{className:"h-6 w-6 text-primary"})}),(0,b.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Webhooks"})]}),(0,b.jsx)("p",{className:"max-w-2xl text-lg text-blue-100",children:"Receive real-time notifications when events occur in your Taxu account. Build reactive integrations with our webhook infrastructure."}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-sm text-blue-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Automatic retries"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"HMAC signature verification"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Delivery logs"})]})]})]}),(0,b.jsxs)(r.Dialog,{open:E,onOpenChange:F,children:[(0,b.jsx)(r.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{size:"lg",className:"bg-white text-slate-900 hover:bg-white/90 shadow-xl",children:[(0,b.jsx)(f.Plus,{className:"mr-2 h-5 w-5"}),"Add Endpoint"]})}),(0,b.jsxs)(r.DialogContent,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{className:"text-2xl",children:"Create Webhook Endpoint"}),(0,b.jsx)(r.DialogDescription,{children:"Subscribe to events and receive real-time notifications when they occur"})]}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{htmlFor:"url",className:"text-base font-semibold",children:"Endpoint URL"}),(0,b.jsx)(s.Input,{id:"url",type:"url",placeholder:"https://api.yoursite.com/webhooks/taxu",value:K,onChange:a=>L(a.target.value),className:"h-11"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Must be a valid HTTPS URL (HTTP allowed in test mode)"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(t.Label,{htmlFor:"description",className:"text-base font-semibold",children:"Description (optional)"}),(0,b.jsx)(u.Textarea,{id:"description",placeholder:"e.g., Production webhook for tax filing events",value:M,onChange:a=>N(a.target.value),rows:3})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(t.Label,{className:"text-base font-semibold",children:"Select Events to Subscribe"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Choose which events you want to receive. You can update this later."})]}),I.length>0&&(0,b.jsxs)(e.Badge,{variant:"default",className:"ml-4",children:[I.length," selected"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(W).map(([a,d])=>(0,b.jsxs)(c.Card,{className:"border-2 p-4",children:[(0,b.jsxs)("h3",{className:"mb-3 flex items-center gap-2 font-semibold",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary"}),a]}),(0,b.jsx)("div",{className:"space-y-3",children:d.map(a=>(0,b.jsxs)("div",{className:"flex items-start space-x-3 rounded-lg p-2 hover:bg-muted/50 transition-colors",children:[(0,b.jsx)(v.Checkbox,{id:a.value,checked:I.includes(a.value),onCheckedChange:b=>{console.log("[v0] Checkbox changed",{event:a.value,checked:b}),b?J([...I,a.value]):J(I.filter(b=>b!==a.value))},className:"mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>{let b=document.getElementById(a.value);b?.click()},children:[(0,b.jsx)(t.Label,{htmlFor:a.value,className:"cursor-pointer font-medium",children:a.label}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.value))})]},a))})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,b.jsx)(d.Button,{onClick:S,size:"lg",className:"flex-1",disabled:G||!K||0===I.length,children:G?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.CheckCircle2,{className:"mr-2 h-5 w-5"}),"Create Endpoint"]})}),(0,b.jsx)(d.Button,{variant:"outline",size:"lg",onClick:()=>{F(!1),L(""),N(""),J([])},disabled:G,children:"Cancel"})]})]})]})]})]})})]}),(0,b.jsxs)("div",{className:"mx-auto max-w-7xl px-6 py-12 lg:px-8",children:[(0,b.jsxs)(x.Tabs,{defaultValue:"endpoints",className:"space-y-8",children:[(0,b.jsxs)(x.TabsList,{className:"grid w-full max-w-md grid-cols-2",children:[(0,b.jsx)(x.TabsTrigger,{value:"endpoints",children:"Endpoints"}),(0,b.jsx)(x.TabsTrigger,{value:"events",children:"Event Catalog"})]}),(0,b.jsx)(x.TabsContent,{value:"endpoints",className:"space-y-6",children:0===a.length?(0,b.jsx)(c.Card,{className:"border-2 border-dashed",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-16 text-center",children:[(0,b.jsx)("div",{className:"mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-primary/10",children:(0,b.jsx)(i.Activity,{className:"h-10 w-10 text-primary"})}),(0,b.jsx)("h3",{className:"mb-2 text-xl font-semibold",children:"No webhook endpoints yet"}),(0,b.jsx)("p",{className:"mb-6 max-w-md text-muted-foreground",children:"Create your first webhook endpoint to start receiving real-time event notifications from Taxu"}),(0,b.jsxs)(d.Button,{onClick:()=>F(!0),size:"lg",children:[(0,b.jsx)(f.Plus,{className:"mr-2 h-5 w-5"}),"Create Your First Endpoint"]})]})}):(0,b.jsx)("div",{className:"grid gap-6",children:a.map(a=>(0,b.jsxs)(c.Card,{className:"overflow-hidden border-2 transition-all hover:shadow-lg",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-900/50 dark:to-blue-950/50 p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(e.Badge,{variant:"active"===a.status?"default":"secondary",className:"px-3 py-1",children:["active"===a.status?(0,b.jsx)(j.CheckCircle2,{className:"mr-1 h-3 w-3"}):(0,b.jsx)(k.XCircle,{className:"mr-1 h-3 w-3"}),a.status]}),(0,b.jsx)(e.Badge,{variant:"outline",className:"px-3 py-1",children:a.environment})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("code",{className:"rounded-lg bg-black/5 dark:bg-white/5 px-4 py-2 text-sm font-mono",children:a.url}),(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>V(a.url),className:"h-8 w-8 p-0",children:(0,b.jsx)(m.Copy,{className:"h-4 w-4"})})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>U(a.id),children:[(0,b.jsx)(h,{className:"mr-2 h-4 w-4"}),"Test"]}),(0,b.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>T(a.id),children:(0,b.jsx)(g.Trash2,{className:"h-4 w-4"})})]})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"mb-3 flex items-center gap-2 text-sm font-semibold",children:[(0,b.jsx)(l.Zap,{className:"h-4 w-4 text-primary"}),"Subscribed Events (",a.webhook_subscriptions?.length||0,")"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.webhook_subscriptions?.map(a=>(0,b.jsx)(e.Badge,{variant:"secondary",className:"px-3 py-1",children:a.event_type},a.id))})]}),(0,b.jsx)("div",{className:"rounded-lg border-2 border-dashed p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Label,{className:"mb-2 flex items-center gap-2 text-sm font-semibold",children:"Signing Secret"}),(0,b.jsx)("code",{className:"text-xs font-mono text-muted-foreground",children:O[a.id]?a.secret:`${a.secret.substring(0,20)}${"â€¢".repeat(20)}`})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>P(b=>({...b,[a.id]:!b[a.id]})),children:O[a.id]?(0,b.jsx)(o.EyeOff,{className:"h-4 w-4"}):(0,b.jsx)(n.Eye,{className:"h-4 w-4"})}),(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>V(a.secret),children:(0,b.jsx)(m.Copy,{className:"h-4 w-4"})})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,b.jsx)("p",{className:"mb-1 text-sm text-muted-foreground",children:"Created"}),(0,b.jsx)("p",{className:"font-semibold",children:new Date(a.created_at).toLocaleDateString()})]}),(0,b.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,b.jsx)("p",{className:"mb-1 text-sm text-muted-foreground",children:"Last Triggered"}),(0,b.jsx)("p",{className:"font-semibold",children:a.last_triggered_at?new Date(a.last_triggered_at).toLocaleString():(0,b.jsx)("span",{className:"text-muted-foreground",children:"Never"})})]}),(0,b.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,b.jsx)("p",{className:"mb-1 text-sm text-muted-foreground",children:"Total Deliveries"}),(0,b.jsx)("p",{className:"font-semibold",children:a.delivery_count||0})]})]})]})]},a.id))})}),(0,b.jsx)(x.TabsContent,{value:"events",className:"space-y-6",children:(0,b.jsxs)(c.Card,{className:"p-6",children:[(0,b.jsx)("h3",{className:"mb-4 text-xl font-semibold",children:"Available Webhook Events"}),(0,b.jsx)("p",{className:"mb-6 text-muted-foreground",children:"Subscribe to these events to receive real-time notifications when they occur in your Taxu account."}),(0,b.jsx)("div",{className:"space-y-6",children:Object.entries(W).map(([a,d])=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"mb-4 flex items-center gap-2 text-lg font-semibold",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary"}),a]}),(0,b.jsx)("div",{className:"grid gap-3",children:d.map(a=>(0,b.jsx)(c.Card,{className:"p-4 transition-all hover:border-primary/50 hover:shadow-md",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"mb-2 flex items-center gap-2",children:(0,b.jsx)("code",{className:"rounded bg-primary/10 px-2 py-1 text-sm font-mono text-primary",children:a.value})}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]}),(0,b.jsx)(p.ArrowRight,{className:"h-5 w-5 text-muted-foreground"})]})},a.value))})]},a))})]})})]}),(0,b.jsx)(c.Card,{className:"mt-12 border-2 bg-gradient-to-br from-primary/5 to-accent/5 p-8",children:(0,b.jsxs)("div",{className:"flex items-start gap-6",children:[(0,b.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-primary/10",children:(0,b.jsx)(i.Activity,{className:"h-8 w-8 text-primary"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"mb-2 text-2xl font-bold",children:"Need help with webhooks?"}),(0,b.jsx)("p",{className:"mb-4 text-muted-foreground",children:"Check out our comprehensive webhook documentation with code examples, best practices, and security guidelines."}),(0,b.jsx)(d.Button,{variant:"default",size:"lg",asChild:!0,children:(0,b.jsxs)("a",{href:"/developer/docs/webhooks",children:["View Documentation",(0,b.jsx)(p.ArrowRight,{className:"ml-2 h-4 w-4"})]})})]})]})})]})]})}],369057)}];

//# sourceMappingURL=d0c27_v0-taxu-landing-page_app_developer-portal_webhooks_page_tsx_8e20384b._.js.map