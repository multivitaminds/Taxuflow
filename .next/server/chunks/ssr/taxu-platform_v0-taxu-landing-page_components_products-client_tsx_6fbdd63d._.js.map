{"version":3,"sources":["../../../../../../taxu-platform/v0-taxu-landing-page/components/products-client.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Card } from \"@/components/ui/card\"\nimport { Package, Plus, Search, Filter, MoreVertical, Edit, Trash2, DollarSign, TrendingUp, Loader } from \"lucide-react\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\"\nimport { getSupabaseBooksClient } from \"@/lib/supabase/books-client\"\n\ninterface Product {\n  id: string\n  name: string\n  type: \"product\" | \"service\"\n  sku: string\n  price: number\n  cost: number\n  description: string\n  category: string\n  is_taxable: boolean\n  quantity_on_hand: number | null\n  created_at: string\n}\n\nexport function ProductsClient() {\n  const [products, setProducts] = useState<Product[]>([])\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [filterType, setFilterType] = useState(\"all\")\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false)\n  const [loading, setLoading] = useState(true)\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null)\n\n  useEffect(() => {\n    loadProducts()\n  }, [])\n\n  async function loadProducts() {\n    try {\n      console.log(\"[v0] Loading products from database\")\n      const supabase = getSupabaseBooksClient()\n      if (!supabase) {\n        console.error(\"[v0] Supabase client not available\")\n        return\n      }\n\n      const { data, error } = await supabase.from(\"products\").select(\"*\").order(\"created_at\", { ascending: false })\n\n      if (error) {\n        console.error(\"[v0] Error loading products:\", error)\n        throw error\n      }\n      console.log(\"[v0] Products loaded successfully:\", data?.length || 0)\n      setProducts(data || [])\n    } catch (error) {\n      console.error(\"Error loading products:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleDelete = async (productId: string) => {\n    if (!confirm(\"Are you sure you want to delete this product?\")) return\n\n    try {\n      const supabase = getSupabaseBooksClient()\n      if (!supabase) throw new Error(\"Supabase not available\")\n\n      const { error } = await supabase.from(\"products\").delete().eq(\"id\", productId)\n\n      if (error) throw error\n      setProducts(products.filter((p) => p.id !== productId))\n    } catch (error) {\n      console.error(\"Error deleting product:\", error)\n      alert(\"Failed to delete product\")\n    }\n  }\n\n  const filteredProducts = products.filter((product) => {\n    const matchesSearch =\n      product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      product.sku.toLowerCase().includes(searchQuery.toLowerCase())\n    const matchesType = filterType === \"all\" || product.type === filterType\n    return matchesSearch && matchesType\n  })\n\n  const stats = {\n    totalProducts: products.length,\n    services: products.filter((p) => p.type === \"service\").length,\n    physicalProducts: products.filter((p) => p.type === \"product\").length,\n    totalValue: products.reduce((sum, p) => sum + p.price * (p.quantity_on_hand || 1), 0),\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"border-b border-border bg-card\">\n        <div className=\"container mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-foreground mb-2\">Products & Services</h1>\n              <p className=\"text-muted-foreground\">Manage your product catalog and service offerings</p>\n            </div>\n            <Dialog open={isCreateDialogOpen} onOpenChange={setIsCreateDialogOpen}>\n              <DialogTrigger asChild>\n                <Button size=\"lg\" className=\"gap-2\">\n                  <Plus className=\"h-5 w-5\" />\n                  Add Product/Service\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-w-2xl\">\n                <DialogHeader>\n                  <DialogTitle>{editingProduct ? \"Edit\" : \"Add New\"} Product or Service</DialogTitle>\n                </DialogHeader>\n                <ProductForm\n                  onClose={() => {\n                    setIsCreateDialogOpen(false)\n                    setEditingProduct(null)\n                    loadProducts()\n                  }}\n                  initialProduct={editingProduct}\n                />\n              </DialogContent>\n            </Dialog>\n          </div>\n\n          {/* Stats Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <Card className=\"p-4 border-border\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground mb-1\">Total Items</p>\n                  <p className=\"text-2xl font-bold text-foreground\">{stats.totalProducts}</p>\n                </div>\n                <Package className=\"h-8 w-8 text-blue-500\" />\n              </div>\n            </Card>\n            <Card className=\"p-4 border-border\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground mb-1\">Services</p>\n                  <p className=\"text-2xl font-bold text-foreground\">{stats.services}</p>\n                </div>\n                <TrendingUp className=\"h-8 w-8 text-green-500\" />\n              </div>\n            </Card>\n            <Card className=\"p-4 border-border\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground mb-1\">Products</p>\n                  <p className=\"text-2xl font-bold text-foreground\">{stats.physicalProducts}</p>\n                </div>\n                <Package className=\"h-8 w-8 text-purple-500\" />\n              </div>\n            </Card>\n            <Card className=\"p-4 border-border\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground mb-1\">Catalog Value</p>\n                  <p className=\"text-2xl font-bold text-foreground\">${stats.totalValue.toLocaleString()}</p>\n                </div>\n                <DollarSign className=\"h-8 w-8 text-orange-500\" />\n              </div>\n            </Card>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"container mx-auto px-6 py-6\">\n        {/* Filters and Search */}\n        <Card className=\"p-4 mb-6\">\n          <div className=\"flex flex-col sm:flex-row gap-4 items-end\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search products and services...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n            <Select value={filterType} onValueChange={setFilterType}>\n              <SelectTrigger className=\"w-full sm:w-[180px]\">\n                <Filter className=\"mr-2 h-4 w-4\" />\n                <SelectValue placeholder=\"Filter by type\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Types</SelectItem>\n                <SelectItem value=\"product\">Products</SelectItem>\n                <SelectItem value=\"service\">Services</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </Card>\n\n        {/* Products Table */}\n        {loading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <Loader className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n          </div>\n        ) : filteredProducts.length === 0 ? (\n          <Card className=\"p-12 text-center border-border\">\n            <Package className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n            <h3 className=\"text-xl font-semibold text-foreground mb-2\">No products found</h3>\n            <p className=\"text-muted-foreground mb-6\">Get started by adding your first product or service</p>\n            <Dialog open={isCreateDialogOpen} onOpenChange={setIsCreateDialogOpen}>\n              <DialogTrigger asChild>\n                <Button>Add Product</Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-w-2xl\">\n                <DialogHeader>\n                  <DialogTitle>Add New Product or Service</DialogTitle>\n                </DialogHeader>\n                <ProductForm\n                  onClose={() => {\n                    setIsCreateDialogOpen(false)\n                    loadProducts()\n                  }}\n                />\n              </DialogContent>\n            </Dialog>\n          </Card>\n        ) : (\n          <Card>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"border-b border-border bg-muted/50\">\n                  <tr>\n                    <th className=\"p-4 text-left text-sm font-medium text-muted-foreground\">Product/Service</th>\n                    <th className=\"p-4 text-left text-sm font-medium text-muted-foreground\">Type</th>\n                    <th className=\"p-4 text-left text-sm font-medium text-muted-foreground\">SKU</th>\n                    <th className=\"p-4 text-right text-sm font-medium text-muted-foreground\">Price</th>\n                    <th className=\"p-4 text-right text-sm font-medium text-muted-foreground\">Cost</th>\n                    <th className=\"p-4 text-right text-sm font-medium text-muted-foreground\">Stock</th>\n                    <th className=\"p-4 text-right text-sm font-medium text-muted-foreground\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-border\">\n                  {filteredProducts.map((product) => (\n                    <tr key={product.id} className=\"hover:bg-muted/50 transition-colors\">\n                      <td className=\"p-4\">\n                        <div>\n                          <p className=\"font-medium text-foreground\">{product.name}</p>\n                          <p className=\"text-sm text-muted-foreground\">{product.description}</p>\n                        </div>\n                      </td>\n                      <td className=\"p-4\">\n                        <span\n                          className={`inline-flex rounded-full px-2 py-1 text-xs font-medium ${\n                            product.type === \"service\"\n                              ? \"bg-blue-500/10 text-blue-600\"\n                              : \"bg-green-500/10 text-green-600\"\n                          }`}\n                        >\n                          {product.type}\n                        </span>\n                      </td>\n                      <td className=\"p-4 text-sm text-muted-foreground\">{product.sku}</td>\n                      <td className=\"p-4 text-right font-medium text-foreground\">${product.price.toFixed(2)}</td>\n                      <td className=\"p-4 text-right text-sm text-muted-foreground\">${product.cost.toFixed(2)}</td>\n                      <td className=\"p-4 text-right text-sm text-muted-foreground\">\n                        {product.quantity_on_hand !== null ? product.quantity_on_hand : \"N/A\"}\n                      </td>\n                      <td className=\"p-4 text-right\">\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <Button variant=\"ghost\" size=\"icon\">\n                              <MoreVertical className=\"h-4 w-4\" />\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\">\n                            <DropdownMenuItem\n                              onClick={() => {\n                                setEditingProduct(product)\n                                setIsCreateDialogOpen(true)\n                              }}\n                            >\n                              <Edit className=\"mr-2 h-4 w-4\" />\n                              Edit\n                            </DropdownMenuItem>\n                            <DropdownMenuItem className=\"text-destructive\" onClick={() => handleDelete(product.id)}>\n                              <Trash2 className=\"mr-2 h-4 w-4\" />\n                              Delete\n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </Card>\n        )}\n      </div>\n    </div>\n  )\n}\n\nfunction ProductForm({ onClose, initialProduct }: { onClose: () => void; initialProduct?: Product | null }) {\n  const [loading, setLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    name: initialProduct?.name || \"\",\n    type: (initialProduct?.type as \"product\" | \"service\") || \"service\",\n    sku: initialProduct?.sku || \"\",\n    price: initialProduct?.price?.toString() || \"\",\n    cost: initialProduct?.cost?.toString() || \"\",\n    description: initialProduct?.description || \"\",\n    category: initialProduct?.category || \"\",\n    is_taxable: initialProduct?.is_taxable || false,\n    quantity_on_hand: initialProduct?.quantity_on_hand?.toString() || \"\",\n  })\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n\n    try {\n      const supabase = getSupabaseBooksClient()\n      if (!supabase) throw new Error(\"Supabase not available\")\n\n      const payload = {\n        name: formData.name,\n        type: formData.type,\n        sku: formData.sku,\n        price: Number.parseFloat(formData.price),\n        cost: Number.parseFloat(formData.cost || \"0\"),\n        description: formData.description,\n        category: formData.category,\n        is_taxable: formData.is_taxable,\n        quantity_on_hand: formData.type === \"product\" ? Number.parseInt(formData.quantity_on_hand || \"0\") : null,\n      }\n\n      if (initialProduct) {\n        const { error } = await supabase.from(\"products\").update(payload).eq(\"id\", initialProduct.id)\n\n        if (error) throw error\n      } else {\n        const { error } = await supabase.from(\"products\").insert(payload)\n\n        if (error) throw error\n      }\n\n      onClose()\n    } catch (error) {\n      console.error(\"Error saving product:\", error)\n      alert(\"Failed to save product\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div className=\"grid gap-4 sm:grid-cols-2\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"name\">Name *</Label>\n          <Input\n            id=\"name\"\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            required\n            className=\"w-full\"\n          />\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"type\">Type *</Label>\n          <Select\n            value={formData.type}\n            onValueChange={(value) => setFormData({ ...formData, type: value as \"product\" | \"service\" })}\n          >\n            <SelectTrigger>\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"service\">Service</SelectItem>\n              <SelectItem value=\"product\">Product</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      <div className=\"grid gap-4 sm:grid-cols-2\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"sku\">SKU</Label>\n          <Input id=\"sku\" value={formData.sku} onChange={(e) => setFormData({ ...formData, sku: e.target.value })} />\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"category\">Category</Label>\n          <Input\n            id=\"category\"\n            value={formData.category}\n            onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n          />\n        </div>\n      </div>\n\n      <div className=\"grid gap-4 sm:grid-cols-3\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"price\">Price *</Label>\n          <Input\n            id=\"price\"\n            type=\"number\"\n            step=\"0.01\"\n            value={formData.price}\n            onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n            required\n          />\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"cost\">Cost</Label>\n          <Input\n            id=\"cost\"\n            type=\"number\"\n            step=\"0.01\"\n            value={formData.cost}\n            onChange={(e) => setFormData({ ...formData, cost: e.target.value })}\n          />\n        </div>\n        {formData.type === \"product\" && (\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"quantity\">Quantity</Label>\n            <Input\n              id=\"quantity\"\n              type=\"number\"\n              value={formData.quantity_on_hand}\n              onChange={(e) => setFormData({ ...formData, quantity_on_hand: e.target.value })}\n            />\n          </div>\n        )}\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"description\">Description</Label>\n        <Input\n          id=\"description\"\n          value={formData.description}\n          onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n        />\n      </div>\n\n      <div className=\"flex gap-2 justify-end pt-4\">\n        <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n          Cancel\n        </Button>\n        <Button type=\"submit\" disabled={loading}>\n          {loading ? \"Saving...\" : initialProduct ? \"Update Product\" : \"Create Product\"}\n        </Button>\n      </div>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}