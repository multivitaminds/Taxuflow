{"version":3,"sources":["../../../../../../taxu-platform/v0-taxu-landing-page/components/all-documents-client.tsx","../../../../../../taxu-platform/v0-taxu-landing-page/components/document-detail-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { ArrowLeft, FileText, Download, Trash2, CheckCircle2, Clock, Search, Upload } from \"lucide-react\"\nimport type { User } from \"@supabase/supabase-js\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { DocumentDetailModal } from \"@/components/document-detail-modal\"\n\ninterface AllDocumentsClientProps {\n  user: User\n  profile: any\n}\n\nexport function AllDocumentsClient({ user, profile }: AllDocumentsClientProps) {\n  const router = useRouter()\n  const [documents, setDocuments] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [filterType, setFilterType] = useState<string>(\"all\")\n  const [selectedDocument, setSelectedDocument] = useState<any>(null)\n  const [isDetailModalOpen, setIsDetailModalOpen] = useState(false)\n\n  const supabase = createClient()\n\n  const fetchDocuments = async () => {\n    setLoading(true)\n    const { data, error } = await supabase\n      .from(\"documents\")\n      .select(\"*\")\n      .eq(\"user_id\", user.id)\n      .order(\"created_at\", { ascending: false })\n\n    if (data) {\n      setDocuments(data)\n    }\n    setLoading(false)\n  }\n\n  useEffect(() => {\n    fetchDocuments()\n  }, [user.id])\n\n  const handleDownloadDocument = async (documentId: string, fileName: string) => {\n    try {\n      const { data: doc, error: docError } = await supabase\n        .from(\"documents\")\n        .select(\"file_path\")\n        .eq(\"id\", documentId)\n        .single()\n\n      if (docError || !doc) {\n        alert(\"Failed to download document. Please try again.\")\n        return\n      }\n\n      const { data, error } = await supabase.storage.from(\"tax-documents\").download(doc.file_path)\n\n      if (error) {\n        alert(\"Failed to download file. Please try again.\")\n        return\n      }\n\n      const url = URL.createObjectURL(data)\n      const link = document.createElement(\"a\")\n      link.href = url\n      link.download = fileName\n      link.click()\n      URL.revokeObjectURL(url)\n    } catch (err) {\n      alert(\"An unexpected error occurred. Please try again.\")\n    }\n  }\n\n  const handleDeleteDocument = async (documentId: string, fileName: string) => {\n    const confirmed = window.confirm(`Are you sure you want to delete \"${fileName}\"? This action cannot be undone.`)\n\n    if (!confirmed) return\n\n    try {\n      const response = await fetch(`/api/delete-document?id=${documentId}`, {\n        method: \"DELETE\",\n      })\n\n      const result = await response.json()\n\n      if (!response.ok) {\n        alert(`Failed to delete document: ${result.error}`)\n        return\n      }\n\n      alert(\"Document deleted successfully\")\n      fetchDocuments()\n    } catch (err) {\n      alert(\"An unexpected error occurred. Please try again.\")\n    }\n  }\n\n  const handleUpload = () => {\n    console.log(\"[v0] Upload button clicked, navigating to upload page\")\n    router.push(\"/dashboard/documents/upload\")\n  }\n\n  const getDocumentStatus = (doc: any) => {\n    if (doc.ai_document_type) {\n      return { status: \"processed\", label: \"Processed\", icon: CheckCircle2, color: \"text-green-500\" }\n    }\n    return { status: \"pending\", label: \"Processing\", icon: Clock, color: \"text-yellow-500\" }\n  }\n\n  const filteredDocuments = documents.filter((doc) => {\n    const matchesSearch = doc.file_name.toLowerCase().includes(searchQuery.toLowerCase())\n    const matchesFilter =\n      filterType === \"all\" ||\n      (filterType === \"processed\" && doc.ai_document_type) ||\n      (filterType === \"processing\" && !doc.ai_document_type) ||\n      (filterType === \"w2\" && doc.ai_document_type === \"w2\") ||\n      (filterType === \"1099\" && doc.ai_document_type === \"1099\")\n\n    return matchesSearch && matchesFilter\n  })\n\n  const handleDocumentClick = (doc: any) => {\n    setSelectedDocument(doc)\n    setIsDetailModalOpen(true)\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-background pt-8 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-neon border-t-transparent rounded-full animate-spin mx-auto mb-4\" />\n          <p className=\"text-muted-foreground\">Loading documents...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background pt-8 pr-8\">\n      <div className=\"container mx-auto px-4 py-6\">\n        <Button onClick={() => router.push(\"/dashboard/documents\")} variant=\"ghost\" className=\"mb-6\">\n          <ArrowLeft className=\"w-4 h-4 mr-2\" />\n          Back to Documents\n        </Button>\n\n        <div className=\"mb-8 flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-4xl font-bold mb-2\">All Documents</h1>\n            <p className=\"text-muted-foreground\">Complete list of all your uploaded tax documents</p>\n          </div>\n          <Button\n            onClick={handleUpload}\n            className=\"bg-neon hover:bg-neon/90 text-background relative z-10 cursor-pointer\"\n            type=\"button\"\n          >\n            <Upload className=\"w-4 h-4 mr-2\" />\n            Upload Document\n          </Button>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <FileText className=\"w-5 h-5 text-neon\" />\n              <span className=\"text-sm text-muted-foreground\">Total Documents</span>\n            </div>\n            <p className=\"text-3xl font-bold\">{documents.length}</p>\n          </Card>\n\n          <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <CheckCircle2 className=\"w-5 h-5 text-green-500\" />\n              <span className=\"text-sm text-muted-foreground\">Processed</span>\n            </div>\n            <p className=\"text-3xl font-bold\">{documents.filter((d) => d.ai_document_type).length}</p>\n          </Card>\n\n          <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <Clock className=\"w-5 h-5 text-yellow-500\" />\n              <span className=\"text-sm text-muted-foreground\">Processing</span>\n            </div>\n            <p className=\"text-3xl font-bold\">{documents.filter((d) => !d.ai_document_type).length}</p>\n          </Card>\n\n          <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <FileText className=\"w-5 h-5 text-blue-500\" />\n              <span className=\"text-sm text-muted-foreground\">Storage Used</span>\n            </div>\n            <p className=\"text-3xl font-bold\">\n              {(documents.reduce((acc, d) => acc + d.file_size, 0) / 1024 / 1024).toFixed(1)} MB\n            </p>\n          </Card>\n        </div>\n\n        <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur mb-6\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search documents...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-neon\"\n              />\n            </div>\n            <div className=\"flex gap-2\">\n              <Button\n                variant={filterType === \"all\" ? \"default\" : \"outline\"}\n                onClick={() => setFilterType(\"all\")}\n                className={filterType === \"all\" ? \"bg-neon text-background hover:bg-neon/90\" : \"hover:bg-neon/10\"}\n              >\n                All\n              </Button>\n              <Button\n                variant={filterType === \"processed\" ? \"default\" : \"outline\"}\n                onClick={() => setFilterType(\"processed\")}\n                className={filterType === \"processed\" ? \"bg-neon text-background hover:bg-neon/90\" : \"hover:bg-neon/10\"}\n              >\n                Processed\n              </Button>\n              <Button\n                variant={filterType === \"processing\" ? \"default\" : \"outline\"}\n                onClick={() => setFilterType(\"processing\")}\n                className={\n                  filterType === \"processing\" ? \"bg-neon text-background hover:bg-neon/90\" : \"hover:bg-neon/10\"\n                }\n              >\n                Processing\n              </Button>\n            </div>\n          </div>\n        </Card>\n\n        <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur\">\n          <div className=\"space-y-3\">\n            {filteredDocuments.map((doc) => {\n              const status = getDocumentStatus(doc)\n              const StatusIcon = status.icon\n\n              return (\n                <div\n                  key={doc.id}\n                  onClick={() => handleDocumentClick(doc)}\n                  className=\"flex items-center justify-between p-4 rounded-lg bg-background/50 hover:bg-background/80 transition-all cursor-pointer\"\n                >\n                  <div className=\"flex items-center gap-4\">\n                    <FileText className=\"w-6 h-6 text-neon\" />\n                    <div>\n                      <p className=\"font-semibold\">{doc.file_name}</p>\n                      <div className=\"flex items-center gap-3 text-sm text-muted-foreground\">\n                        <span>{new Date(doc.created_at).toLocaleDateString()}</span>\n                        <span>•</span>\n                        <span>{(doc.file_size / 1024).toFixed(1)} KB</span>\n                        <span>•</span>\n                        <span className={`flex items-center gap-1 ${status.color}`}>\n                          <StatusIcon className=\"w-4 h-4\" />\n                          {status.label}\n                        </span>\n                        {doc.ai_document_type && (\n                          <>\n                            <span>•</span>\n                            <span className=\"capitalize\">{doc.ai_document_type}</span>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Button onClick={() => handleDownloadDocument(doc.id, doc.file_name)} variant=\"ghost\" size=\"sm\">\n                      <Download className=\"w-4 h-4\" />\n                    </Button>\n                    <Button\n                      onClick={() => handleDeleteDocument(doc.id, doc.file_name)}\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"text-red-500 hover:text-red-600 hover:bg-red-500/10\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </div>\n              )\n            })}\n\n            {filteredDocuments.length === 0 && (\n              <div className=\"text-center py-12\">\n                <FileText className=\"w-16 h-16 text-muted-foreground mx-auto mb-4\" />\n                <p className=\"text-muted-foreground mb-4\">No documents found</p>\n                <Button\n                  onClick={handleUpload}\n                  className=\"bg-neon hover:bg-neon/90 text-background relative z-10 cursor-pointer\"\n                  type=\"button\"\n                >\n                  <Upload className=\"w-4 h-4 mr-2\" />\n                  Upload Your First Document\n                </Button>\n              </div>\n            )}\n          </div>\n        </Card>\n\n        <DocumentDetailModal\n          document={selectedDocument}\n          isOpen={isDetailModalOpen}\n          onClose={() => setIsDetailModalOpen(false)}\n        />\n      </div>\n    </div>\n  )\n}\n","\"use client\"\n\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Download, FileText, CheckCircle2, AlertCircle, Clock, X } from \"lucide-react\"\nimport { useState } from \"react\"\nimport PenaltyAbatementDialog from \"@/components/penalty-abatement-dialog\"\n\ninterface DocumentDetailModalProps {\n  document: any\n  isOpen: boolean\n  onClose: () => void\n}\n\nexport function DocumentDetailModal({ document, isOpen, onClose }: DocumentDetailModalProps) {\n  const [downloading, setDownloading] = useState(false)\n  const [showPenaltyDialog, setShowPenaltyDialog] = useState(false)\n\n  if (!document) return null\n\n  const getDocumentTypeLabel = (type: string) => {\n    const labels: Record<string, string> = {\n      w2: \"Form W-2 (Wage and Tax Statement)\",\n      w2c: \"Form W-2c (Corrected Wage and Tax Statement)\",\n      \"1099-nec\": \"Form 1099-NEC (Nonemployee Compensation)\",\n      \"1099-misc\": \"Form 1099-MISC (Miscellaneous Income)\",\n      \"1098\": \"Form 1098 (Mortgage Interest Statement)\",\n      \"medical-expenses\": \"Medical Expense Records\",\n      \"charitable-donations\": \"Charitable Donation Records\",\n      \"business-receipts\": \"Business Receipts\",\n      k1: \"Schedule K-1 (Partnership Income)\",\n      \"income-statement\": \"Income Statement\",\n    }\n    return labels[type] || \"Tax Document\"\n  }\n\n  const handleDownload = async () => {\n    setDownloading(true)\n    try {\n      // Download original document\n      const response = await fetch(`/api/documents/${document.id}/download`)\n      const blob = await response.blob()\n      const url = URL.createObjectURL(blob)\n      const link = document.createElement(\"a\")\n      link.href = url\n      link.download = document.file_name\n      link.click()\n      URL.revokeObjectURL(url)\n    } catch (error) {\n      console.error(\"[v0] Download error:\", error)\n    } finally {\n      setDownloading(false)\n    }\n  }\n\n  const extractedData = document.extracted_data || {}\n  const processingStatus = document.processing_status || \"pending\"\n\n  const isPenaltyAbatementAvailable = () => {\n    const currentYear = new Date().getFullYear()\n    const docYear = document.tax_year || currentYear\n    return document.ai_document_type === \"w2\" && docYear < currentYear\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <div className=\"flex items-center justify-between\">\n            <DialogTitle className=\"text-2xl\">{document.file_name}</DialogTitle>\n            <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\n              <X className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Document Info */}\n          <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur\">\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <div>\n                <p className=\"text-sm text-muted-foreground mb-1\">Document Type</p>\n                <Badge variant=\"outline\" className=\"text-neon border-neon/50\">\n                  {document.ai_document_type ? getDocumentTypeLabel(document.ai_document_type) : \"Processing...\"}\n                </Badge>\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground mb-1\">Status</p>\n                <div className=\"flex items-center gap-2\">\n                  {processingStatus === \"completed\" ? (\n                    <>\n                      <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\n                      <span className=\"text-green-500\">Processed</span>\n                    </>\n                  ) : processingStatus === \"failed\" ? (\n                    <>\n                      <AlertCircle className=\"w-4 h-4 text-red-500\" />\n                      <span className=\"text-red-500\">Failed</span>\n                    </>\n                  ) : (\n                    <>\n                      <Clock className=\"w-4 h-4 text-yellow-500\" />\n                      <span className=\"text-yellow-500\">Processing</span>\n                    </>\n                  )}\n                </div>\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground mb-1\">File Size</p>\n                <p className=\"font-medium\">{(document.file_size / 1024).toFixed(1)} KB</p>\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground mb-1\">Uploaded</p>\n                <p className=\"font-medium\">{new Date(document.created_at).toLocaleDateString()}</p>\n              </div>\n            </div>\n          </Card>\n\n          {/* AI Confidence */}\n          {document.ai_confidence_score && (\n            <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur\">\n              <h3 className=\"font-semibold mb-3\">AI Extraction Confidence</h3>\n              <div className=\"flex items-center gap-4\">\n                <div className=\"flex-1\">\n                  <div className=\"h-2 bg-background rounded-full overflow-hidden\">\n                    <div\n                      className=\"h-full bg-gradient-to-r from-neon to-green-500 transition-all\"\n                      style={{ width: `${document.ai_confidence_score * 100}%` }}\n                    />\n                  </div>\n                </div>\n                <span className=\"font-bold text-neon\">{(document.ai_confidence_score * 100).toFixed(0)}%</span>\n              </div>\n            </Card>\n          )}\n\n          {/* Extracted Data */}\n          {Object.keys(extractedData).length > 0 && (\n            <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur\">\n              <h3 className=\"font-semibold mb-4\">Extracted Information</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {Object.entries(extractedData).map(([key, value]) => (\n                  <div key={key} className=\"p-3 bg-background/50 rounded-lg\">\n                    <p className=\"text-sm text-muted-foreground mb-1 capitalize\">{key.replace(/_/g, \" \")}</p>\n                    <p className=\"font-medium\">{typeof value === \"object\" ? JSON.stringify(value) : String(value)}</p>\n                  </div>\n                ))}\n              </div>\n            </Card>\n          )}\n\n          {/* AI Suggestions */}\n          {document.ai_suggestions && document.ai_suggestions.length > 0 && (\n            <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur\">\n              <h3 className=\"font-semibold mb-4\">AI Suggestions</h3>\n              <div className=\"space-y-2\">\n                {document.ai_suggestions.map((suggestion: string, index: number) => (\n                  <div key={index} className=\"flex items-start gap-2 p-3 bg-background/50 rounded-lg\">\n                    <CheckCircle2 className=\"w-5 h-5 text-neon flex-shrink-0 mt-0.5\" />\n                    <p className=\"text-sm\">{suggestion}</p>\n                  </div>\n                ))}\n              </div>\n            </Card>\n          )}\n\n          {/* Actions */}\n          <div className=\"flex gap-3\">\n            <Button onClick={handleDownload} disabled={downloading} className=\"flex-1\">\n              <Download className=\"w-4 h-4 mr-2\" />\n              {downloading ? \"Downloading...\" : \"Download Original\"}\n            </Button>\n            {isPenaltyAbatementAvailable() && (\n              <Button\n                variant=\"outline\"\n                className=\"flex-1 border-neon/50 text-neon hover:bg-neon/10 bg-transparent\"\n                onClick={() => setShowPenaltyDialog(true)}\n              >\n                <FileText className=\"w-4 h-4 mr-2\" />\n                Generate Penalty Letter ($39)\n              </Button>\n            )}\n          </div>\n        </div>\n\n        {showPenaltyDialog && (\n          <PenaltyAbatementDialog\n            open={showPenaltyDialog}\n            onOpenChange={setShowPenaltyDialog}\n            businessName={extractedData?.employer?.name || \"Your Business\"}\n            ein={extractedData?.employer?.ein || \"\"}\n            taxYear={document.tax_year || new Date().getFullYear()}\n            formType=\"W-2\"\n          />\n        )}\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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"}