{"version":3,"sources":["../../../../components/filing-detail-client.tsx/__nextjs-internal-proxy.mjs","../../../../app/dashboard/filing/%5Bid%5D/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/filing-detail-client.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/filing-detail-client.tsx\",\n    \"default\",\n);\n","import { createClient } from \"@/lib/supabase/server\"\nimport { notFound, redirect } from 'next/navigation'\nimport FilingDetailClient from \"@/components/filing-detail-client\"\n\nexport default async function FilingDetailPage({\n  params,\n}: {\n  params: Promise<{ id: string }>\n}) {\n  const { id } = await params\n\n  if (id === \"new\") {\n    redirect(\"/dashboard/filing\")\n  }\n\n  const supabase = await createClient()\n\n  if (!supabase) {\n    redirect(\"/login\")\n  }\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    redirect(\"/login\")\n  }\n\n  let filing = null\n  let formType = \"W-2\"\n\n  const { data: w2Filing } = await supabase.from(\"w2_filings\").select(\"*\").eq(\"id\", id).eq(\"user_id\", user.id).single()\n\n  if (w2Filing) {\n    filing = {\n      id: w2Filing.id,\n      tax_year: w2Filing.tax_year,\n      filing_status: (w2Filing.taxbandits_status || w2Filing.irs_status || \"pending\").toLowerCase(),\n      provider_name: \"IRS E-File\",\n      submission_id: w2Filing.submission_id || \"\",\n      irs_status: (w2Filing.irs_status || w2Filing.taxbandits_status || \"pending\").toLowerCase(),\n      state_status: null,\n      rejection_reasons: w2Filing.rejection_reasons || [],\n      refund_amount: w2Filing.refund_amount || null,\n      filed_at: w2Filing.submitted_at,\n      accepted_at: w2Filing.accepted_at,\n      rejected_at: w2Filing.rejected_at,\n      provider_response: null,\n    }\n    formType = \"W-2\"\n  } else {\n    const { data: nec1099Filing } = await supabase\n      .from(\"nec_1099_filings\")\n      .select(\"*\")\n      .eq(\"id\", id)\n      .eq(\"user_id\", user.id)\n      .single()\n\n    if (nec1099Filing) {\n      filing = {\n        id: nec1099Filing.id,\n        tax_year: nec1099Filing.tax_year,\n        filing_status: (nec1099Filing.taxbandits_status || nec1099Filing.irs_status || \"pending\").toLowerCase(),\n        provider_name: \"IRS E-File\",\n        submission_id: nec1099Filing.submission_id || \"\",\n        irs_status: (nec1099Filing.irs_status || nec1099Filing.taxbandits_status || \"pending\").toLowerCase(),\n        state_status: null,\n        rejection_reasons: nec1099Filing.rejection_reasons || [],\n        refund_amount: null,\n        filed_at: nec1099Filing.submitted_at,\n        accepted_at: nec1099Filing.accepted_at,\n        rejected_at: nec1099Filing.rejected_at,\n        provider_response: null,\n      }\n      formType = \"1099-NEC\"\n    }\n  }\n\n  if (!filing) {\n    console.error(\"[v0] Filing not found:\", id)\n    notFound()\n  }\n\n  return <FilingDetailClient filing={filing} formType={formType} />\n}\n"],"names":[],"mappings":"qaAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,QACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,qSAAuS,EACpU,oEACA,iEAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,QACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,iRAAmR,EAChT,gDACA,mHCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAEe,eAAe,EAAiB,QAC7C,CAAM,CAGP,EACC,GAAM,IAAE,CAAE,CAAE,CAAG,MAAM,EAEV,OAAO,CAAd,GACF,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,qBAGX,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,GAE/B,CAAC,GACH,CAAA,EAAA,EAAA,EADa,MACb,AAAQ,EAAC,UAGX,GAAM,CACJ,KAAM,MAAE,CAAI,CAAE,CACf,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,EAE3B,CAAC,GACH,CAAA,EADS,AACT,EAAA,QAAA,AAAQ,EAAC,UAGX,IAAI,EAAS,KACT,EAAW,MAET,CAAE,KAAM,CAAQ,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,cAAc,MAAM,CAAC,KAAK,EAAE,CAAC,KAAM,GAAI,EAAE,CAAC,UAAW,EAAK,EAAE,EAAE,MAAM,GAEnH,GAAI,EACF,EAAS,CACP,GAAI,EAAS,AAFH,EAEK,CACf,SAAU,EAAS,QAAQ,CAC3B,cAAe,CAAC,EAAS,iBAAiB,EAAI,EAAS,UAAU,EAAI,SAAA,CAAS,CAAE,WAAW,GAC3F,cAAe,aACf,cAAe,EAAS,aAAa,EAAI,GACzC,WAAY,CAAC,EAAS,UAAU,EAAI,EAAS,iBAAiB,EAAI,SAAA,CAAS,CAAE,WAAW,GACxF,aAAc,KACd,kBAAmB,EAAS,iBAAiB,EAAI,EAAE,CACnD,cAAe,EAAS,aAAa,EAAI,KACzC,SAAU,EAAS,YAAY,CAC/B,YAAa,EAAS,WAAW,CACjC,YAAa,EAAS,WAAW,CACjC,kBAAmB,IACrB,EACA,EAAW,UACN,CACL,GAAM,CAAE,KAAM,CAAa,CAAE,CAAG,MAAM,EACnC,IAAI,CAAC,oBACL,MAAM,CAAC,KACP,EAAE,CAAC,KAAM,GACT,EAAE,CAAC,UAAW,EAAK,EAAE,EACrB,MAAM,GAEL,IACF,EAAS,CACP,GAAI,EAAc,EAAE,CACpB,AAHe,SAGL,EAAc,QAAQ,CAChC,cAAe,CAAC,EAAc,iBAAiB,EAAI,EAAc,UAAU,EAAI,SAAA,CAAS,CAAE,WAAW,GACrG,cAAe,aACf,cAAe,EAAc,aAAa,EAAI,GAC9C,WAAY,CAAC,EAAc,UAAU,EAAI,EAAc,iBAAiB,EAAI,SAAA,CAAS,CAAE,WAAW,GAClG,aAAc,KACd,kBAAmB,EAAc,iBAAiB,EAAI,EAAE,CACxD,cAAe,KACf,SAAU,EAAc,YAAY,CACpC,YAAa,EAAc,WAAW,CACtC,YAAa,EAAc,WAAW,CACtC,kBAAmB,IACrB,EACA,EAAW,WAEf,CAOA,OALK,IACH,IADW,IACH,KAAK,CAAC,yBAA0B,GACxC,CAAA,EAAA,EAAA,QAAQ,AAAR,KAGK,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAkB,CAAA,CAAC,OAAQ,EAAQ,SAAU,GACvD","ignoreList":[0]}