{"version":3,"sources":["../../../../components/recipients-client.tsx","../../../../components/recipient-form.tsx","../../../../components/payment-history-dialog.tsx","../../../../components/bulk-import-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { Dialog, DialogContent, DialogTrigger } from \"@/components/ui/dialog\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { Plus, Search, Download, Upload, Edit, Trash2, DollarSign, Lock, ArrowLeft, Users } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { RecipientForm } from \"@/components/recipient-form\"\nimport { PaymentHistoryDialog } from \"@/components/payment-history-dialog\"\nimport { BulkImportDialog } from \"@/components/bulk-import-dialog\"\n\ninterface Recipient {\n  id: string\n  first_name: string\n  last_name: string\n  business_name?: string\n  email?: string\n  phone?: string\n  ssn_masked?: string\n  ein_masked?: string\n  tin_type: string\n  street_address: string\n  city: string\n  state: string\n  zip_code: string\n  total_payments: number\n  payment_count: number\n  last_payment_date?: string\n  is_active: boolean\n}\n\nexport function RecipientsClient({ userId }: { userId: string }) {\n  const [recipients, setRecipients] = useState<Recipient[]>([])\n  const [filteredRecipients, setFilteredRecipients] = useState<Recipient[]>([])\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [isLoading, setIsLoading] = useState(true)\n  const [selectedRecipient, setSelectedRecipient] = useState<Recipient | null>(null)\n  const [isFormOpen, setIsFormOpen] = useState(false)\n  const [isImportOpen, setIsImportOpen] = useState(false)\n  const { toast } = useToast()\n\n  useEffect(() => {\n    fetchRecipients()\n  }, [])\n\n  useEffect(() => {\n    if (searchQuery) {\n      const filtered = recipients.filter(\n        (r) =>\n          r.first_name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          r.last_name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          r.email?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          r.business_name?.toLowerCase().includes(searchQuery.toLowerCase()),\n      )\n      setFilteredRecipients(filtered)\n    } else {\n      setFilteredRecipients(recipients)\n    }\n  }, [searchQuery, recipients])\n\n  const fetchRecipients = async () => {\n    try {\n      const response = await fetch(\"/api/recipients\")\n      const data = await response.json()\n      setRecipients(data.recipients || [])\n      setFilteredRecipients(data.recipients || [])\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to fetch recipients\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleDelete = async (id: string) => {\n    if (!confirm(\"Are you sure you want to delete this recipient?\")) return\n\n    try {\n      const response = await fetch(`/api/recipients/${id}`, {\n        method: \"DELETE\",\n      })\n\n      if (response.ok) {\n        toast({\n          title: \"Success\",\n          description: \"Recipient deleted successfully\",\n        })\n        fetchRecipients()\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to delete recipient\",\n        variant: \"destructive\",\n      })\n    }\n  }\n\n  const handleExport = async () => {\n    try {\n      const response = await fetch(\"/api/recipients/export\")\n      const blob = await response.blob()\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement(\"a\")\n      a.href = url\n      a.download = `recipients-${new Date().toISOString().split(\"T\")[0]}.csv`\n      document.body.appendChild(a)\n      a.click()\n      window.URL.revokeObjectURL(url)\n      document.body.removeChild(a)\n\n      toast({\n        title: \"Success\",\n        description: \"Recipients exported successfully\",\n      })\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to export recipients\",\n        variant: \"destructive\",\n      })\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background pt-20\">\n      <div className=\"container mx-auto px-4 py-12 max-w-7xl\">\n        <Link href=\"/1099-filing\">\n          <Button variant=\"ghost\" className=\"mb-6 text-muted-foreground hover:text-foreground\">\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back to 1099 Filing\n          </Button>\n        </Link>\n\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <div className=\"w-12 h-12 rounded-lg bg-purple-500/20 flex items-center justify-center\">\n              <Users className=\"w-6 h-6 text-purple-500\" />\n            </div>\n            <h1 className=\"text-4xl font-bold\">Manage Recipients</h1>\n          </div>\n          <p className=\"text-muted-foreground\">\n            Add and manage contractor information for easy filing and record keeping\n          </p>\n        </div>\n\n        <Card className=\"p-6 border-neon/20 bg-card/50 backdrop-blur mb-6\">\n          <div className=\"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center\">\n            <div className=\"relative flex-1 w-full md:max-w-md\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search recipients...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n            <div className=\"flex gap-2 w-full md:w-auto\">\n              <Dialog open={isImportOpen} onOpenChange={setIsImportOpen}>\n                <DialogTrigger asChild>\n                  <Button variant=\"outline\" className=\"flex-1 md:flex-none bg-transparent\">\n                    <Upload className=\"w-4 h-4 mr-2\" />\n                    Import CSV\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"max-w-2xl\">\n                  <BulkImportDialog\n                    onSuccess={() => {\n                      setIsImportOpen(false)\n                      fetchRecipients()\n                    }}\n                  />\n                </DialogContent>\n              </Dialog>\n              <Button variant=\"outline\" onClick={handleExport} className=\"flex-1 md:flex-none bg-transparent\">\n                <Download className=\"w-4 h-4 mr-2\" />\n                Export CSV\n              </Button>\n              <Dialog open={isFormOpen} onOpenChange={setIsFormOpen}>\n                <DialogTrigger asChild>\n                  <Button className=\"bg-purple-500 hover:bg-purple-600 flex-1 md:flex-none\">\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Add Recipient\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n                  <RecipientForm\n                    onSuccess={() => {\n                      setIsFormOpen(false)\n                      fetchRecipients()\n                    }}\n                  />\n                </DialogContent>\n              </Dialog>\n            </div>\n          </div>\n        </Card>\n\n        <Card className=\"border-neon/20 bg-card/50 backdrop-blur\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Name</TableHead>\n                <TableHead>Contact</TableHead>\n                <TableHead>\n                  <div className=\"flex items-center gap-1\">\n                    <Lock className=\"w-3 h-3 text-green-500\" />\n                    TIN\n                  </div>\n                </TableHead>\n                <TableHead>Address</TableHead>\n                <TableHead>Payments</TableHead>\n                <TableHead className=\"text-right\">Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {isLoading ? (\n                <TableRow>\n                  <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\n                    Loading recipients...\n                  </TableCell>\n                </TableRow>\n              ) : filteredRecipients.length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\n                    {searchQuery\n                      ? \"No recipients found matching your search\"\n                      : \"No recipients yet. Add your first recipient to get started.\"}\n                  </TableCell>\n                </TableRow>\n              ) : (\n                filteredRecipients.map((recipient) => (\n                  <TableRow key={recipient.id}>\n                    <TableCell>\n                      <div>\n                        <div className=\"font-medium\">\n                          {recipient.first_name} {recipient.last_name}\n                        </div>\n                        {recipient.business_name && (\n                          <div className=\"text-sm text-muted-foreground\">{recipient.business_name}</div>\n                        )}\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"text-sm\">\n                        {recipient.email && <div>{recipient.email}</div>}\n                        {recipient.phone && <div className=\"text-muted-foreground\">{recipient.phone}</div>}\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"text-sm\">\n                        <div className=\"flex items-center gap-1\">\n                          <Lock className=\"w-3 h-3 text-green-500\" />\n                          {recipient.tin_type}\n                        </div>\n                        <div className=\"text-muted-foreground font-mono\">\n                          {recipient.ssn_masked || recipient.ein_masked}\n                        </div>\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"text-sm\">\n                        <div>{recipient.street_address}</div>\n                        <div className=\"text-muted-foreground\">\n                          {recipient.city}, {recipient.state} {recipient.zip_code}\n                        </div>\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <PaymentHistoryDialog\n                        recipientId={recipient.id}\n                        recipientName={`${recipient.first_name} ${recipient.last_name}`}\n                      >\n                        <Button variant=\"ghost\" size=\"sm\" className=\"h-auto p-0 hover:bg-transparent\">\n                          <div className=\"text-left\">\n                            <div className=\"font-medium\">${recipient.total_payments?.toFixed(2) || \"0.00\"}</div>\n                            <div className=\"text-xs text-muted-foreground\">{recipient.payment_count || 0} payments</div>\n                          </div>\n                        </Button>\n                      </PaymentHistoryDialog>\n                    </TableCell>\n                    <TableCell className=\"text-right\">\n                      <div className=\"flex justify-end gap-2\">\n                        <Dialog>\n                          <DialogTrigger asChild>\n                            <Button variant=\"ghost\" size=\"sm\">\n                              <Edit className=\"w-4 h-4\" />\n                            </Button>\n                          </DialogTrigger>\n                          <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n                            <RecipientForm recipientId={recipient.id} onSuccess={() => fetchRecipients()} />\n                          </DialogContent>\n                        </Dialog>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => handleDelete(recipient.id)}\n                          className=\"hover:bg-red-500/10 hover:text-red-500\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                ))\n              )}\n            </TableBody>\n          </Table>\n        </Card>\n\n        <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <Card className=\"p-4 border-neon/20 bg-gradient-to-br from-purple-500/10 to-pink-500/10\">\n            <div className=\"flex items-center gap-3\">\n              <Users className=\"w-8 h-8 text-purple-500\" />\n              <div>\n                <div className=\"text-2xl font-bold\">{recipients.length}</div>\n                <div className=\"text-sm text-muted-foreground\">Total Recipients</div>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 border-neon/20 bg-gradient-to-br from-green-500/10 to-emerald-500/10\">\n            <div className=\"flex items-center gap-3\">\n              <DollarSign className=\"w-8 h-8 text-green-500\" />\n              <div>\n                <div className=\"text-2xl font-bold\">\n                  ${recipients.reduce((sum, r) => sum + (r.total_payments || 0), 0).toFixed(2)}\n                </div>\n                <div className=\"text-sm text-muted-foreground\">Total Payments</div>\n              </div>\n            </div>\n          </Card>\n          <Card className=\"p-4 border-neon/20 bg-gradient-to-br from-blue-500/10 to-cyan-500/10\">\n            <div className=\"flex items-center gap-3\">\n              <Lock className=\"w-8 h-8 text-blue-500\" />\n              <div>\n                <div className=\"text-2xl font-bold\">AES-256</div>\n                <div className=\"text-sm text-muted-foreground\">Encrypted Storage</div>\n              </div>\n            </div>\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n","\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { Loader2, Lock } from \"lucide-react\"\nimport { DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\"\nimport { formatSSN, formatEIN } from \"@/lib/format-utils\"\n\nconst US_STATES = [\n  \"AL\",\n  \"AK\",\n  \"AZ\",\n  \"AR\",\n  \"CA\",\n  \"CO\",\n  \"CT\",\n  \"DE\",\n  \"FL\",\n  \"GA\",\n  \"HI\",\n  \"ID\",\n  \"IL\",\n  \"IN\",\n  \"IA\",\n  \"KS\",\n  \"KY\",\n  \"LA\",\n  \"ME\",\n  \"MD\",\n  \"MA\",\n  \"MI\",\n  \"MN\",\n  \"MS\",\n  \"MO\",\n  \"MT\",\n  \"NE\",\n  \"NV\",\n  \"NH\",\n  \"NJ\",\n  \"NM\",\n  \"NY\",\n  \"NC\",\n  \"ND\",\n  \"OH\",\n  \"OK\",\n  \"OR\",\n  \"PA\",\n  \"RI\",\n  \"SC\",\n  \"SD\",\n  \"TN\",\n  \"TX\",\n  \"UT\",\n  \"VT\",\n  \"VA\",\n  \"WA\",\n  \"WV\",\n  \"WI\",\n  \"WY\",\n]\n\ninterface RecipientFormProps {\n  recipientId?: string\n  onSuccess: () => void\n}\n\nexport function RecipientForm({ recipientId, onSuccess }: RecipientFormProps) {\n  const [isLoading, setIsLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    businessName: \"\",\n    email: \"\",\n    phone: \"\",\n    ssn: \"\",\n    ein: \"\",\n    tinType: \"SSN\",\n    streetAddress: \"\",\n    city: \"\",\n    state: \"\",\n    zipCode: \"\",\n    notes: \"\",\n  })\n  const { toast } = useToast()\n\n  useEffect(() => {\n    if (recipientId) {\n      fetchRecipient()\n    }\n  }, [recipientId])\n\n  const fetchRecipient = async () => {\n    try {\n      console.log(\"[v0] Fetching recipient:\", recipientId)\n      const response = await fetch(`/api/recipients/${recipientId}`)\n      const data = await response.json()\n      const r = data.recipient\n      setFormData({\n        firstName: r.first_name,\n        lastName: r.last_name,\n        businessName: r.business_name || \"\",\n        email: r.email || \"\",\n        phone: r.phone || \"\",\n        ssn: r.ssn || \"\",\n        ein: r.ein || \"\",\n        tinType: r.tin_type,\n        streetAddress: r.street_address,\n        city: r.city,\n        state: r.state,\n        zipCode: r.zip_code,\n        notes: r.notes || \"\",\n      })\n    } catch (error) {\n      console.error(\"[v0] Error fetching recipient:\", error)\n      toast({\n        title: \"Error\",\n        description: \"Failed to fetch recipient details\",\n        variant: \"destructive\",\n      })\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!formData.firstName || !formData.lastName) {\n      toast({\n        title: \"Validation Error\",\n        description: \"First name and last name are required\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    if (!formData.ssn && !formData.ein) {\n      toast({\n        title: \"Validation Error\",\n        description: \"Either SSN or EIN is required\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    if (!formData.streetAddress || !formData.city || !formData.state || !formData.zipCode) {\n      toast({\n        title: \"Validation Error\",\n        description: \"Complete address is required\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    setIsLoading(true)\n\n    try {\n      console.log(\"[v0] Submitting recipient form:\", { ...formData, ssn: \"***\", ein: \"***\" })\n\n      const url = recipientId ? `/api/recipients/${recipientId}` : \"/api/recipients\"\n      const method = recipientId ? \"PATCH\" : \"POST\"\n\n      const response = await fetch(url, {\n        method,\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(formData),\n      })\n\n      const data = await response.json()\n\n      console.log(\"[v0] Recipient API response:\", { success: data.success, error: data.error })\n\n      if (data.success) {\n        toast({\n          title: \"Success\",\n          description: recipientId ? \"Recipient updated successfully\" : \"Recipient added successfully\",\n        })\n        onSuccess()\n      } else {\n        throw new Error(data.error || \"Failed to save recipient\")\n      }\n    } catch (error) {\n      console.error(\"[v0] Error submitting recipient:\", error)\n      toast({\n        title: \"Error\",\n        description: error instanceof Error ? error.message : \"Failed to save recipient\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <>\n      <DialogHeader>\n        <DialogTitle>{recipientId ? \"Edit Recipient\" : \"Add New Recipient\"}</DialogTitle>\n        <DialogDescription>\n          {recipientId ? \"Update recipient information\" : \"Add a new contractor or recipient for 1099 filing\"}\n        </DialogDescription>\n      </DialogHeader>\n      <form onSubmit={handleSubmit} className=\"space-y-4 mt-4\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"firstName\">First Name *</Label>\n            <Input\n              id=\"firstName\"\n              value={formData.firstName}\n              onChange={(e) => setFormData({ ...formData, firstName: e.target.value })}\n              required\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"lastName\">Last Name *</Label>\n            <Input\n              id=\"lastName\"\n              value={formData.lastName}\n              onChange={(e) => setFormData({ ...formData, lastName: e.target.value })}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"businessName\">Business Name (Optional)</Label>\n          <Input\n            id=\"businessName\"\n            value={formData.businessName}\n            onChange={(e) => setFormData({ ...formData, businessName: e.target.value })}\n          />\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"email\">Email</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              value={formData.email}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"phone\">Phone</Label>\n            <Input\n              id=\"phone\"\n              value={formData.phone}\n              onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n            />\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"ssn\" className=\"flex items-center gap-2\">\n              SSN *\n              <Lock className=\"w-3 h-3 text-green-500\" />\n            </Label>\n            <Input\n              id=\"ssn\"\n              value={formData.ssn}\n              onChange={(e) => {\n                const formatted = formatSSN(e.target.value)\n                setFormData({ ...formData, ssn: formatted, tinType: \"SSN\" })\n              }}\n              placeholder=\"XXX-XX-XXXX\"\n              maxLength={11}\n            />\n            <p className=\"text-xs text-muted-foreground\">AES-256 encrypted at rest</p>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"ein\" className=\"flex items-center gap-2\">\n              EIN (if business)\n              <Lock className=\"w-3 h-3 text-green-500\" />\n            </Label>\n            <Input\n              id=\"ein\"\n              value={formData.ein}\n              onChange={(e) => {\n                const formatted = formatEIN(e.target.value)\n                setFormData({ ...formData, ein: formatted, tinType: \"EIN\" })\n              }}\n              placeholder=\"XX-XXXXXXX\"\n              maxLength={10}\n            />\n            <p className=\"text-xs text-muted-foreground\">Encrypted and secure</p>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"streetAddress\">Street Address *</Label>\n          <Input\n            id=\"streetAddress\"\n            value={formData.streetAddress}\n            onChange={(e) => setFormData({ ...formData, streetAddress: e.target.value })}\n            required\n          />\n        </div>\n\n        <div className=\"grid grid-cols-3 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"city\">City *</Label>\n            <Input\n              id=\"city\"\n              value={formData.city}\n              onChange={(e) => setFormData({ ...formData, city: e.target.value })}\n              required\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"state\">State *</Label>\n            <Select value={formData.state} onValueChange={(value) => setFormData({ ...formData, state: value })}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Select\" />\n              </SelectTrigger>\n              <SelectContent>\n                {US_STATES.map((state) => (\n                  <SelectItem key={state} value={state}>\n                    {state}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"zipCode\">ZIP Code *</Label>\n            <Input\n              id=\"zipCode\"\n              value={formData.zipCode}\n              onChange={(e) => setFormData({ ...formData, zipCode: e.target.value })}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"notes\">Notes</Label>\n          <Textarea\n            id=\"notes\"\n            value={formData.notes}\n            onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n            rows={3}\n          />\n        </div>\n\n        <div className=\"flex justify-end gap-2 pt-4\">\n          <Button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white\"\n          >\n            {isLoading && <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />}\n            {recipientId ? \"Update Recipient\" : \"Add Recipient\"}\n          </Button>\n        </div>\n      </form>\n    </>\n  )\n}\n","\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect } from \"react\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { Button } from \"@/components/ui/button\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { DollarSign, Calendar, Plus } from \"lucide-react\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\n\ninterface Payment {\n  id: string\n  amount: number\n  payment_date: string\n  description?: string\n  tax_year: number\n}\n\ninterface PaymentHistoryDialogProps {\n  recipientId: string\n  recipientName: string\n  children: React.ReactNode\n}\n\nexport function PaymentHistoryDialog({ recipientId, recipientName, children }: PaymentHistoryDialogProps) {\n  const [payments, setPayments] = useState<Payment[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [isOpen, setIsOpen] = useState(false)\n  const [isAddingPayment, setIsAddingPayment] = useState(false)\n  const [newPayment, setNewPayment] = useState({\n    amount: \"\",\n    payment_date: new Date().toISOString().split(\"T\")[0],\n    description: \"\",\n    tax_year: new Date().getFullYear(),\n  })\n  const { toast } = useToast()\n\n  useEffect(() => {\n    if (isOpen) {\n      fetchPayments()\n    }\n  }, [isOpen])\n\n  const fetchPayments = async () => {\n    setIsLoading(true)\n    try {\n      const response = await fetch(`/api/recipients/${recipientId}/payments`)\n      const data = await response.json()\n      setPayments(data.payments || [])\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to fetch payment history\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleAddPayment = async () => {\n    if (!newPayment.amount || Number.parseFloat(newPayment.amount) <= 0) {\n      toast({\n        title: \"Error\",\n        description: \"Please enter a valid payment amount\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    try {\n      const response = await fetch(`/api/recipients/${recipientId}/payments`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          amount: Number.parseFloat(newPayment.amount),\n          payment_date: newPayment.payment_date,\n          description: newPayment.description,\n          tax_year: newPayment.tax_year,\n        }),\n      })\n\n      if (response.ok) {\n        toast({\n          title: \"Success\",\n          description: \"Payment added successfully\",\n        })\n        setIsAddingPayment(false)\n        setNewPayment({\n          amount: \"\",\n          payment_date: new Date().toISOString().split(\"T\")[0],\n          description: \"\",\n          tax_year: new Date().getFullYear(),\n        })\n        fetchPayments()\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to add payment\",\n        variant: \"destructive\",\n      })\n    }\n  }\n\n  const totalAmount = payments.reduce((sum, p) => sum + p.amount, 0)\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogTrigger asChild>{children}</DialogTrigger>\n      <DialogContent className=\"max-w-3xl max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <DollarSign className=\"w-5 h-5 text-green-500\" />\n            Payment History - {recipientName}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          <div className=\"flex justify-between items-center p-4 bg-muted/50 rounded-lg\">\n            <div>\n              <div className=\"text-sm text-muted-foreground\">Total Payments</div>\n              <div className=\"text-2xl font-bold\">${totalAmount.toFixed(2)}</div>\n            </div>\n            <Button onClick={() => setIsAddingPayment(!isAddingPayment)} variant=\"outline\" size=\"sm\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Add Payment\n            </Button>\n          </div>\n\n          {isAddingPayment && (\n            <div className=\"p-4 border rounded-lg space-y-4\">\n              <h3 className=\"font-semibold\">Add New Payment</h3>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <Label htmlFor=\"amount\">Amount *</Label>\n                  <Input\n                    id=\"amount\"\n                    type=\"number\"\n                    step=\"0.01\"\n                    placeholder=\"0.00\"\n                    value={newPayment.amount}\n                    onChange={(e) => setNewPayment({ ...newPayment, amount: e.target.value })}\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"payment_date\">Payment Date *</Label>\n                  <Input\n                    id=\"payment_date\"\n                    type=\"date\"\n                    value={newPayment.payment_date}\n                    onChange={(e) => setNewPayment({ ...newPayment, payment_date: e.target.value })}\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"tax_year\">Tax Year</Label>\n                  <Input\n                    id=\"tax_year\"\n                    type=\"number\"\n                    value={newPayment.tax_year}\n                    onChange={(e) => setNewPayment({ ...newPayment, tax_year: Number.parseInt(e.target.value) })}\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"description\">Description</Label>\n                  <Input\n                    id=\"description\"\n                    placeholder=\"Optional\"\n                    value={newPayment.description}\n                    onChange={(e) => setNewPayment({ ...newPayment, description: e.target.value })}\n                  />\n                </div>\n              </div>\n              <div className=\"flex gap-2\">\n                <Button onClick={handleAddPayment} className=\"bg-green-500 hover:bg-green-600\">\n                  Save Payment\n                </Button>\n                <Button onClick={() => setIsAddingPayment(false)} variant=\"outline\">\n                  Cancel\n                </Button>\n              </div>\n            </div>\n          )}\n\n          <div className=\"border rounded-lg\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>Date</TableHead>\n                  <TableHead>Amount</TableHead>\n                  <TableHead>Tax Year</TableHead>\n                  <TableHead>Description</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {isLoading ? (\n                  <TableRow>\n                    <TableCell colSpan={4} className=\"text-center py-8 text-muted-foreground\">\n                      Loading payments...\n                    </TableCell>\n                  </TableRow>\n                ) : payments.length === 0 ? (\n                  <TableRow>\n                    <TableCell colSpan={4} className=\"text-center py-8 text-muted-foreground\">\n                      No payments recorded yet\n                    </TableCell>\n                  </TableRow>\n                ) : (\n                  payments.map((payment) => (\n                    <TableRow key={payment.id}>\n                      <TableCell>\n                        <div className=\"flex items-center gap-2\">\n                          <Calendar className=\"w-4 h-4 text-muted-foreground\" />\n                          {new Date(payment.payment_date).toLocaleDateString()}\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"font-medium\">${payment.amount.toFixed(2)}</TableCell>\n                      <TableCell>{payment.tax_year}</TableCell>\n                      <TableCell className=\"text-muted-foreground\">{payment.description || \"-\"}</TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { Upload, FileText, CheckCircle, XCircle, AlertCircle, Download } from \"lucide-react\"\nimport { parseCSV } from \"@/lib/file-parser\"\n\ninterface ImportResult {\n  success: number\n  failed: number\n  errors: Array<{ row: number; error: string }>\n}\n\ninterface BulkImportDialogProps {\n  onSuccess: () => void\n}\n\nexport function BulkImportDialog({ onSuccess }: BulkImportDialogProps) {\n  const [file, setFile] = useState<File | null>(null)\n  const [isUploading, setIsUploading] = useState(false)\n  const [importResult, setImportResult] = useState<ImportResult | null>(null)\n  const { toast } = useToast()\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0]\n    if (selectedFile) {\n      if (!selectedFile.name.endsWith(\".csv\")) {\n        toast({\n          title: \"Invalid File\",\n          description: \"Please upload a CSV file\",\n          variant: \"destructive\",\n        })\n        return\n      }\n      setFile(selectedFile)\n      setImportResult(null)\n    }\n  }\n\n  const handleUpload = async () => {\n    if (!file) return\n\n    setIsUploading(true)\n    try {\n      const parsedData = await parseCSV(file)\n\n      const response = await fetch(\"/api/recipients/bulk-import\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ recipients: parsedData }),\n      })\n\n      const result = await response.json()\n\n      if (response.ok) {\n        setImportResult(result)\n        toast({\n          title: \"Import Complete\",\n          description: `Successfully imported ${result.success} recipients`,\n        })\n        if (result.success > 0) {\n          onSuccess()\n        }\n      } else {\n        toast({\n          title: \"Import Failed\",\n          description: result.error || \"Failed to import recipients\",\n          variant: \"destructive\",\n        })\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to process CSV file\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsUploading(false)\n    }\n  }\n\n  const downloadTemplate = () => {\n    const template = `first_name,last_name,business_name,email,phone,ssn,ein,tin_type,street_address,city,state,zip_code\nJohn,Doe,Doe Consulting,john@example.com,555-0100,123-45-6789,,SSN,123 Main St,New York,NY,10001\nJane,Smith,Smith LLC,jane@example.com,555-0200,,12-3456789,EIN,456 Oak Ave,Los Angeles,CA,90001`\n\n    const blob = new Blob([template], { type: \"text/csv\" })\n    const url = window.URL.createObjectURL(blob)\n    const a = document.createElement(\"a\")\n    a.href = url\n    a.download = \"recipients-template.csv\"\n    document.body.appendChild(a)\n    a.click()\n    window.URL.revokeObjectURL(url)\n    document.body.removeChild(a)\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <DialogHeader>\n        <DialogTitle className=\"flex items-center gap-2\">\n          <Upload className=\"w-5 h-5 text-purple-500\" />\n          Bulk Import Recipients\n        </DialogTitle>\n      </DialogHeader>\n\n      <div className=\"space-y-4\">\n        <div className=\"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg\">\n          <div className=\"flex items-start gap-3\">\n            <AlertCircle className=\"w-5 h-5 text-blue-500 mt-0.5\" />\n            <div className=\"space-y-2 text-sm\">\n              <p className=\"font-medium\">CSV Format Requirements:</p>\n              <ul className=\"list-disc list-inside space-y-1 text-muted-foreground\">\n                <li>Required columns: first_name, last_name, street_address, city, state, zip_code</li>\n                <li>TIN: Provide either SSN or EIN (not both)</li>\n                <li>tin_type: Must be either \"SSN\" or \"EIN\"</li>\n                <li>Optional: business_name, email, phone</li>\n              </ul>\n              <Button variant=\"link\" onClick={downloadTemplate} className=\"h-auto p-0 text-blue-500\">\n                <Download className=\"w-4 h-4 mr-1\" />\n                Download CSV Template\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center\">\n          <input\n            type=\"file\"\n            accept=\".csv\"\n            onChange={handleFileChange}\n            className=\"hidden\"\n            id=\"csv-upload\"\n            disabled={isUploading}\n          />\n          <label htmlFor=\"csv-upload\" className=\"cursor-pointer\">\n            <div className=\"flex flex-col items-center gap-3\">\n              <div className=\"w-16 h-16 rounded-full bg-purple-500/20 flex items-center justify-center\">\n                <FileText className=\"w-8 h-8 text-purple-500\" />\n              </div>\n              {file ? (\n                <div>\n                  <p className=\"font-medium\">{file.name}</p>\n                  <p className=\"text-sm text-muted-foreground\">{(file.size / 1024).toFixed(2)} KB</p>\n                </div>\n              ) : (\n                <div>\n                  <p className=\"font-medium\">Click to upload CSV file</p>\n                  <p className=\"text-sm text-muted-foreground\">or drag and drop</p>\n                </div>\n              )}\n            </div>\n          </label>\n        </div>\n\n        {file && (\n          <Button onClick={handleUpload} disabled={isUploading} className=\"w-full bg-purple-500 hover:bg-purple-600\">\n            {isUploading ? \"Importing...\" : \"Import Recipients\"}\n          </Button>\n        )}\n\n        {importResult && (\n          <div className=\"space-y-3\">\n            <div className=\"grid grid-cols-2 gap-3\">\n              <div className=\"p-4 bg-green-500/10 border border-green-500/20 rounded-lg\">\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                  <div>\n                    <div className=\"text-2xl font-bold\">{importResult.success}</div>\n                    <div className=\"text-sm text-muted-foreground\">Successful</div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"p-4 bg-red-500/10 border border-red-500/20 rounded-lg\">\n                <div className=\"flex items-center gap-2\">\n                  <XCircle className=\"w-5 h-5 text-red-500\" />\n                  <div>\n                    <div className=\"text-2xl font-bold\">{importResult.failed}</div>\n                    <div className=\"text-sm text-muted-foreground\">Failed</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {importResult.errors.length > 0 && (\n              <div className=\"p-4 bg-red-500/10 border border-red-500/20 rounded-lg max-h-48 overflow-y-auto\">\n                <p className=\"font-medium mb-2 text-red-500\">Errors:</p>\n                <ul className=\"space-y-1 text-sm\">\n                  {importResult.errors.map((error, index) => (\n                    <li key={index} className=\"text-muted-foreground\">\n                      Row {error.row}: {error.error}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}