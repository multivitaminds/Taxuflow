{"version":3,"sources":["../../../../../../taxu-platform/v0-taxu-landing-page/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts","../../../../../../taxu-platform/v0-taxu-landing-page/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts","../../../../../../taxu-platform/v0-taxu-landing-page/app/actions/get-user.ts","../../../../../../taxu-platform/v0-taxu-landing-page/app/actions/get-user-profile.ts","../../../../../../taxu-platform/v0-taxu-landing-page/.next-internal/server/app/dashboard/activate-account/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n","// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n","\"use server\"\n\nimport { createClientSafe } from \"@/lib/supabase/server\"\n\nfunction getMockUser() {\n  return {\n    id: \"demo-user-id\",\n    email: \"demo@taxu.com\",\n    user_metadata: {\n      full_name: \"Demo User\",\n    },\n    app_metadata: {},\n    aud: \"authenticated\",\n    created_at: new Date().toISOString(),\n  }\n}\n\nexport async function getUser() {\n  try {\n    const supabase = await createClientSafe()\n\n    if (!supabase) {\n      console.log(\"[v0] Using mock user for preview environment\")\n      return getMockUser() as any\n    }\n\n    const {\n      data: { user },\n      error,\n    } = await supabase.auth.getUser()\n\n    if (error || !user) {\n      return null\n    }\n\n    return user\n  } catch (error) {\n    console.error(\"[v0] Error getting user:\", error)\n    return getMockUser() as any\n  }\n}\n","\"use server\"\n\nimport { createClientSafe } from \"@/lib/supabase/server\"\n\nfunction getMockProfile() {\n  return {\n    id: \"demo-user-id\",\n    email: \"demo@taxu.com\",\n    full_name: \"Demo User\",\n    user_type: \"demo\",\n    subscription_tier: \"free\",\n    account_type: \"demo\",\n    is_demo_seeded: true,\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n  }\n}\n\nexport async function getUserProfile(userId?: string) {\n  try {\n    const supabase = await createClientSafe()\n\n    if (!supabase) {\n      console.log(\"[v0] Using mock profile for preview environment\")\n      return getMockProfile() as any\n    }\n\n    let targetUserId = userId\n\n    // If no userId provided, get current authenticated user\n    if (!targetUserId) {\n      const {\n        data: { user },\n        error: userError,\n      } = await supabase.auth.getUser()\n\n      if (userError || !user) {\n        return getMockProfile() as any\n      }\n\n      targetUserId = user.id\n    }\n\n    const { data: profile, error: profileError } = await supabase\n      .from(\"user_profiles\")\n      .select(\"*\")\n      .eq(\"id\", targetUserId)\n      .maybeSingle()\n\n    if (profileError) {\n      console.error(\"[v0] Error fetching profile:\", profileError)\n      return getMockProfile() as any\n    }\n\n    return profile\n  } catch (error) {\n    console.error(\"[v0] Error getting user profile:\", error)\n    return getMockProfile() as any\n  }\n}\n","export {getUser as '0090321b0baf47b1bcf225c9f120d0855fd316418b'} from 'ACTIONS_MODULE0'\nexport {getUserProfile as '40591777f7b8407d936a63ee71ad659ec4540049c7'} from 'ACTIONS_MODULE1'\n"],"names":["registerServerReference","ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"8CAAoD,OAAA,cAAA,CAAA,EAAA,aAAA,oCAC3CA,0BAAAA,qCAAAA,EAAAA,uBAAuB,YAAQ,CAAA,CAAA,IAAA,mCCEjC,SAASC,EAAyBC,CAAc,EACrD,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQE,MAAM,CAAED,IAAK,CACvC,IAAME,EAASH,CAAO,CAACC,EAAE,CACzB,GAAsB,YAAlB,AAA8B,OAAvBE,EACT,MAAM,OAAA,cAEL,CAFK,AAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,EAAO;AAAA,oEAAuE,CAAC,EADhJ,oBAAA,OAAA,mBAAA,gBAAA,CAEN,EAEJ,CACF,0EATgBJ,2BAAAA,qCAAAA,uDCDhB,EAAA,EAAA,CAAA,CAAA,sBAEA,SAAS,IACP,MAAO,CACL,GAAI,eACJ,MAAO,gBACP,cAAe,CACb,UAAW,WACb,EACA,aAAc,CAAC,EACf,IAAK,gBACL,WAAY,IAAI,OAAO,WAAW,EACpC,CACF,CAEO,eAAe,IACpB,GAAI,CACF,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAgB,IAEvC,GAAI,CAAC,EAEH,OADA,CADa,OACL,GAAG,CAAC,gDACL,IAGT,GAAM,CACJ,KAAM,MAAE,CAAI,CAAE,OACd,CAAK,CACN,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GAE/B,GAAI,GAAS,CAAC,EACZ,IADkB,GACX,KAGT,OAAO,CACT,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,2BAA4B,GACnC,GACT,CACF,CCpCA,SAAS,IACP,MAAO,CACL,GAAI,eACJ,MAAO,gBACP,UAAW,YACX,UAAW,OACX,kBAAmB,OACnB,aAAc,OACd,gBAAgB,EAChB,WAAY,IAAI,OAAO,WAAW,GAClC,WAAY,IAAI,OAAO,WAAW,EACpC,CACF,CAEO,eAAe,EAAe,CAAe,EAClD,GAAI,CACF,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAgB,IAEvC,GAAI,CAAC,EAEH,OADA,CADa,OACL,GAAG,CAAC,mDACL,IAGT,IAAI,EAAe,EAGnB,GAAI,CAAC,EAAc,CACjB,GAAM,CACJ,KAAM,MAAE,CAAI,CAAE,CACd,MAAO,CAAS,CACjB,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GAE/B,GAAI,GAAa,CAAC,EAChB,IADsB,GACf,IAGT,EAAe,EAAK,EAAE,AACxB,CAEA,GAAM,CAAE,KAAM,CAAO,CAAE,MAAO,CAAY,CAAE,CAAG,MAAM,EAClD,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,KAAM,GACT,WAAW,GAEd,GAAI,EAEF,OADA,KADgB,GACR,KAAK,CAAC,+BAAgC,GACvC,IAGT,OAAO,CACT,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,mCAAoC,GAC3C,GACT,CACF,iCD1CsB,IAAA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,kECCA,IAAA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,kEClBtB,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA","ignoreList":[0,1]}