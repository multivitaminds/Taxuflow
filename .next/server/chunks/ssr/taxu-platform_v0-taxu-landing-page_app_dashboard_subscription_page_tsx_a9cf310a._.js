module.exports=[667872,a=>{"use strict";var b=a.i(24500),c=a.i(598293),d=a.i(401883),e=a.i(419716),f=a.i(27866),g=a.i(676996),h=a.i(930661),i=a.i(953377),j=a.i(412855),k=a.i(477242),l=a.i(437150),m=a.i(467250),n=a.i(671515);let o=[{id:"basic-w2",name:"Basic / Simple (W-2 Only)",price:49,priceId:"price_basic_w2_49",interval:"one-time",category:"individual",description:"W-2 filing with AI error checking",comparePrice:89,savings:"Save $40 vs TurboTax Deluxe",features:["W-2 filing and import","AI-powered error checking","Federal e-file included","Standard deduction","Refund tracking","Email support","IRS accuracy guarantee"]},{id:"plus-families",name:"Plus (Families, Homeowners, Investors)",price:99,priceId:"price_plus_99",interval:"one-time",category:"individual",description:"For complex returns with deductions and investments",popular:!0,comparePrice:149,savings:"Save $50 vs TurboTax Premier",features:["Everything in Basic","Itemized deductions","Mortgage interest deduction","Multiple W-2s and 1099s","Investment income (stocks, crypto)","Dependent management","Child tax credits","State filing included","Priority email support","Audit risk assessment"]},{id:"self-employed",name:"Self-Employed / Gig Worker",price:179,priceId:"price_self_employed_179",interval:"one-time",category:"individual",description:"1099 filing with AI bookkeeping and write-offs",comparePrice:249,savings:"Save $70 vs TurboTax Self-Employed",features:["Everything in Plus","Schedule C filing","1099-NEC and 1099-K filing","AI-powered expense tracking","Business write-offs maximizer","Mileage tracking and logging","Home office deduction","Quarterly tax estimates","Self-employment tax optimization","AI bookkeeping assistant","Unlimited tax questions"]},{id:"cpa-assisted",name:"Full CPA Assisted (Live Help)",price:299,priceId:"price_cpa_assisted_299",interval:"one-time",category:"individual",description:"CPA review with audit protection and unlimited support",comparePrice:499,savings:"Save $200 vs TurboTax Live Full Service",features:["Everything in Self-Employed","Dedicated CPA review","Unlimited tax expert consultations","Phone and video support","Audit defense and representation","IRS correspondence handling","Year-round tax planning","Priority filing (24-hour turnaround)","Tax strategy consultation","Peace of mind guarantee"]},{id:"business-basic",name:"Business Basic (Single-Member LLC)",price:399,priceId:"price_business_basic_399",interval:"one-time",category:"business",description:"Schedule C and LLC filing with AI bookkeeping",comparePrice:650,savings:"Save $251 vs traditional CPA",features:["Schedule C filing","Single-member LLC support","1099 contractor management","AI bookkeeping guidance","Quarterly estimated taxes","Expense categorization","Profit & loss statements","State business filing","Business deduction maximizer"]},{id:"business-pro",name:"Business Pro (S-Corp, Partnership)",price:799,priceId:"price_business_pro_799",interval:"one-time",category:"business",description:"S-Corp, Partnership with payroll and AI cleanup",comparePrice:1500,savings:"Save $701 vs traditional CPA",features:["Everything in Business Basic","Form 1120S (S-Corp filing)","Form 1065 (Partnership filing)","K-1 generation for partners","Payroll tax filing (Form 941)","W-2 and 1099 bulk filing","AI bookkeeping cleanup","QuickBooks integration","Monthly financial close assistance","Multi-state nexus analysis","Dedicated business advisor"]},{id:"enterprise",name:"Enterprise (Multi-State, Complex)",price:1499,priceId:"price_enterprise_1499",interval:"one-time",category:"business",description:"Corporate filings with dedicated support",comparePrice:5e3,savings:"Save $3,501 vs traditional CPA firm",features:["Everything in Business Pro","Form 1120 (C-Corp filing)","Multi-state tax compliance","Sales tax nexus analysis","International tax considerations","R&D tax credit analysis","Corporate structure optimization","Monthly bookkeeping service","Dedicated CFO-level advisor","24/7 priority support","Custom integrations","White-glove onboarding"]}];function p(a){return o.find(b=>b.id===a)}var q=a.i(659790),r=a.i(696885),s=a.i(300976);function t({profile:a}){let d=(0,q.useRouter)(),t=(0,q.useSearchParams)(),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!0),C="true"===t.get("success"),D="true"===t.get("canceled"),E="true"===t.get("demo"),F=t.get("plan"),G=t.get("addon");if((0,c.useEffect)(()=>{let a=setTimeout(()=>{B(!1)},1e3);return()=>clearTimeout(a)},[]),(0,c.useEffect)(()=>{if(C&&!E){let a=setTimeout(()=>{d.refresh()},2e3);return()=>clearTimeout(a)}},[C,E,d]),A&&C)return(0,b.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(j.Loader2,{className:"w-12 h-12 animate-spin text-primary mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Processing your subscription..."}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Please wait while we activate your account."})]})});let H=a?.subscription_tier?.toLowerCase()||"free",I=p(H),J=async()=>{if(confirm("Are you sure you want to cancel your subscription? You will retain access until the end of your billing period.")){v("cancel"),x(null);try{let a=await fetch("/api/subscriptions/cancel",{method:"POST"}),b=await a.json();if(!a.ok)throw Error(b.error||"Failed to cancel subscription");d.refresh()}catch(a){x(a.message),v(null)}}},K=async()=>{z(!0),x(null);try{let a=await fetch("/api/sync-subscription",{method:"POST"}),b=await a.json();if(!a.ok)throw Error(b.error||"Failed to sync subscription");console.log("[v0] Subscription synced:",b),d.refresh(),window.location.reload()}catch(a){console.error("[v0] Sync error:",a),x(a.message||"Failed to sync subscription")}finally{z(!1)}},L=o.filter(a=>"individual"===a.category),M=o.filter(a=>"business"===a.category);return(0,b.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,b.jsxs)("div",{className:"container mx-auto max-w-7xl",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Manage Subscription"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Upgrade, downgrade, or cancel your subscription"})]}),D&&(0,b.jsx)(f.Card,{className:"mb-6 border-amber-500 bg-amber-50 dark:bg-amber-950",children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(i.ArrowRight,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-amber-900 dark:text-amber-100 mb-2",children:"Checkout Canceled"}),(0,b.jsx)("p",{className:"text-amber-800 dark:text-amber-200 mb-4",children:"You canceled the checkout process. No charges were made. Feel free to try again when you're ready."})]})]})})}),C&&(0,b.jsx)(f.Card,{className:"mb-6 border-green-500 bg-green-50 dark:bg-green-950",children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(k.CheckCircle,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:E?"Demo Mode Active":"Payment Successful!"}),(0,b.jsx)("p",{className:"text-green-800 dark:text-green-200 mb-4",children:E?(0,b.jsxs)(b.Fragment,{children:["You're viewing a demo of the"," ",F?p(F)?.name:G||"subscription"," ","features. To activate real billing, connect your Stripe account."]}):(0,b.jsxs)(b.Fragment,{children:["Your subscription to"," ",F?p(F)?.name:G||"the plan"," has been activated. Your account will be updated shortly."]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(e.Button,{asChild:!0,variant:"default",children:(0,b.jsxs)(s.default,{href:"/dashboard",children:[(0,b.jsx)(m.LayoutDashboard,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})}),(0,b.jsx)(e.Button,{asChild:!0,variant:"outline",children:(0,b.jsxs)(s.default,{href:"/dashboard/settings",children:[(0,b.jsx)(l.User,{className:"mr-2 h-4 w-4"}),"View Profile"]})}),!E&&(0,b.jsx)(e.Button,{onClick:K,variant:"outline",disabled:y,children:y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.RefreshCw,{className:"w-4 h-4 mr-2"}),"Sync Now"]})})]})]})]})})}),w&&(0,b.jsx)("div",{className:"mb-6 p-4 rounded-lg bg-destructive/10 border border-destructive text-destructive",children:w}),(0,b.jsxs)(f.Card,{className:"mb-8",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Current Plan"}),(0,b.jsx)(f.CardDescription,{children:"Your active subscription"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold",children:I?.name||"Free"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:I?.description}),I&&I.price>0&&(0,b.jsxs)("p",{className:"text-lg font-semibold mt-2",children:["$",I.price,I.interval&&`/${I.interval}`]})]}),(0,b.jsx)(g.Badge,{variant:a?.subscription_status==="active"?"default":"secondary",children:a?.subscription_status||"active"})]}),a?.stripe_subscription_id&&(0,b.jsx)(e.Button,{variant:"destructive",className:"mt-4",onClick:J,disabled:"cancel"===u,children:"cancel"===u?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Canceling..."]}):"Cancel Subscription"})]})]}),(0,b.jsxs)("div",{className:"mb-12",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Individual Plans"}),(0,b.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:L.map(a=>{let c=a.id===H,d=!c&&a.price>(I?.price||0),g=!c&&a.price<(I?.price||0);return(0,b.jsxs)(f.Card,{className:`relative ${a.popular?"border-accent shadow-lg":""} ${c?"bg-accent/5":""}`,children:[a.popular&&(0,b.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 rounded-full bg-accent text-accent-foreground text-sm font-semibold",children:"Most Popular"}),(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:a.name}),(0,b.jsx)(f.CardDescription,{children:a.description}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("span",{className:"text-4xl font-bold",children:["$",a.price]}),a.interval&&(0,b.jsxs)("span",{className:"text-muted-foreground",children:["/",a.interval]})]})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("ul",{className:"space-y-2 mb-6",children:a.features.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(h.Check,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"text-sm",children:a})]},c))}),c?(0,b.jsx)(e.Button,{className:"w-full",disabled:!0,children:"Current Plan"}):a.priceId?(0,b.jsxs)(r.SubscriptionCheckoutButton,{planId:a.id,className:"w-full",variant:d?"default":"outline",children:[d?"Upgrade":g?"Downgrade":"Subscribe",(0,b.jsx)(i.ArrowRight,{className:"ml-2 h-4 w-4"})]}):(0,b.jsx)(e.Button,{className:"w-full bg-transparent",variant:"outline",disabled:!0,children:"Free Plan"})]})]},a.id)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Business Plans"}),(0,b.jsx)("div",{className:"grid md:grid-cols-2 gap-6 max-w-4xl",children:M.map(a=>{let c=a.id===H;return(0,b.jsxs)(f.Card,{className:c?"bg-accent/5":"",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:a.name}),(0,b.jsx)(f.CardDescription,{children:a.description}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("span",{className:"text-4xl font-bold",children:["$",a.price]}),a.interval&&(0,b.jsxs)("span",{className:"text-muted-foreground",children:["/",a.interval]})]})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("ul",{className:"space-y-2 mb-6",children:a.features.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)(h.Check,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"text-sm",children:a})]},c))}),c?(0,b.jsx)(e.Button,{className:"w-full",disabled:!0,children:"Current Plan"}):(0,b.jsxs)(r.SubscriptionCheckoutButton,{planId:a.id,className:"w-full",children:["Subscribe",(0,b.jsx)(i.ArrowRight,{className:"ml-2 h-4 w-4"})]})]})]},a.id)})})]})]})})}var u=a.i(95245);function v(){let{profile:a}=(0,d.useDashboard)();return(0,b.jsx)(t,{profile:a})}a.s(["default",0,function(){return(0,b.jsx)(u.ErrorBoundary,{children:(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)(j.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}),children:(0,b.jsx)(v,{})})})}],667872)}];

//# sourceMappingURL=taxu-platform_v0-taxu-landing-page_app_dashboard_subscription_page_tsx_a9cf310a._.js.map