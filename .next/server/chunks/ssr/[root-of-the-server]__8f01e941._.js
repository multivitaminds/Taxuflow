module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},679659,a=>{a.n(a.i(526807))},825907,a=>{a.n(a.i(755716))},93079,a=>{a.n(a.i(267738))},623392,a=>{a.n(a.i(159229))},622202,a=>{a.n(a.i(912483))},386183,a=>{a.n(a.i(834095))},162049,a=>{a.n(a.i(980604))},719394,a=>{"use strict";a.s(["FilingDashboardEnhanced",()=>b]);let b=(0,a.i(835623).registerClientReference)(function(){throw Error("Attempted to call FilingDashboardEnhanced() from the server but FilingDashboardEnhanced is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/taxu-platform/v0-taxu-landing-page/components/filing-dashboard-enhanced.tsx <module evaluation>","FilingDashboardEnhanced")},993162,a=>{"use strict";a.s(["FilingDashboardEnhanced",()=>b]);let b=(0,a.i(835623).registerClientReference)(function(){throw Error("Attempted to call FilingDashboardEnhanced() from the server but FilingDashboardEnhanced is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/taxu-platform/v0-taxu-landing-page/components/filing-dashboard-enhanced.tsx","FilingDashboardEnhanced")},440023,a=>{"use strict";a.i(719394);var b=a.i(993162);a.n(b)},214207,a=>{"use strict";var b=a.i(595459);a.i(453792);var c=a.i(534831),d=a.i(47478),e=a.i(410961),f=a.i(440023);async function g(){let a,g;console.log("[v0] Filing page: Starting to load");let h=await (0,d.cookies)();if(h.get("demo_mode")?.value==="true"){console.log("[v0] Filing page: Using demo mode, showing demo filings");let a=[{id:"demo-filing-1",tax_year:2024,form_type:"W-2",filing_status:"accepted",submission_id:"DEMO-W2-2024-001",irs_status:"accepted",refund_amount:1250,filed_at:new Date(Date.now()-6048e5).toISOString(),accepted_at:new Date(Date.now()-432e6).toISOString(),rejected_at:null,rejection_reasons:null,provider_name:"IRS E-File",created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-432e6).toISOString()},{id:"demo-filing-2",tax_year:2024,form_type:"1099-NEC",filing_status:"pending",submission_id:"DEMO-1099-2024-001",irs_status:"pending",refund_amount:null,filed_at:new Date(Date.now()-1728e5).toISOString(),accepted_at:null,rejected_at:null,rejection_reasons:null,provider_name:"IRS E-File",created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString()}];return(0,b.jsx)(f.FilingDashboardEnhanced,{user:{id:"demo-user-id",email:"demo@taxu.com"},filings:a})}try{a=await (0,e.createClient)()}catch(a){console.error("[v0] Filing page: Error creating Supabase client:",a),(0,c.redirect)("/login?redirect=/dashboard/filing")}a||(console.log("[v0] Filing page: No Supabase client, redirecting to login"),(0,c.redirect)("/login?redirect=/dashboard/filing"));try{let{data:{user:b},error:d}=await a.auth.getUser();(d||!b)&&(console.log("[v0] Filing page: No authenticated user, redirecting to login",d),(0,c.redirect)("/login?redirect=/dashboard/filing")),g=b}catch(a){console.error("[v0] Filing page: Error getting user:",a),(0,c.redirect)("/login?redirect=/dashboard/filing")}let i=[],j=[];try{let{data:b,error:c}=await a.from("w2_filings").select("*").eq("user_id",g.id).order("created_at",{ascending:!1});c?console.error("[v0] Error fetching W-2 filings:",c):i=b||[]}catch(a){console.error("[v0] Exception fetching W-2 filings:",a)}try{let{data:b,error:c}=await a.from("nec_1099_filings").select("*").eq("user_id",g.id).order("created_at",{ascending:!1});c?console.error("[v0] Error fetching 1099-NEC filings:",c):j=b||[]}catch(a){console.error("[v0] Exception fetching 1099-NEC filings:",a)}console.log(`[v0] Fetched ${i.length} W-2 filings and ${j.length} 1099-NEC filings for user ${g.id}`);let k=[...i.map(a=>{let b=a.refund_amount||null;if(!b&&"accepted"===a.irs_status){let c=a.wages||0;b=Math.max(0,Math.round((a.federal_tax_withheld||0)+(a.social_security_tax||0)+(a.medicare_tax||0)-.1*Math.max(0,c-13850)))}let c=(a.irs_status||"").toLowerCase();return{id:a.id,tax_year:a.tax_year,form_type:"W-2",filing_status:"accepted"===c?"accepted":"rejected"===c?"rejected":"pending",submission_id:a.submission_id||"",irs_status:a.irs_status,refund_amount:b,filed_at:a.submitted_at,accepted_at:a.accepted_at,rejected_at:a.rejected_at,rejection_reasons:a.rejection_reasons,provider_name:"IRS E-File",created_at:a.created_at,updated_at:a.updated_at}}),...j.map(a=>{let b=(a.irs_status||"").toLowerCase();return{id:a.id,tax_year:a.tax_year,form_type:"1099-NEC",filing_status:"accepted"===b?"accepted":"rejected"===b?"rejected":"pending",submission_id:a.submission_id||"",irs_status:a.irs_status,refund_amount:null,filed_at:a.submitted_at,accepted_at:a.accepted_at,rejected_at:a.rejected_at,rejection_reasons:a.rejection_reasons,provider_name:"IRS E-File",created_at:a.created_at,updated_at:a.updated_at}})].sort((a,b)=>new Date(b.created_at).getTime()-new Date(a.created_at).getTime());return console.log(`[v0] Filing page: Rendering with ${k.length} total filings`),(0,b.jsx)(f.FilingDashboardEnhanced,{user:g,filings:k})}a.s(["default",0,g,"dynamic",0,"force-dynamic"])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8f01e941._.js.map