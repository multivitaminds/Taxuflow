{"version":3,"sources":["../../../../../../taxu-platform/v0-taxu-landing-page/lib/name-parser.ts","../../../../../../taxu-platform/v0-taxu-landing-page/components/forms/document-upload.tsx","../../../../../../taxu-platform/v0-taxu-landing-page/components/forms/quickbooks-sync.tsx"],"sourcesContent":["/**\n * Parses a full name string and extracts first name, middle initial, and last name\n * Handles cases like:\n * - \"RUTH A LIGHTSON\" -> { firstName: \"RUTH\", middleInitial: \"A\", lastName: \"LIGHTSON\" }\n * - \"JOHN SMITH\" -> { firstName: \"JOHN\", middleInitial: \"\", lastName: \"SMITH\" }\n * - \"MARY JANE DOE\" -> { firstName: \"MARY\", middleInitial: \"J\", lastName: \"DOE\" }\n */\nexport function parseName(fullName: string): {\n  firstName: string\n  middleInitial: string\n  lastName: string\n} | null {\n  if (!fullName || typeof fullName !== \"string\") {\n    return null\n  }\n\n  const trimmed = fullName.trim()\n  if (!trimmed) {\n    return null\n  }\n\n  const parts = trimmed.split(/\\s+/)\n\n  if (parts.length === 1) {\n    // Only one name part\n    return {\n      firstName: parts[0],\n      middleInitial: \"\",\n      lastName: \"\",\n    }\n  }\n\n  if (parts.length === 2) {\n    // First and last name only\n    return {\n      firstName: parts[0],\n      middleInitial: \"\",\n      lastName: parts[1],\n    }\n  }\n\n  // 3 or more parts\n  const firstName = parts[0]\n  const lastName = parts[parts.length - 1]\n\n  // Check if second part is a single letter (middle initial)\n  const secondPart = parts[1]\n  if (secondPart.length === 1 || (secondPart.length === 2 && secondPart.endsWith(\".\"))) {\n    // It's a middle initial\n    return {\n      firstName,\n      middleInitial: secondPart.replace(\".\", \"\").toUpperCase(),\n      lastName,\n    }\n  }\n\n  // If second part is a full word, treat it as part of first name or extract first letter as middle initial\n  // For now, we'll take the first letter of the second part as middle initial\n  return {\n    firstName,\n    middleInitial: secondPart.charAt(0).toUpperCase(),\n    lastName,\n  }\n}\n\n/**\n * Parses last name that may contain middle initial\n * Example: \"A LIGHTSON\" -> { middleInitial: \"A\", lastName: \"LIGHTSON\" }\n */\nexport function parseLastNameWithMiddleInitial(lastNameField: string): {\n  middleInitial: string\n  lastName: string\n} | null {\n  if (!lastNameField || typeof lastNameField !== \"string\") {\n    return null\n  }\n\n  const trimmed = lastNameField.trim()\n  if (!trimmed) {\n    return null\n  }\n\n  const parts = trimmed.split(/\\s+/)\n\n  if (parts.length === 1) {\n    // Just last name, no middle initial\n    return {\n      middleInitial: \"\",\n      lastName: parts[0],\n    }\n  }\n\n  // Check if first part is a single letter (middle initial)\n  const firstPart = parts[0]\n  if (firstPart.length === 1 || (firstPart.length === 2 && firstPart.endsWith(\".\"))) {\n    // It's a middle initial followed by last name\n    return {\n      middleInitial: firstPart.replace(\".\", \"\").toUpperCase(),\n      lastName: parts.slice(1).join(\" \"),\n    }\n  }\n\n  // Otherwise, treat entire string as last name\n  return {\n    middleInitial: \"\",\n    lastName: trimmed,\n  }\n}\n","\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useCallback } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { Upload, FileText, Loader2, CheckCircle2, X, AlertCircle } from \"lucide-react\"\nimport { useRouter } from \"next/navigation\"\n\ninterface DocumentUploadProps {\n  userId?: string\n  onExtractComplete?: (data: any, metadata: any) => void\n  formType?: string\n  expectedDocType?: string\n  title?: string\n  description?: string\n}\n\ninterface UploadedFile {\n  id: string\n  name: string\n  size: number\n  type: string\n  status: \"uploading\" | \"processing\" | \"complete\" | \"error\"\n  extractedData?: any\n  errorMessage?: string\n}\n\nexport function DocumentUpload({\n  userId,\n  onExtractComplete,\n  formType = \"all\",\n  expectedDocType,\n  title = \"Upload Tax Documents\",\n  description = \"Upload W-2s, 1099s, receipts, and other tax documents for AI extraction\",\n}: DocumentUploadProps) {\n  const [files, setFiles] = useState<UploadedFile[]>([])\n  const [isDragging, setIsDragging] = useState(false)\n  const { toast } = useToast()\n  const router = useRouter()\n\n  console.log(\"[v0] DocumentUpload component mounted\")\n  console.log(\"[v0] DocumentUpload props:\", { userId, formType, expectedDocType })\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault()\n    setIsDragging(false)\n\n    console.log(\"[v0] Files dropped via drag-and-drop\")\n    const droppedFiles = Array.from(e.dataTransfer.files)\n    console.log(\"[v0] Number of files dropped:\", droppedFiles.length)\n    handleFiles(droppedFiles)\n  }, [])\n\n  const handleFileInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    console.log(\"[v0] File input changed\")\n    if (e.target.files) {\n      const selectedFiles = Array.from(e.target.files)\n      console.log(\"[v0] Number of files selected:\", selectedFiles.length)\n      handleFiles(selectedFiles)\n    } else {\n      console.log(\"[v0] No files selected\")\n    }\n  }\n\n  const handleFiles = async (fileList: File[]) => {\n    console.log(\"[v0] handleFiles called with\", fileList.length, \"files\")\n    console.log(\"[v0] Current userId:\", userId)\n    console.log(\n      \"[v0] File names:\",\n      fileList.map((f) => f.name),\n    )\n\n    if (!userId) {\n      console.error(\"[v0] No userId provided, showing authentication error\")\n      toast({\n        title: \"Authentication Required\",\n        description: \"Please wait for authentication to complete, then try uploading again.\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    const validFiles: File[] = []\n    const invalidFiles: string[] = []\n\n    for (const file of fileList) {\n      const validTypes = [\"application/pdf\", \"image/jpeg\", \"image/jpg\", \"image/png\"]\n      const maxSize = 10 * 1024 * 1024 // 10MB\n\n      if (!validTypes.includes(file.type) && !file.name.match(/\\.(pdf|jpg|jpeg|png)$/i)) {\n        invalidFiles.push(`${file.name} (invalid type)`)\n        continue\n      }\n\n      if (file.size > maxSize) {\n        invalidFiles.push(`${file.name} (exceeds 10MB)`)\n        continue\n      }\n\n      validFiles.push(file)\n    }\n\n    if (invalidFiles.length > 0) {\n      toast({\n        title: \"Invalid Files\",\n        description: `The following files cannot be uploaded: ${invalidFiles.join(\", \")}`,\n        variant: \"destructive\",\n      })\n    }\n\n    if (validFiles.length === 0) {\n      return\n    }\n\n    const newFiles: UploadedFile[] = validFiles.map((file) => ({\n      id: Date.now().toString() + Math.random(),\n      name: file.name,\n      size: file.size,\n      type: file.type,\n      status: \"uploading\",\n    }))\n\n    setFiles((prev) => [...prev, ...newFiles])\n\n    for (let i = 0; i < validFiles.length; i++) {\n      const file = validFiles[i]\n      const fileId = newFiles[i].id\n\n      try {\n        console.log(\"[v0] Starting AI extraction for:\", file.name)\n        console.log(\"[v0] File size:\", file.size / (1024 * 1024).toFixed(2), \"MB\")\n        console.log(\"[v0] File type:\", file.type)\n\n        const fileSizeMB = file.size / (1024 * 1024)\n        if (fileSizeMB > 10) {\n          throw new Error(\"File too large. Maximum size is 10MB. Please compress the document.\")\n        }\n\n        // Update status to processing\n        setFiles((prev) => prev.map((f) => (f.id === fileId ? { ...f, status: \"processing\" } : f)))\n\n        console.log(\"[v0] Converting file to base64...\")\n        // Convert file to base64 for AI processing\n        const arrayBuffer = await file.arrayBuffer()\n        const base64 = Buffer.from(arrayBuffer).toString(\"base64\")\n        console.log(\"[v0] Base64 length:\", base64.length)\n\n        const controller = new AbortController()\n        const timeoutId = setTimeout(() => controller.abort(), 45000) // 45 second timeout\n\n        try {\n          console.log(\"[v0] Calling /api/filing/extract-document...\")\n          // Extract data using AI directly from file\n          const extractResponse = await fetch(\"/api/filing/extract-document\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              fileData: base64,\n              fileName: file.name,\n              mimeType: file.type,\n              userId,\n            }),\n            signal: controller.signal,\n          })\n\n          clearTimeout(timeoutId)\n\n          console.log(\"[v0] Extract API response status:\", extractResponse.status)\n          const extractData = await extractResponse.json()\n\n          console.log(\"[v0] Extraction response success:\", extractData.success)\n          console.log(\"[v0] Extraction response data type:\", extractData.data?.documentType)\n          console.log(\"[v0] Full extraction response:\", JSON.stringify(extractData).substring(0, 300))\n\n          if (extractData.success && extractData.data) {\n            console.log(\"[v0] Extraction successful, processing results...\")\n\n            // Previously rejected mismatched form types, now only shows a warning toast\n            if (expectedDocType && extractData.data.documentType !== expectedDocType) {\n              const detectedType = (extractData.data.documentType || \"unknown\").toUpperCase()\n              const expectedType = expectedDocType.toUpperCase()\n\n              console.log(\"[v0] Form type mismatch:\", { detected: detectedType, expected: expectedType })\n\n              toast({\n                title: \"Different Form Type Detected\",\n                description: `Uploaded ${detectedType} form to ${expectedType} page. Please verify this is correct.`,\n                variant: \"default\",\n              })\n            }\n\n            setFiles((prev) =>\n              prev.map((f) =>\n                f.id === fileId\n                  ? {\n                      ...f,\n                      status: \"complete\",\n                      extractedData: extractData.data,\n                    }\n                  : f,\n              ),\n            )\n\n            console.log(\"[v0] Calling onExtractComplete callback...\")\n            console.log(\"[v0] Callback data:\", JSON.stringify(extractData.data).substring(0, 200))\n\n            if (extractData.warning === \"demo_mode\") {\n              toast({\n                title: \"Demo Mode Active\",\n                description: \"AI service unavailable. Demo data provided - please verify all information.\",\n                variant: \"default\",\n              })\n            } else if (extractData.warning === \"template_data_detected\") {\n              toast({\n                title: \"Demo Document Detected\",\n                description: `${file.name} appears to be a demo/template. Data extracted - please verify before submitting.`,\n                variant: \"default\",\n              })\n            } else {\n              toast({\n                title: \"Document Processed\",\n                description: `Successfully extracted ${extractData.data.documentType?.toUpperCase() || \"data\"} from ${file.name}`,\n              })\n            }\n\n            // Notify parent component with metadata\n            if (onExtractComplete) {\n              console.log(\"[v0] Executing onExtractComplete callback\")\n              onExtractComplete(extractData.data, {\n                warning: extractData.warning,\n                message: extractData.message,\n              })\n            } else {\n              console.log(\"[v0] No onExtractComplete callback provided\")\n            }\n          } else {\n            console.error(\"[v0] Extraction failed:\", extractData.error)\n            throw new Error(extractData.error || \"Extraction failed\")\n          }\n        } catch (fetchError) {\n          clearTimeout(timeoutId)\n          console.error(\"[v0] Fetch error:\", fetchError)\n          if (fetchError instanceof Error && fetchError.name === \"AbortError\") {\n            throw new Error(\n              \"Request timed out. The document may be too large or complex. Please try with a smaller/clearer document.\",\n            )\n          }\n          throw fetchError\n        }\n      } catch (error) {\n        console.error(\"[v0] Processing error:\", error)\n        const errorMessage = error instanceof Error ? error.message : \"Failed to process document\"\n\n        setFiles((prev) =>\n          prev.map((f) =>\n            f.id === fileId\n              ? {\n                  ...f,\n                  status: \"error\",\n                  errorMessage,\n                }\n              : f,\n          ),\n        )\n\n        toast({\n          title: \"Processing Failed\",\n          description: errorMessage,\n          variant: \"destructive\",\n        })\n      }\n    }\n  }\n\n  const removeFile = (id: string) => {\n    setFiles((prev) => prev.filter((f) => f.id !== id))\n  }\n\n  const handleSubmit = async () => {\n    console.log(\"[v0] handleSubmit called, files:\", files.length)\n\n    const completedFiles = files.filter((f) => f.status === \"complete\")\n\n    console.log(\"[v0] Completed files:\", completedFiles.length)\n\n    if (completedFiles.length === 0) {\n      toast({\n        title: \"No Documents Ready\",\n        description: \"Please wait for documents to finish processing\",\n        variant: \"destructive\",\n      })\n      return\n    }\n\n    if (expectedDocType === \"1099-nec\" && onExtractComplete) {\n      // Pass all extracted contractor data to parent component\n      const allContractorData = completedFiles.map((f) => f.extractedData)\n\n      toast({\n        title: \"Documents Ready\",\n        description: `${completedFiles.length} contractor document${completedFiles.length > 1 ? \"s\" : \"\"} extracted successfully`,\n      })\n\n      // Call the callback with multiple contractor data\n      onExtractComplete({ contractors: allContractorData }, { isMultiple: true })\n      return\n    }\n\n    try {\n      console.log(\"[v0] Submitting to /api/filing/submit-extracted with userId:\", userId)\n      console.log(\"[v0] Documents data:\", JSON.stringify(completedFiles.map((f) => f.extractedData)).substring(0, 500))\n\n      const response = await fetch(\"/api/filing/submit-extracted\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          userId,\n          documents: completedFiles.map((f) => f.extractedData),\n        }),\n      })\n\n      console.log(\"[v0] Response status:\", response.status)\n\n      let data\n      const contentType = response.headers.get(\"content-type\")\n\n      if (contentType && contentType.includes(\"application/json\")) {\n        data = await response.json()\n        console.log(\"[v0] Response data:\", JSON.stringify(data).substring(0, 300))\n      } else {\n        // Handle non-JSON response (like HTML error pages)\n        const text = await response.text()\n        console.error(\"[v0] Received non-JSON response:\", text.substring(0, 300))\n        throw new Error(\"Server returned an invalid response. Please try again or contact support.\")\n      }\n\n      if (data.success) {\n        toast({\n          title: \"Filing Submitted\",\n          description: \"Your tax documents have been filed successfully\",\n        })\n        router.push(\"/dashboard/filing\")\n      } else {\n        throw new Error(data.error || \"Failed to submit filing\")\n      }\n    } catch (error) {\n      console.error(\"[v0] Submission error:\", error)\n      toast({\n        title: \"Submission Failed\",\n        description: error instanceof Error ? error.message : \"Failed to submit tax filing\",\n        variant: \"destructive\",\n      })\n    }\n  }\n\n  const getStatusDisplay = (file: UploadedFile) => {\n    switch (file.status) {\n      case \"uploading\":\n        return {\n          icon: <Loader2 className=\"h-5 w-5 animate-spin text-blue-600\" />,\n          text: \"Uploading...\",\n          color: \"text-blue-600\",\n        }\n      case \"processing\":\n        return {\n          icon: <Loader2 className=\"h-5 w-5 animate-spin text-yellow-600\" />,\n          text: \"AI Extracting Data...\",\n          color: \"text-yellow-600\",\n        }\n      case \"complete\":\n        return {\n          icon: <CheckCircle2 className=\"h-5 w-5 text-green-600\" />,\n          text: \"âœ“ Extracted Successfully\",\n          color: \"text-green-600\",\n        }\n      case \"error\":\n        return {\n          icon: <AlertCircle className=\"h-5 w-5 text-red-600\" />,\n          text: file.errorMessage || \"Processing Failed\",\n          color: \"text-red-600\",\n        }\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle>{title}</CardTitle>\n          <CardDescription>{description}</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div\n            onDrop={handleDrop}\n            onDragOver={(e) => {\n              e.preventDefault()\n              setIsDragging(true)\n            }}\n            onDragLeave={() => setIsDragging(false)}\n            className={`relative rounded-lg border-2 border-dashed p-12 text-center transition-colors ${\n              isDragging ? \"border-primary bg-primary/5\" : \"border-muted-foreground/25\"\n            }`}\n          >\n            <input\n              type=\"file\"\n              multiple\n              accept=\".pdf,.jpg,.jpeg,.png\"\n              onChange={handleFileInputChange}\n              className=\"absolute inset-0 cursor-pointer opacity-0\"\n            />\n            <Upload className=\"mx-auto mb-4 h-12 w-12 text-muted-foreground\" />\n            <h3 className=\"mb-2 text-lg font-semibold\">Drop files here or click to upload</h3>\n            <p className=\"text-sm text-muted-foreground\">Supports PDF, JPG, PNG (Max 10MB per file)</p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {files.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Uploaded Documents</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            {files.map((file) => {\n              const statusDisplay = getStatusDisplay(file)\n              return (\n                <div key={file.id} className=\"flex items-center justify-between rounded-lg border p-4\">\n                  <div className=\"flex items-center gap-3 flex-1\">\n                    <FileText className=\"h-8 w-8 text-muted-foreground flex-shrink-0\" />\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"font-medium truncate\">{file.name}</p>\n                      <p className=\"text-sm text-muted-foreground\">{(file.size / 1024).toFixed(2)} KB</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-3 flex-shrink-0\">\n                    <div className=\"flex items-center gap-2\">\n                      {statusDisplay.icon}\n                      <span className={`text-sm font-medium ${statusDisplay.color}`}>{statusDisplay.text}</span>\n                    </div>\n                    <Button variant=\"ghost\" size=\"sm\" onClick={() => removeFile(file.id)}>\n                      <X className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              )\n            })}\n          </CardContent>\n        </Card>\n      )}\n\n      {files.some((f) => f.status === \"complete\") && (\n        <div className=\"flex justify-end gap-3\">\n          <Button variant=\"outline\" onClick={() => setFiles([])}>\n            Clear All\n          </Button>\n          <Button onClick={handleSubmit} className=\"bg-gradient-to-r from-purple-600 to-orange-600\">\n            Submit Filing\n          </Button>\n        </div>\n      )}\n    </div>\n  )\n}\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { LinkIcon, RefreshCw, CheckCircle2, AlertCircle, Loader2, TrendingUp, TrendingDown } from \"lucide-react\"\nimport { useRouter } from \"next/navigation\"\n\ninterface QuickBooksSyncProps {\n  userId: string\n  onSyncComplete?: (data: any) => void\n}\n\ninterface SyncStatus {\n  connected: boolean\n  lastSync: string | null\n  transactionCount: number\n  categorizedCount: number\n}\n\nexport function QuickBooksSync({ userId, onSyncComplete }: QuickBooksSyncProps) {\n  const [syncStatus, setSyncStatus] = useState<SyncStatus | null>(null)\n  const [isSyncing, setIsSyncing] = useState(false)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const { toast } = useToast()\n  const router = useRouter()\n\n  useEffect(() => {\n    fetchSyncStatus()\n  }, [])\n\n  const fetchSyncStatus = async () => {\n    try {\n      const response = await fetch(`/api/quickbooks/sync-status?userId=${userId}`)\n      const data = await response.json()\n      setSyncStatus(data)\n    } catch (error) {\n      console.error(\"Failed to fetch sync status:\", error)\n    }\n  }\n\n  const handleConnect = () => {\n    window.location.href = `/api/quickbooks/connect?userId=${userId}`\n  }\n\n  const handleSync = async () => {\n    setIsSyncing(true)\n    try {\n      const response = await fetch(\"/api/quickbooks/sync\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ userId }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        toast({\n          title: \"Sync Complete\",\n          description: `Synced ${data.transactionCount} transactions and categorized them for taxes`,\n        })\n        fetchSyncStatus()\n\n        if (onSyncComplete && data.extractedData) {\n          onSyncComplete(data.extractedData)\n        }\n      }\n    } catch (error) {\n      toast({\n        title: \"Sync Failed\",\n        description: \"Failed to sync QuickBooks data\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsSyncing(false)\n    }\n  }\n\n  const handleSubmitFiling = async () => {\n    setIsSubmitting(true)\n    try {\n      const response = await fetch(\"/api/filing/submit-quickbooks\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ userId }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        toast({\n          title: \"Filing Submitted\",\n          description: \"Your tax filing has been submitted successfully\",\n        })\n        router.push(\"/dashboard/filing\")\n      }\n    } catch (error) {\n      toast({\n        title: \"Submission Failed\",\n        description: \"Failed to submit tax filing\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  if (!syncStatus) {\n    return (\n      <Card className=\"border-purple-500/20 bg-gradient-to-br from-purple-500/5 to-orange-500/5\">\n        <CardContent className=\"flex items-center justify-center py-12\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-purple-600\" />\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card className=\"border-purple-500/20 bg-gradient-to-br from-purple-500/5 to-orange-500/5 backdrop-blur-sm\">\n        <CardHeader>\n          <CardTitle className=\"bg-gradient-to-r from-purple-600 to-orange-600 bg-clip-text text-transparent\">\n            QuickBooks Integration\n          </CardTitle>\n          <CardDescription>\n            Sync your QuickBooks data to automatically categorize transactions for taxes using AI\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {!syncStatus.connected ? (\n            <div className=\"flex flex-col items-center justify-center py-8\">\n              <div className=\"mb-4 rounded-full bg-purple-500/10 p-4\">\n                <AlertCircle className=\"h-12 w-12 text-purple-600\" />\n              </div>\n              <h3 className=\"mb-2 text-lg font-semibold\">QuickBooks Not Connected</h3>\n              <p className=\"mb-4 text-center text-sm text-muted-foreground\">\n                Connect your QuickBooks account to automatically import and categorize transactions\n              </p>\n              <Button\n                onClick={handleConnect}\n                className=\"bg-gradient-to-r from-purple-600 to-orange-600 hover:from-purple-700 hover:to-orange-700\"\n              >\n                <LinkIcon className=\"mr-2 h-4 w-4\" />\n                Connect QuickBooks\n              </Button>\n            </div>\n          ) : (\n            <>\n              <div className=\"flex items-center justify-between rounded-lg border border-green-500/20 bg-gradient-to-r from-green-500/10 to-emerald-500/10 p-4\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"rounded-full bg-green-500/20 p-2\">\n                    <CheckCircle2 className=\"h-6 w-6 text-green-600\" />\n                  </div>\n                  <div>\n                    <p className=\"font-semibold\">QuickBooks Connected</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Last synced: {syncStatus.lastSync ? new Date(syncStatus.lastSync).toLocaleString() : \"Never\"}\n                    </p>\n                  </div>\n                </div>\n                <Button\n                  onClick={handleSync}\n                  disabled={isSyncing}\n                  variant=\"outline\"\n                  className=\"border-green-500/20 bg-transparent\"\n                >\n                  {isSyncing ? (\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  ) : (\n                    <RefreshCw className=\"mr-2 h-4 w-4\" />\n                  )}\n                  Sync Now\n                </Button>\n              </div>\n\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <Card className=\"border-blue-500/20 bg-gradient-to-br from-blue-500/10 to-cyan-500/10\">\n                  <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                    <CardTitle className=\"text-sm font-medium\">Total Transactions</CardTitle>\n                    <TrendingUp className=\"h-4 w-4 text-blue-600\" />\n                  </CardHeader>\n                  <CardContent>\n                    <p className=\"text-3xl font-bold text-blue-600\">{syncStatus.transactionCount}</p>\n                    <p className=\"text-xs text-muted-foreground\">Synced from QuickBooks</p>\n                  </CardContent>\n                </Card>\n                <Card className=\"border-purple-500/20 bg-gradient-to-br from-purple-500/10 to-pink-500/10\">\n                  <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                    <CardTitle className=\"text-sm font-medium\">AI Categorized</CardTitle>\n                    <TrendingDown className=\"h-4 w-4 text-purple-600\" />\n                  </CardHeader>\n                  <CardContent>\n                    <p className=\"text-3xl font-bold text-purple-600\">{syncStatus.categorizedCount}</p>\n                    <p className=\"text-xs text-muted-foreground\">Ready for tax filing</p>\n                  </CardContent>\n                </Card>\n              </div>\n\n              {syncStatus.categorizedCount > 0 && (\n                <div className=\"rounded-lg border border-green-500/20 bg-gradient-to-r from-green-500/10 to-emerald-500/10 p-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <CheckCircle2 className=\"h-5 w-5 text-green-600\" />\n                    <p className=\"text-sm font-medium text-green-900 dark:text-green-100\">\n                      Ready to file! Your transactions have been categorized and are ready for tax filing.\n                    </p>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      {syncStatus.connected && syncStatus.categorizedCount > 0 && (\n        <div className=\"flex justify-end\">\n          <Button\n            onClick={handleSubmitFiling}\n            disabled={isSubmitting}\n            className=\"bg-gradient-to-r from-purple-600 to-orange-600 hover:from-purple-700 hover:to-orange-700\"\n          >\n            {isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n            Submit Tax Filing\n          </Button>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}