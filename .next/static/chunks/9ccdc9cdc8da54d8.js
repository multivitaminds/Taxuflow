(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,669980,e=>{"use strict";let s=(0,e.i(40530).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",0,s],669980)},299550,e=>{"use strict";let s=(0,e.i(40530).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",0,s],299550)},965957,e=>{"use strict";let s=(0,e.i(40530).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",0,s],965957)},176359,e=>{"use strict";let s=(0,e.i(40530).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",0,s],176359)},781564,e=>{"use strict";let s=(0,e.i(40530).default)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);e.s(["HardDrive",0,s],781564)},230326,e=>{"use strict";var s=e.i(437322),t=e.i(949161),l=e.i(285937),a=e.i(363284),r=e.i(594950),d=e.i(671759),i=e.i(669980),n=e.i(781564),c=e.i(299550),o=e.i(176359),x=e.i(965957),m=e.i(780212);e.s(["StorageDetailsClient",0,function({user:e,profile:h}){let u=(0,l.useRouter)(),[g,b]=(0,t.useState)([]),[p,j]=(0,t.useState)(!0),f=(0,m.createClient)(),N=async()=>{j(!0);let{data:s}=await f.from("documents").select("*").eq("user_id",e.id).order("file_size",{ascending:!1});s&&b(s),j(!1)};(0,t.useEffect)(()=>{N()},[e.id]);let y=g.reduce((e,s)=>e+s.file_size,0),v=y/0x6400000*100,k=g.reduce((e,s)=>{let t=s.ai_document_type||"other";return e[t]||(e[t]={count:0,size:0}),e[t].count++,e[t].size+=s.file_size,e},{});return p?(0,s.jsx)("div",{className:"min-h-screen bg-background pt-8 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-neon border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading storage details..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-background pt-8",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,s.jsxs)(a.Button,{onClick:()=>u.push("/dashboard/documents"),variant:"ghost",className:"mb-6",children:[(0,s.jsx)(d.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Storage Usage"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Monitor and manage your document storage"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)(r.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(n.HardDrive,{className:"w-5 h-5 text-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Storage Used"})]}),(0,s.jsxs)("p",{className:"text-3xl font-bold",children:[(y/1024/1024).toFixed(1)," MB"]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"of 100 MB"})]}),(0,s.jsxs)(r.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(i.FileText,{className:"w-5 h-5 text-neon"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Documents"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:g.length})]}),(0,s.jsxs)(r.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(c.TrendingUp,{className:"w-5 h-5 text-green-500"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Avg. File Size"})]}),(0,s.jsxs)("p",{className:"text-3xl font-bold",children:[g.length>0?(y/g.length/1024).toFixed(1):"0"," KB"]})]})]}),(0,s.jsxs)(r.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Storage Overview"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Storage Usage"}),(0,s.jsxs)("span",{className:"text-sm font-semibold",children:[v.toFixed(1),"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-background/50 rounded-full h-4",children:(0,s.jsx)("div",{className:`h-4 rounded-full transition-all ${v>90?"bg-red-500":v>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,v)}%`}})})]}),v>80&&(0,s.jsx)("div",{className:"p-4 rounded-lg bg-yellow-500/10 border border-yellow-500/20",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(o.AlertCircle,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-1",children:"Storage Warning"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["You're using ",v.toFixed(1),"% of your storage. Consider deleting old documents or upgrading your plan."]})]})]})}),v<=80&&(0,s.jsx)("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(x.CheckCircle2,{className:"w-5 h-5 text-green-500 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-sm mb-1",children:"Storage Healthy"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["You have ",((0x6400000-y)/1024/1024).toFixed(1)," MB of storage remaining."]})]})]})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(r.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Storage by Document Type"}),(0,s.jsx)("div",{className:"space-y-4",children:Object.entries(k).sort((e,s)=>s[1].size-e[1].size).map(([e,t])=>{let l=t.size/y*100;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold capitalize",children:e}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground ml-2",children:["(",t.count," files)"]})]}),(0,s.jsxs)("span",{className:"text-sm font-semibold",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}),(0,s.jsx)("div",{className:"w-full bg-background/50 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-neon h-2 rounded-full transition-all",style:{width:`${l}%`}})})]},e)})})]}),(0,s.jsxs)(r.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Largest Documents"}),(0,s.jsx)("div",{className:"space-y-3",children:g.slice(0,10).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(i.FileText,{className:"w-5 h-5 text-neon"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-sm",children:e.file_name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:e.ai_document_type||"Unknown"})]})]}),(0,s.jsxs)("span",{className:"text-sm font-semibold",children:[(e.file_size/1024).toFixed(1)," KB"]})]},e.id))})]})]})]})})}])}]);