(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,994179,e=>{"use strict";var t=e.i(878957),s=e.i(589944),r=e.i(294237),a=e.i(647163);let i=(0,r.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});e.s(["Badge",0,function({className:e,variant:r,asChild:n=!1,...l}){let o=n?s.Slot:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,a.cn)(i({variant:r}),e),...l})}])},593446,e=>{"use strict";var t=e.i(821596);e.i(309235);var s=e.i(589944),r=e.i(878957),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let i=(0,s.createSlot)(`Primitive.${a}`),n=t.forwardRef((e,t)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(s?i:a,{...n,ref:t})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{});e.s(["Primitive",0,a])},881424,e=>{"use strict";var t=e.i(821596),s=e.i(878957);e.s(["createContextScope",0,function(e,r=[]){let a=[],i=()=>{let s=a.map(e=>t.createContext(e));return function(r){let a=r?.[e]||s;return t.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return i.scopeName=e,[function(r,i){let n=t.createContext(i);n.displayName=r+"Context";let l=a.length;a=[...a,i];let o=r=>{let{scope:a,children:i,...o}=r,d=a?.[e]?.[l]||n,c=t.useMemo(()=>o,Object.values(o));return(0,s.jsx)(d.Provider,{value:c,children:i})};return o.displayName=r+"Provider",[o,function(s,a){let o=a?.[e]?.[l]||n,d=t.useContext(o);if(d)return d;if(void 0!==i)return i;throw Error(`\`${s}\` must be used within \`${r}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:s,scopeName:r})=>{let a=s(e)[`__scope${r}`];return{...t,...a}},{});return t.useMemo(()=>({[`__scope${s.scopeName}`]:a}),[a])}};return r.scopeName=s.scopeName,r}(i,...r)]}])},63270,e=>{"use strict";var t=e.i(878957),s=e.i(821596),r=e.i(881424),a=e.i(744189),i=e.i(328299),n=e.i(593446),l=e.i(162408);function o(){return()=>{}}var d="Avatar",[c,m]=(0,r.createContextScope)(d),[u,x]=c(d),h=s.forwardRef((e,r)=>{let{__scopeAvatar:a,...i}=e,[l,o]=s.useState("idle");return(0,t.jsx)(u,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:o,children:(0,t.jsx)(n.Primitive.span,{...i,ref:r})})});h.displayName=d;var p="AvatarImage",g=s.forwardRef((e,r)=>{let{__scopeAvatar:d,src:c,onLoadingStatusChange:m=()=>{},...u}=e,h=x(p,d),g=function(e,{referrerPolicy:t,crossOrigin:r}){let a=(0,l.useSyncExternalStore)(o,()=>!0,()=>!1),n=s.useRef(null),d=a?(n.current||(n.current=new window.Image),n.current):null,[c,m]=s.useState(()=>b(d,e));return(0,i.useLayoutEffect)(()=>{m(b(d,e))},[d,e]),(0,i.useLayoutEffect)(()=>{let e=e=>()=>{m(e)};if(!d)return;let s=e("loaded"),a=e("error");return d.addEventListener("load",s),d.addEventListener("error",a),t&&(d.referrerPolicy=t),"string"==typeof r&&(d.crossOrigin=r),()=>{d.removeEventListener("load",s),d.removeEventListener("error",a)}},[d,r,t]),c}(c,u),f=(0,a.useCallbackRef)(e=>{m(e),h.onImageLoadingStatusChange(e)});return(0,i.useLayoutEffect)(()=>{"idle"!==g&&f(g)},[g,f]),"loaded"===g?(0,t.jsx)(n.Primitive.img,{...u,ref:r,src:c}):null});g.displayName=p;var f="AvatarFallback",v=s.forwardRef((e,r)=>{let{__scopeAvatar:a,delayMs:i,...l}=e,o=x(f,a),[d,c]=s.useState(void 0===i);return s.useEffect(()=>{if(void 0!==i){let e=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(e)}},[i]),d&&"loaded"!==o.imageLoadingStatus?(0,t.jsx)(n.Primitive.span,{...l,ref:r}):null});function b(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}v.displayName=f;var w=e.i(647163);e.s(["Avatar",0,function({className:e,...s}){return(0,t.jsx)(h,{"data-slot":"avatar",className:(0,w.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...s})},"AvatarFallback",0,function({className:e,...s}){return(0,t.jsx)(v,{"data-slot":"avatar-fallback",className:(0,w.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...s})},"AvatarImage",0,function({className:e,...s}){return(0,t.jsx)(g,{"data-slot":"avatar-image",className:(0,w.cn)("aspect-square size-full",e),...s})}],63270)},123929,e=>{"use strict";let t=(0,e.i(197140).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",0,t],123929)},635707,e=>{"use strict";let t=(0,e.i(197140).default)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);e.s(["Crown",0,t],635707)},105452,e=>{"use strict";var t=e.i(878957),s=e.i(821596),r=e.i(287858),a=e.i(167881),i=e.i(23750),n=e.i(970065),l=e.i(994179),o=e.i(63270),d=e.i(718268),c=e.i(57652),m=e.i(327501),u=e.i(871532),x=e.i(970623),h=e.i(893629),p=e.i(488651),g=e.i(353487),f=e.i(131841),v=e.i(492313),b=e.i(284898),w=e.i(697961),j=e.i(635707),N=e.i(924167),y=e.i(123929),S=e.i(487473),C=e.i(465354),$=e.i(463415);let k={Sam:d.Brain,Sophie:h.Sparkles,Miles:m.Shield,Nia:c.FileSearch,Remy:u.Bell,Lex:x.Scale};e.s(["UnifiedAgentChat",0,function({user:e,profile:c}){let[m,u]=(0,s.useState)("Sam"),[x,h]=(0,s.useState)(!1),[R,L]=(0,s.useState)({}),A=(0,s.useRef)(null),D=(0,s.useRef)(null),M=C.agents.find(e=>e.id===m)||C.agents[0],E=k[m]||d.Brain,{messages:I,input:B,handleInputChange:U,handleSubmit:P,isLoading:T,setInput:_}=(0,r.useChat)({api:"/api/chat",body:{agent:m,model:"openai/gpt-4o",context:`User: ${c?.full_name||"Guest"}`},initialMessages:[{id:`welcome-${Date.now()}`,role:"assistant",content:`Hi ${c?.full_name?.split(" ")[0]||"there"}! I'm ${M.name}, your ${M.role}. ${M.bio}`,createdAt:new Date}]});return(0,s.useEffect)(()=>{A.current?.scrollIntoView({behavior:"smooth"})},[I]),(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[(0,t.jsx)("div",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-10 shadow-sm",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-xl bg-gradient-to-br ${M.gradient} shadow-lg`,children:(0,t.jsx)(E,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:M.name}),"Sam"===m&&(0,t.jsx)(j.Crown,{className:"h-4 w-4 text-cyan-500"}),(0,t.jsx)(l.Badge,{variant:"secondary",className:"text-xs",children:"AI Agent"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:M.role})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)($.DropdownMenu,{children:[(0,t.jsx)($.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(y.MoreVertical,{className:"h-4 w-4 mr-2"}),"Options"]})}),(0,t.jsxs)($.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)($.DropdownMenuItem,{onClick:()=>{let e=new Blob([I.map(e=>`[${new Date(e.createdAt||Date.now()).toLocaleTimeString()}] ${e.role.toUpperCase()}: ${e.content}`).join("\n\n")],{type:"text/plain"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`taxu-chat-transcript-${new Date().toISOString()}.txt`,s.click(),URL.revokeObjectURL(t)},children:[(0,t.jsx)(v.Download,{className:"h-4 w-4 mr-2"}),"Download Transcript"]}),(0,t.jsxs)($.DropdownMenuItem,{children:[(0,t.jsx)(f.Settings,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})})]})})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsxs)(n.Card,{className:"p-4 sticky top-24",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(S.RefreshCw,{className:"h-4 w-4"}),"Switch Agent"]}),(0,t.jsx)("div",{className:"space-y-2",children:C.agents.map(e=>{let s=k[e.id]||d.Brain;return(0,t.jsx)("button",{onClick:()=>u(e.id),className:`w-full text-left p-3 rounded-lg transition-all ${m===e.id?`bg-gradient-to-br ${e.gradient} text-white shadow-lg scale-105`:"hover:bg-slate-50 border border-slate-200"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s,{className:`h-5 w-5 ${m===e.id?"text-white":e.color}`}),"Sam"===e.id&&(0,t.jsx)(j.Crown,{className:"h-2.5 w-2.5 text-yellow-400 absolute -top-1 -right-1"})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:`font-semibold text-sm ${m===e.id?"text-white":""}`,children:e.name}),(0,t.jsx)("div",{className:`text-xs line-clamp-2 ${m===e.id?"text-white/80":"text-muted-foreground"}`,children:e.description})]})]})},e.id)})}),(0,t.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm mb-3",children:"Suggested Questions"}),(0,t.jsx)("div",{className:"space-y-2",children:M.questions.slice(0,4).map((e,s)=>(0,t.jsx)("button",{onClick:()=>_(e),className:"w-full text-left p-2 text-xs rounded-md border border-slate-200 hover:border-primary hover:bg-primary/5 transition-colors",children:e},s))})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-9",children:(0,t.jsxs)(n.Card,{className:"flex flex-col h-[calc(100vh-12rem)]",children:[(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[0===I.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:`inline-flex p-6 rounded-2xl bg-gradient-to-br ${M.gradient} shadow-xl mb-4`,children:(0,t.jsx)(E,{className:"h-12 w-12 text-white"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-2",children:["Welcome to ",M.name]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:M.bio}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl mx-auto",children:M.questions.slice(0,6).map((e,s)=>(0,t.jsx)("button",{onClick:()=>_(e),className:"text-left p-4 rounded-lg border border-slate-200 hover:border-primary hover:bg-primary/5 hover:shadow-md transition-all text-sm group",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.ChevronDown,{className:"h-4 w-4 text-primary mt-0.5 rotate-[-90deg] group-hover:translate-x-1 transition-transform"}),(0,t.jsx)("span",{children:e})]})},s))})]}):(0,t.jsxs)(t.Fragment,{children:[I.map((e,s)=>(0,t.jsxs)("div",{className:`flex gap-4 ${"user"===e.role?"justify-end":""}`,children:["assistant"===e.role&&(0,t.jsx)(o.Avatar,{className:`h-10 w-10 bg-gradient-to-br ${M.gradient} flex items-center justify-center shadow-md`,children:(0,t.jsx)(E,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{className:`max-w-[80%] rounded-2xl p-4 shadow-sm ${"user"===e.role?"bg-gradient-to-br from-primary to-primary/90 text-primary-foreground":"bg-white border border-slate-200"}`,children:[(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:e.content}),"assistant"===e.role&&s===I.length-1&&!T&&(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-3 pt-3 border-t border-slate-100",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Was this helpful?"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>L(t=>({...t,[e.id]:"up"})),className:`p-1.5 rounded-md transition-colors ${"up"===R[e.id]?"bg-green-100 text-green-600":"hover:bg-slate-100 text-slate-400"}`,children:(0,t.jsx)(b.ThumbsUp,{className:"h-3.5 w-3.5"})}),(0,t.jsx)("button",{onClick:()=>L(t=>({...t,[e.id]:"down"})),className:`p-1.5 rounded-md transition-colors ${"down"===R[e.id]?"bg-red-100 text-red-600":"hover:bg-slate-100 text-slate-400"}`,children:(0,t.jsx)(w.ThumbsDown,{className:"h-3.5 w-3.5"})})]})]})]}),"user"===e.role&&(0,t.jsx)(o.Avatar,{className:"h-10 w-10 bg-gradient-to-br from-slate-600 to-slate-800 flex items-center justify-center text-white font-semibold shadow-md",children:c?.full_name?.[0]||"U"})]},e.id)),T&&(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(o.Avatar,{className:`h-10 w-10 bg-gradient-to-br ${M.gradient} flex items-center justify-center shadow-md`,children:(0,t.jsx)(E,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("div",{className:"bg-white border border-slate-200 rounded-2xl p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"flex gap-1.5",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]}),(0,t.jsx)("div",{ref:A})]}),(0,t.jsxs)("div",{className:"border-t p-4 bg-white",children:[(0,t.jsxs)("form",{onSubmit:P,className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(i.Input,{value:B,onChange:U,placeholder:`Ask ${M.name} anything about ${M.description.toLowerCase()}...`,disabled:T,className:"pr-12"}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void alert("Speech recognition not supported in your browser");if(x){D.current?.stop(),h(!1);return}let e=new(window.SpeechRecognition||window.webkitSpeechRecognition);D.current=e,e.continuous=!1,e.interimResults=!1,e.lang="en-US",e.onstart=()=>h(!0),e.onresult=e=>{_(e.results[0][0].transcript),h(!1)},e.onerror=()=>h(!1),e.onend=()=>h(!1),e.start()},className:`absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 ${x?"text-red-500 animate-pulse":""}`,children:(0,t.jsx)(g.Mic,{className:"h-4 w-4"})})]}),(0,t.jsx)(a.Button,{type:"submit",disabled:T||!B.trim(),className:"bg-gradient-to-br from-primary to-primary/90",children:(0,t.jsx)(p.Send,{className:"h-4 w-4"})})]}),(0,t.jsx)("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"AI responses are for informational purposes. Consult professionals for specific advice."})]})]})})]})})]})}])}]);