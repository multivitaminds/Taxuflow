(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26575,e=>{"use strict";var t=e.i(271893),a=e.i(878957),i=e.i(821596),r=e.i(958202),l=e.i(970065),s=e.i(167881),o=e.i(23750),n=e.i(10708),d=e.i(62870),c=e.i(120682),m=e.i(692626),p=e.i(396210),u=e.i(488651),g=e.i(405857),h=e.i(893629),x=e.i(931454),y=e.i(223711),f=e.i(490184),b=e.i(718633),v=e.i(485296),j=e.i(619020),N=e.i(781947),S=e.i(291967),w=e.i(156456),C=e.i(557380),I=e.i(311843),W=e.i(846868),F=e.i(300005),A=e.i(860545),E=e.i(969347),T=e.i(513095),L=e.i(383514),_="Radio",[k,R]=(0,C.createContextScope)(_),[P,$]=k(_),q=i.forwardRef((e,t)=>{let{__scopeRadio:r,name:l,checked:s=!1,required:o,disabled:n,value:d="on",onCheck:c,form:m,...p}=e,[u,g]=i.useState(null),h=(0,w.useComposedRefs)(t,e=>g(e)),x=i.useRef(!1),y=!u||m||!!u.closest("form");return(0,a.jsxs)(P,{scope:r,checked:s,disabled:n,children:[(0,a.jsx)(I.Primitive.button,{type:"button",role:"radio","aria-checked":s,"data-state":O(s),"data-disabled":n?"":void 0,disabled:n,value:d,...p,ref:h,onClick:(0,S.composeEventHandlers)(e.onClick,e=>{s||c?.(),y&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})}),y&&(0,a.jsx)(Y,{control:u,bubbles:!x.current,name:l,value:d,checked:s,required:o,disabled:n,form:m,style:{transform:"translateX(-100%)"}})]})});q.displayName=_;var B="RadioIndicator",D=i.forwardRef((e,t)=>{let{__scopeRadio:i,forceMount:r,...l}=e,s=$(B,i);return(0,a.jsx)(L.Presence,{present:r||s.checked,children:(0,a.jsx)(I.Primitive.span,{"data-state":O(s.checked),"data-disabled":s.disabled?"":void 0,...l,ref:t})})});D.displayName=B;var Y=i.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:l=!0,...s},o)=>{let n=i.useRef(null),d=(0,w.useComposedRefs)(n,o),c=(0,T.usePrevious)(r),m=(0,E.useSize)(t);return i.useEffect(()=>{let e=n.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let a=new Event("click",{bubbles:l});t.call(e,r),e.dispatchEvent(a)}},[c,r,l]),(0,a.jsx)(I.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:d,style:{...s.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function O(e){return e?"checked":"unchecked"}Y.displayName="RadioBubbleInput";var M=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],U="RadioGroup",[V,X]=(0,C.createContextScope)(U,[W.createRovingFocusGroupScope,R]),Z=(0,W.createRovingFocusGroupScope)(),z=R(),[G,J]=V(U),H=i.forwardRef((e,t)=>{let{__scopeRadioGroup:i,name:r,defaultValue:l,value:s,required:o=!1,disabled:n=!1,orientation:d,dir:c,loop:m=!0,onValueChange:p,...u}=e,g=Z(i),h=(0,A.useDirection)(c),[x,y]=(0,F.useControllableState)({prop:s,defaultProp:l??null,onChange:p,caller:U});return(0,a.jsx)(G,{scope:i,name:r,required:o,disabled:n,value:x,onValueChange:y,children:(0,a.jsx)(W.Root,{asChild:!0,...g,orientation:d,dir:h,loop:m,children:(0,a.jsx)(I.Primitive.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":n?"":void 0,dir:h,...u,ref:t})})})});H.displayName=U;var K="RadioGroupItem",Q=i.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:l,...s}=e,o=J(K,r),n=o.disabled||l,d=Z(r),c=z(r),m=i.useRef(null),p=(0,w.useComposedRefs)(t,m),u=o.value===s.value,g=i.useRef(!1);return i.useEffect(()=>{let e=e=>{M.includes(e.key)&&(g.current=!0)},t=()=>g.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,a.jsx)(W.Item,{asChild:!0,...d,focusable:!n,active:u,children:(0,a.jsx)(q,{disabled:n,required:o.required,checked:u,...c,...s,name:o.name,ref:p,onCheck:()=>o.onValueChange(s.value),onKeyDown:(0,S.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,S.composeEventHandlers)(s.onFocus,()=>{g.current&&m.current?.click()})})})});Q.displayName=K;var ee=i.forwardRef((e,t)=>{let{__scopeRadioGroup:i,...r}=e,l=z(i);return(0,a.jsx)(D,{...l,...r,ref:t})});ee.displayName="RadioGroupIndicator";var et=e.i(465360),ea=e.i(647163);function ei({className:e,...t}){return(0,a.jsx)(H,{"data-slot":"radio-group",className:(0,ea.cn)("grid gap-3",e),...t})}function er({className:e,...t}){return(0,a.jsx)(Q,{"data-slot":"radio-group-item",className:(0,ea.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,a.jsx)(ee,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,a.jsx)(et.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var el=e.i(793188),es=e.i(386786),eo=e.i(901309),en=e.i(973738),ed=e.i(742210),ec=e.i(861352);e.s(["default",0,function({extractedData:e}){let S,w=(0,r.useRouter)(),{toast:C}=(0,c.useToast)(),[I,W]=(0,i.useState)(!1),[F,A]=(0,i.useState)(!1),[E,T]=(0,i.useState)(!1),[L,_]=(0,i.useState)(!1),[k,R]=(0,i.useState)(!1),[P,$]=(0,i.useState)(null),[q,B]=(0,i.useState)(!1),[D,Y]=(0,i.useState)(!1),[O,M]=(0,i.useState)("original"),[U,V]=(0,i.useState)({employerName:"",employerEIN:"",employerAddress:"",employerCity:"",employerState:"",employerZip:"",employeeFirstName:"",employeeMiddleInitial:"",employeeLastName:"",employeeSSN:"",employeeAddress:"",employeeCity:"",employeeState:"",employeeZip:"",wages:"",federalWithholding:"",socialSecurityWages:"",socialSecurityWithholding:"",medicareWages:"",medicareWithholding:"",socialSecurityTips:"",allocatedTips:"",dependentCareBenefits:"",nonqualifiedPlans:"",box12Code:"",box12Amount:"",stateWages:"",stateWithholding:"",localWages:"",localWithholding:"",taxYear:new Date().getFullYear().toString()}),X=(0,i.useRef)(!1),Z=new Date().getFullYear(),z=Array.from({length:10},(e,t)=>Z-t),[G,J]=(0,i.useState)(1),[H,K]=(0,i.useState)(!1),[Q,ee]=(0,i.useState)(0);(0,i.useEffect)(()=>{X.current&&U.employerName&&U.wages&&(console.log("[v0] Form state updated, running auto-validation with:",{employerName:U.employerName,wages:U.wages,employeeFirstName:U.employeeFirstName}),X.current=!1,em())},[U]);let et=e=>{if(!e)return{street:"",city:"",state:"",zip:""};let t=e.replace(/\s+/g," ").trim(),a=t.match(/\b(\d{5}(?:-\d{4})?)\b/),i=a?a[1]:"",r=t.replace(/\b\d{5}(?:-\d{4})?\b/,"").trim(),l=r.match(/\b([A-Z]{2})\b/),s=l?l[1]:"",o=(r=r.replace(/\b[A-Z]{2}\b/,"").trim()).split(",").map(e=>e.trim()).filter(Boolean),n="",d="";return o.length>=3?(n=o.slice(0,-1).join(", "),d=o[o.length-1]):2===o.length?(n=o[0],d=o[1]):1===o.length&&(n=o[0]),console.log("[v0] Parsed address:",{input:e,output:{street:n,city:d=d.replace(/[,;]/g,"").trim(),state:s,zip:i}}),{street:n,city:d,state:s,zip:i}};(0,i.useEffect)(()=>{if(e){let t,a;console.log("[v0] Auto-filling form with extracted data:",e);let i=e.employer_name||e.employer?.name,r=e.employer_ein||e.employer?.ein,l=e.wages||e.income?.wages;i&&null!=l||(console.error("[v0] Critical data missing - need at least employer name and wages"),console.log("[v0] Has employer name:",i,"Has wages:",l),C({title:"âš ï¸ Partial Extraction",description:"Some required data is missing. Please complete the form manually.",variant:"destructive"}));let s=e.employee_name||{},o=s.first||s.firstName||"",n=s.last||s.lastName||"",d=s.middle||s.middleInitial||"",c="string"==typeof e.employee_name?e.employee_name:o&&n?`${o} ${n}`:e.employee?.name||"",m=(0,es.parseName)(c),p=o,u=d,g=n;m&&!p&&(p=m.firstName,u=m.middleInitial,g=m.lastName),console.log("[v0] Final addresses to populate:",{employer:t="object"==typeof e.employer_address&&null!==e.employer_address?{street:e.employer_address.street||"",city:e.employer_address.city||"",state:e.employer_address.state||"",zip:e.employer_address.zipCode||e.employer_address.zip||""}:et(e.employer_address||e.employer?.address||""),employee:a="object"==typeof e.employee_address&&null!==e.employee_address?{street:e.employee_address.street||"",city:e.employee_address.city||"",state:e.employee_address.state||"",zip:e.employee_address.zipCode||e.employee_address.zip||""}:et(e.employee_address||e.employee?.address||"")}),V({...U,employerName:i||"",employerEIN:r||"",employerAddress:t.street||"",employerCity:t.city||"",employerState:t.state||"",employerZip:t.zip||"",employeeFirstName:p||"",employeeMiddleInitial:u||"",employeeLastName:g||"",employeeSSN:e.employee_ssn||e.employee?.ssn||"",employeeAddress:a.street||"",employeeCity:a.city||"",employeeState:a.state||"",employeeZip:a.zip||"",wages:l?.toString()||"",federalWithholding:(e.federal_tax_withheld||e.federal_income_tax||e.federal_withholding||e.income?.federalWithholding)?.toString()||"",socialSecurityWages:(e.social_security_wages||e.income?.socialSecurityWages)?.toString()||"",socialSecurityWithholding:(e.social_security_tax_withheld||e.social_security_tax||e.social_security_withholding||e.income?.socialSecurityTax)?.toString()||"",medicareWages:(e.medicare_wages||e.income?.medicareWages)?.toString()||"",medicareWithholding:(e.medicare_tax_withheld||e.medicare_tax||e.medicare_withholding||e.income?.medicareTax)?.toString()||"",socialSecurityTips:e.social_security_tips?.toString()||"",allocatedTips:e.allocated_tips?.toString()||"",dependentCareBenefits:e.dependent_care_benefits?.toString()||"",nonqualifiedPlans:e.nonqualified_plans?.toString()||"",box12Code:e.box_12_code||e.box12Code||"",box12Amount:(e.box_12_amount||e.box12Amount)?.toString()||"",stateWages:(e.state_wages||e.income?.stateWages)?.toString()||"",stateWithholding:(e.state_tax_withheld||e.state_income_tax||e.state_withholding||e.income?.stateTax)?.toString()||"",localWages:e.local_wages?.toString()||"",localWithholding:e.local_income_tax?.toString()||"",taxYear:e.taxYear?.toString()||new Date().getFullYear().toString()}),X.current=!0,C({title:"âœ¨ Form Auto-Filled",description:"Your W-2 data has been automatically populated. Validating..."})}},[e]),(0,i.useEffect)(()=>{let t=localStorage.getItem("w2_draft");if(t&&!e)try{V(JSON.parse(t))}catch(e){console.error("Failed to load draft:",e)}},[]);let ea=async e=>{let a=e.target.files?.[0];if(a){e.target.value="",T(!0),_(!0);try{let e=await a.arrayBuffer(),i=t.Buffer.from(e).toString("base64"),r=await fetch("/api/filing/extract-document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileData:i,fileName:a.name,mimeType:a.type})}),l=await r.json();if(l.success&&l.data){let e=l.data;e.employer?.name&&e.income?.wages||(console.error("[v0] Critical data missing - need at least employer and wages"),C({title:"âš ï¸ Partial Extraction",description:"Some required data is missing. Please complete the form manually.",variant:"destructive"}));let t=e.employee_name||{},a=t.first||t.firstName||"",i=t.last||t.lastName||"",r=t.middle||t.middleInitial||"",s="string"==typeof e.employee_name?e.employee_name:a&&i?`${a} ${i}`:e.employee?.name||"",o=(0,es.parseName)(s),n=a,d=r,c=i;o&&!n&&(n=o.firstName,d=o.middleInitial,c=o.lastName);let m=e.employer?.address||"",p=e.employee?.address||"",u=et(m),g=et(p);console.log("[v0] Parsed addresses from upload:",{employer:u,employee:g}),V({...U,employerName:e.employer?.name||"",employerEIN:e.employer?.ein||"",employerAddress:u.street,employerCity:u.city,employerState:u.state,employerZip:u.zip,employeeFirstName:n,employeeMiddleInitial:d,employeeLastName:c,employeeSSN:e.employee?.ssn||"",employeeAddress:g.street,employeeCity:g.city,employeeState:g.state,employeeZip:g.zip,wages:e.income?.wages?.toString()||"",federalWithholding:e.income?.federalWithholding?.toString()||"",socialSecurityWages:e.income?.socialSecurityWages?.toString()||"",socialSecurityWithholding:e.income?.socialSecurityTax?.toString()||"",medicareWages:e.income?.medicareWages?.toString()||"",medicareWithholding:e.income?.medicareTax?.toString()||"",stateWages:e.income?.stateWages?.toString()||"",stateWithholding:e.income?.stateTax?.toString()||"",taxYear:e.taxYear?.toString()||new Date().getFullYear().toString()}),X.current=!0,C({title:"âœ¨ AI Extraction Complete",description:"Your W-2 has been automatically filled. Validating..."})}else throw Error("Could not extract W-2 data from document")}catch(e){C({title:"Extraction Failed",description:e.message,variant:"destructive"})}finally{T(!1),_(!1)}}},em=async()=>{R(!0),$(null);try{console.log("[v0] Running AI-powered validation...");let e=[];if(U.employerName||e.push({field:"employerName",message:"Employer name is required"}),U.employerEIN||e.push({field:"employerEIN",message:"Employer EIN is required"}),U.employeeFirstName||e.push({field:"employeeFirstName",message:"Employee first name is required"}),U.employeeLastName||e.push({field:"employeeLastName",message:"Employee last name is required"}),U.employeeSSN||e.push({field:"employeeSSN",message:"Employee SSN is required"}),U.wages||e.push({field:"wages",message:"Wages are required"}),e.length>0){$({valid:!1,errors:e,warnings:[],suggestions:[]}),C({title:"Validation Failed",description:`Please fill in ${e.length} required field(s)`,variant:"destructive"}),R(!1);return}let t=await fetch("/api/filing/validate-w2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...U,filingType:O})});if(!t.ok)throw Error("AI validation service unavailable");let a=await t.json();$(a);let i=a.errors?.length>0,r=a.warnings?.length>0,l=a.suggestions?.length>0;console.log("[v0] AI Validation result:",{valid:a.valid,errors:i?a.errors.length:0,warnings:r?a.warnings.length:0,suggestions:l?a.suggestions.length:0}),i||r||l?i?C({title:"Issues Found",description:`AI found ${a.errors.length} error(s) and ${a.warnings.length} warning(s)`,variant:"destructive"}):C({title:"Validation Complete",description:`${a.warnings.length} warning(s) and ${a.suggestions.length} suggestion(s) to review`}):C({title:"âœ“ Perfect!",description:"Your W-2 passed all AI validation checks. Ready to submit!"})}catch(e){console.error("[v0] AI Validation error:",e),C({title:"Validation Failed",description:e.message||"Could not complete AI validation",variant:"destructive"})}finally{R(!1)}},ep=async e=>{if(e.preventDefault(),e.stopPropagation(),1===G){P||await em(),J(2),window.scrollTo({top:0,behavior:"smooth"});return}if(console.log("[v0] ========================================"),console.log("[v0] SUBMIT BUTTON CLICKED - HANDLER EXECUTING"),console.log("[v0] ========================================"),I)return void console.log("[v0] Already submitting, ignoring duplicate click");if(eh){console.log("[v0] Paper filing required, generating PDF package..."),await eu();return}if(P?.errors?.length>0&&!D){if(!window.confirm(`Found ${P.errors.length} validation error(s). Do you want to submit anyway? The IRS may reject this filing.`))return;Y(!0)}W(!0),K(!0),ee(1);try{console.log("[v0] Step 1/3: Authenticating with IRS e-filing system"),await new Promise(e=>setTimeout(e,1500)),ee(2),console.log("[v0] Step 2/3: Verifying business entity with IRS"),await new Promise(e=>setTimeout(e,1500)),ee(3),console.log("[v0] Step 3/3: Submitting W-2 form to IRS"),console.log("[v0] Starting API call to /api/filing/submit-w2");let e=await fetch("/api/filing/submit-w2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...U,filingType:O,overrideValidation:D||P?.errors?.length===0})}),t=e.headers.get("content-type");if(!t||!t.includes("application/json")){let t=await e.text();throw console.error("[v0] NON-JSON RESPONSE:",t.substring(0,200)),Error(`Server returned non-JSON response: ${e.status} ${e.statusText}`)}let a=await e.json();if(console.log("[v0] API response:",a),a.isDemoMode){C({title:"Demo Mode Restriction",description:a.error,variant:"destructive"}),W(!1),K(!1),ee(0);return}a.success?(console.log("[v0] âœ… W-2 SUBMITTED SUCCESSFULLY!"),ee(4),C({title:"W-2 Successfully Submitted to IRS",description:`Submission ID: ${a.submissionId}. The IRS will process your filing within 24-48 hours.`,duration:5e3}),localStorage.removeItem("w2_draft"),setTimeout(()=>{w.push(a.filingId?`/dashboard/filing/${a.filingId}`:"/dashboard/filing")},3e3)):(ee(0),K(!1),C({title:"IRS Submission Failed",description:a.error||"Could not submit to the IRS.",variant:"destructive"}))}catch(e){console.error("[v0] SUBMISSION ERROR:",e.message),ee(0),K(!1),C({title:"Submission Error",description:e.message||"An unexpected error occurred.",variant:"destructive"})}finally{W(!1),Y(!1)}},eu=async()=>{W(!0);try{console.log("[v0] Generating paper filing package...");let e=await fetch("/api/filing/generate-paper-package",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formType:"W-2",filingType:O,formData:U,taxYear:U.taxYear})}),t=e.headers.get("content-type");if(!t||!t.includes("application/json")){let t=await e.text();throw console.error("[v0] Server returned non-JSON response:",t),Error(`Server error: ${e.status} ${e.statusText}`)}let a=await e.json();if(a.success){console.log("[v0] Paper package generated:",a.packageUrl);let e=document.createElement("a");e.href=a.packageUrl,e.download=`W2-Paper-Filing-Package-${U.taxYear}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),C({title:"Paper Filing Package Generated",description:"Your W-2 forms and instructions have been downloaded. Print and mail to the IRS."}),localStorage.removeItem("w2_draft")}else throw Error(a.error||"Failed to generate paper package")}catch(e){console.error("[v0] Paper package generation error:",e),C({title:"Generation Failed",description:e.message,variant:"destructive"})}finally{W(!1)}},eg=(S=Z-Number.parseInt(U.taxYear),"original"===O?0===S:S<=2),eh=!eg,ex=[{title:"Employer Information",fields:[{label:"Business Name",value:U.employerName},{label:"Employer EIN",value:U.employerEIN,sensitive:!0},{label:"Address",value:`${U.employerAddress}, ${U.employerCity}, ${U.employerState} ${U.employerZip}`}]},{title:"Employee Information",fields:[{label:"Employee Name",value:`${U.employeeFirstName} ${U.employeeMiddleInitial?U.employeeMiddleInitial+". ":""}${U.employeeLastName}`},{label:"Social Security Number",value:U.employeeSSN,sensitive:!0},{label:"Address",value:U.employeeAddress&&U.employeeCity?`${U.employeeAddress}, ${U.employeeCity}, ${U.employeeState} ${U.employeeZip}`:"Not provided"}]},{title:"Wage and Tax Information",fields:[{label:"Wages, tips, other compensation",value:`$${Number.parseFloat(U.wages||"0").toFixed(2)}`},{label:"Federal income tax withheld",value:`$${Number.parseFloat(U.federalWithholding||"0").toFixed(2)}`},{label:"Social security wages",value:`$${Number.parseFloat(U.socialSecurityWages||"0").toFixed(2)}`},{label:"Social security tax withheld",value:`$${Number.parseFloat(U.socialSecurityWithholding||"0").toFixed(2)}`},{label:"Medicare wages and tips",value:`$${Number.parseFloat(U.medicareWages||"0").toFixed(2)}`},{label:"Medicare tax withheld",value:`$${Number.parseFloat(U.medicareWithholding||"0").toFixed(2)}`}]}];return(0,a.jsxs)("form",{onSubmit:ep,className:"space-y-6",noValidate:!0,children:[(0,a.jsx)(eo.ProgressStepper,{steps:[{id:"fill",label:"Fill Form",sublabel:"Enter Information"},{id:"review",label:"Review & Submit",sublabel:"Verify Details"}],currentStep:G}),2===G?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(en.FilingReviewSection,{sections:ex,formType:"W-2"}),(0,a.jsxs)("div",{className:"flex gap-4 pt-6",children:[(0,a.jsxs)(s.Button,{type:"button",variant:"outline",onClick:()=>J(1),className:"flex-1",disabled:I,children:[(0,a.jsx)(p.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back to Edit"]}),(0,a.jsxs)(s.Button,{type:"submit",disabled:I,className:"flex-1 bg-gradient-to-r from-[#005ea2] to-[#162e51] hover:opacity-90 text-white text-lg py-6",children:[I&&(0,a.jsx)(m.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),(0,a.jsx)(u.Send,{className:"mr-2 h-5 w-5"}),"Submit to IRS"]})]})]}):(0,a.jsxs)(l.Card,{className:"relative overflow-hidden border-2 border-purple-500/20 bg-gradient-to-br from-background via-background to-purple-500/5",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-transparent to-orange-500/5 pointer-events-none"}),(0,a.jsxs)(l.CardHeader,{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-4",children:[(0,a.jsxs)(s.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{w.push("/dashboard/filing/new")},className:"hover:scale-105 transition-transform bg-transparent",children:[(0,a.jsx)(p.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:ea,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",disabled:E||L}),(0,a.jsxs)(s.Button,{type:"button",size:"sm",disabled:E||L,className:"relative overflow-hidden bg-gradient-to-r from-purple-600 via-purple-500 to-pink-500 hover:from-purple-700 hover:via-purple-600 hover:to-pink-600 text-white font-semibold shadow-lg hover:shadow-xl hover:shadow-purple-500/50 transition-all duration-300 border-0 group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Extracting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Sparkles,{className:"h-4 w-4 mr-2 animate-pulse"}),"Upload W-2 (AI Extract)"]})]})]})]}),(0,a.jsx)(l.CardTitle,{className:"text-2xl bg-gradient-to-r from-purple-600 to-orange-600 bg-clip-text text-transparent",children:"Form W-2 - Wage and Tax Statement"}),(0,a.jsx)(l.CardDescription,{children:(0,a.jsxs)("div",{className:"space-y-4 mt-3",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(n.Label,{className:"text-sm font-medium",children:"Filing Type:"}),(0,a.jsxs)(ei,{value:O,onValueChange:e=>M(e),className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-border/50 hover:border-purple-500/30 transition-colors",children:[(0,a.jsx)(er,{value:"original",id:"original",className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.Label,{htmlFor:"original",className:"font-medium cursor-pointer block mb-1",children:"Original W-2 (First-Time Filing)"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Use this if you're filing this W-2 for the first time, even if it's late. For example: filing a 2018 W-2 that was never submitted before."})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-border/50 hover:border-orange-500/30 transition-colors",children:[(0,a.jsx)(er,{value:"corrected",id:"corrected",className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.Label,{htmlFor:"corrected",className:"font-medium cursor-pointer block mb-1",children:"Corrected W-2c (Fixing Previous Filing)"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Use this only if you already filed this W-2 before and need to correct errors (wrong SSN, incorrect amounts, etc.). Requires showing original vs corrected values."})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm",children:"Report employee wages and tax withholdings for"}),(0,a.jsxs)(d.Select,{value:U.taxYear,onValueChange:e=>V({...U,taxYear:e}),children:[(0,a.jsx)(d.SelectTrigger,{className:"w-[120px] h-8 bg-background/80 border-purple-500/20",children:(0,a.jsx)(d.SelectValue,{placeholder:"Select year"})}),(0,a.jsx)(d.SelectContent,{children:z.map(e=>(0,a.jsx)(d.SelectItem,{value:e.toString(),children:e},e))})]})]}),eh&&"original"===O&&(0,a.jsxs)(N.Alert,{className:"bg-orange-500/10 border-orange-500/20",children:[(0,a.jsx)(y.AlertCircle,{className:"h-4 w-4 text-orange-600"}),(0,a.jsx)(N.AlertTitle,{className:"text-orange-600 font-semibold",children:"Late Original W-2 Filing - Paper Filing Required"}),(0,a.jsxs)(N.AlertDescription,{className:"text-sm space-y-2 mt-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:["Tax year ",U.taxYear]})," is beyond the IRS e-filing deadline (January 31st of the following year)."]}),(0,a.jsx)("p",{children:"Since this is your first time filing this W-2, you'll need to:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,a.jsx)("li",{children:"Complete the original Form W-2 (not W-2c)"}),(0,a.jsx)("li",{children:"Submit via paper mail to the IRS"}),(0,a.jsx)("li",{children:"Include a cover letter explaining the late filing"}),(0,a.jsx)("li",{children:"Be prepared for potential late filing penalties"})]}),(0,a.jsxs)("div",{className:"mt-3 p-3 bg-background/50 rounded border border-orange-500/20",children:[(0,a.jsx)("p",{className:"font-semibold text-orange-600 mb-1",children:"ðŸ“¦ Paper Filing Package - $29"}),(0,a.jsx)("p",{className:"text-xs",children:"We'll generate pre-filled W-2 forms, cover letter template, IRS mailing labels, and filing instructions. Premium service ($49) includes certified mail with tracking."})]})]})]}),eh&&"corrected"===O&&(0,a.jsxs)(N.Alert,{className:"bg-orange-500/10 border-orange-500/20",children:[(0,a.jsx)(y.AlertCircle,{className:"h-4 w-4 text-orange-600"}),(0,a.jsx)(N.AlertTitle,{className:"text-orange-600 font-semibold",children:"W-2c Correction - Paper Filing Required"}),(0,a.jsxs)(N.AlertDescription,{className:"text-sm space-y-2 mt-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:["Tax year ",U.taxYear]})," corrections must be paper filed (beyond e-filing window)."]}),(0,a.jsx)("p",{children:"Since you're correcting a previously filed W-2, you'll need to:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,a.jsx)("li",{children:"Complete Form W-2c (Corrected Wage and Tax Statement)"}),(0,a.jsx)("li",{children:"Show both original amounts (what was filed) and corrected amounts"}),(0,a.jsx)("li",{children:"Submit via paper mail to the IRS"}),(0,a.jsx)("li",{children:"Include explanation of what's being corrected and why"})]}),(0,a.jsxs)("div",{className:"mt-3 p-3 bg-background/50 rounded border border-orange-500/20",children:[(0,a.jsx)("p",{className:"font-semibold text-orange-600 mb-1",children:"ðŸ“¦ W-2c Correction Package - $35"}),(0,a.jsx)("p",{className:"text-xs",children:"We'll generate pre-filled W-2c forms with before/after comparison, explanation letter, IRS mailing labels, and instructions. Premium service ($49) includes certified mail with tracking."})]})]})]}),eg&&"corrected"===O&&(0,a.jsxs)(N.Alert,{className:"bg-blue-500/10 border-blue-500/20",children:[(0,a.jsx)(x.FileText,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(N.AlertTitle,{className:"text-blue-600 font-semibold",children:"W-2c Correction - E-Filing Available"}),(0,a.jsxs)(N.AlertDescription,{className:"text-sm space-y-2 mt-2",children:[(0,a.jsxs)("p",{children:["You're filing a corrected W-2c for ",(0,a.jsx)("strong",{children:U.taxYear}),". This correction is eligible for e-filing."]}),(0,a.jsx)("div",{className:"mt-2 p-2 bg-blue-500/5 rounded border border-blue-500/10",children:(0,a.jsxs)("p",{className:"text-xs",children:[(0,a.jsx)("strong",{children:"Note:"})," W-2c requires you to provide both the original amounts (what was previously filed) and the corrected amounts for all changed fields. We'll guide you through this process."]})})]})]}),eg&&"original"===O&&(0,a.jsxs)(N.Alert,{className:"bg-green-500/10 border-green-500/20",children:[(0,a.jsx)(f.Info,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)(N.AlertTitle,{className:"text-green-600 font-semibold",children:"E-Filing Available"}),(0,a.jsxs)(N.AlertDescription,{className:"text-sm",children:["Tax year ",U.taxYear," is eligible for electronic filing. Complete the form below and we'll submit it directly to the IRS.",(0,a.jsx)("span",{className:"block mt-2 text-purple-600 font-medium",children:'ðŸ’¡ Tip: Use the "Upload W-2" tab to auto-fill this form with AI!'})]})]})]})})]}),(0,a.jsxs)(l.CardContent,{className:"space-y-8 relative",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-8 w-1 bg-gradient-to-b from-purple-600 to-orange-600 rounded-full"}),"Employer Information"]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"employerName",children:"Employer Name *"}),(0,a.jsx)(o.Input,{id:"employerName",required:!0,value:U.employerName,onChange:e=>V({...U,employerName:e.target.value}),placeholder:"ABC Company Inc."})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(n.Label,{htmlFor:"employerEIN",className:"flex items-center gap-2",children:["Employer EIN *",(0,a.jsx)(g.Lock,{className:"h-3 w-3 text-green-500"})]}),(0,a.jsx)(o.Input,{id:"employerEIN",required:!0,placeholder:"XX-XXXXXXX",value:U.employerEIN,onChange:e=>{let t=(0,ec.formatEIN)(e.target.value);V({...U,employerEIN:t})},maxLength:10}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[(0,a.jsx)(g.Lock,{className:"h-3 w-3"}),"Encrypted and secure"]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(n.Label,{htmlFor:"employerAddress",children:"Address *"}),(0,a.jsx)(o.Input,{id:"employerAddress",required:!0,value:U.employerAddress,onChange:e=>V({...U,employerAddress:e.target.value}),placeholder:"123 Business St"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"employerCity",children:"City *"}),(0,a.jsx)(o.Input,{id:"employerCity",required:!0,value:U.employerCity,onChange:e=>V({...U,employerCity:e.target.value}),placeholder:"San Francisco"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"employerState",children:"State *"}),(0,a.jsx)(o.Input,{id:"employerState",required:!0,maxLength:2,placeholder:"CA",value:U.employerState,onChange:e=>V({...U,employerState:e.target.value.toUpperCase()})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"employerZip",children:"ZIP Code *"}),(0,a.jsx)(o.Input,{id:"employerZip",required:!0,value:U.employerZip,onChange:e=>V({...U,employerZip:e.target.value}),placeholder:"94102"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-8 w-1 bg-gradient-to-b from-purple-600 to-orange-600 rounded-full"}),"Employee Information"]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"employeeFirstName",children:"First Name *"}),(0,a.jsx)(o.Input,{id:"employeeFirstName",required:!0,value:U.employeeFirstName,onChange:e=>V({...U,employeeFirstName:e.target.value}),placeholder:"John"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"employeeMiddleInitial",children:"Middle Initial"}),(0,a.jsx)(o.Input,{id:"employeeMiddleInitial",maxLength:1,value:U.employeeMiddleInitial,onChange:e=>V({...U,employeeMiddleInitial:e.target.value.toUpperCase()}),placeholder:"A",className:"uppercase"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(n.Label,{htmlFor:"employeeLastName",children:"Last Name *"}),(0,a.jsx)(o.Input,{id:"employeeLastName",required:!0,value:U.employeeLastName,onChange:e=>{let t=e.target.value,a=(0,es.parseLastNameWithMiddleInitial)(t);a&&a.middleInitial&&!U.employeeMiddleInitial?V({...U,employeeLastName:a.lastName,employeeMiddleInitial:a.middleInitial}):V({...U,employeeLastName:t})},placeholder:"Doe"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)(n.Label,{htmlFor:"employeeSSN",className:"flex items-center gap-2",children:["Social Security Number *",(0,a.jsx)(g.Lock,{className:"h-3 w-3 text-green-500"})]}),(0,a.jsx)(o.Input,{id:"employeeSSN",required:!0,placeholder:"XXX-XX-XXXX",value:U.employeeSSN,onChange:e=>{let t=(0,ec.formatSSN)(e.target.value);V({...U,employeeSSN:t})}}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[(0,a.jsx)(g.Lock,{className:"h-3 w-3"}),"AES-256 encrypted at rest"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"employeeAddress",children:"Address"}),(0,a.jsx)(o.Input,{id:"employeeAddress",value:U.employeeAddress,onChange:e=>V({...U,employeeAddress:e.target.value}),placeholder:"456 Employee Ave"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"employeeCity",children:"City"}),(0,a.jsx)(o.Input,{id:"employeeCity",value:U.employeeCity,onChange:e=>V({...U,employeeCity:e.target.value}),placeholder:"San Francisco"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"employeeState",children:"State"}),(0,a.jsx)(o.Input,{id:"employeeState",maxLength:2,placeholder:"CA",value:U.employeeState,onChange:e=>V({...U,employeeState:e.target.value.toUpperCase()})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"employeeZip",children:"ZIP Code"}),(0,a.jsx)(o.Input,{id:"employeeZip",value:U.employeeZip,onChange:e=>V({...U,employeeZip:e.target.value}),placeholder:"94102"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-8 w-1 bg-gradient-to-b from-purple-600 to-orange-600 rounded-full"}),"Wage and Tax Information"]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"wages",children:"Box 1: Wages, tips, other compensation *"}),(0,a.jsx)(o.Input,{id:"wages",type:"number",step:"0.01",required:!0,value:U.wages,onChange:e=>V({...U,wages:e.target.value}),placeholder:"75000.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"federalWithholding",children:"Box 2: Federal income tax withheld *"}),(0,a.jsx)(o.Input,{id:"federalWithholding",type:"number",step:"0.01",required:!0,value:U.federalWithholding,onChange:e=>V({...U,federalWithholding:e.target.value}),placeholder:"12500.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"socialSecurityWages",children:"Box 3: Social security wages *"}),(0,a.jsx)(o.Input,{id:"socialSecurityWages",type:"number",step:"0.01",required:!0,value:U.socialSecurityWages,onChange:e=>V({...U,socialSecurityWages:e.target.value}),placeholder:"75000.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"socialSecurityWithholding",children:"Box 4: Social security tax withheld *"}),(0,a.jsx)(o.Input,{id:"socialSecurityWithholding",type:"number",step:"0.01",required:!0,value:U.socialSecurityWithholding,onChange:e=>V({...U,socialSecurityWithholding:e.target.value}),placeholder:"4650.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"medicareWages",children:"Box 5: Medicare wages and tips *"}),(0,a.jsx)(o.Input,{id:"medicareWages",type:"number",step:"0.01",required:!0,value:U.medicareWages,onChange:e=>V({...U,medicareWages:e.target.value}),placeholder:"75000.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"medicareWithholding",children:"Box 6: Medicare tax withheld *"}),(0,a.jsx)(o.Input,{id:"medicareWithholding",type:"number",step:"0.01",required:!0,value:U.medicareWithholding,onChange:e=>V({...U,medicareWithholding:e.target.value}),placeholder:"1087.50"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"socialSecurityTips",children:"Box 7: Social security tips"}),(0,a.jsx)(o.Input,{id:"socialSecurityTips",type:"number",step:"0.01",value:U.socialSecurityTips,onChange:e=>V({...U,socialSecurityTips:e.target.value}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"allocatedTips",children:"Box 8: Allocated tips"}),(0,a.jsx)(o.Input,{id:"allocatedTips",type:"number",step:"0.01",value:U.allocatedTips,onChange:e=>V({...U,allocatedTips:e.target.value}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"dependentCareBenefits",children:"Box 11: Dependent care benefits"}),(0,a.jsx)(o.Input,{id:"dependentCareBenefits",type:"number",step:"0.01",value:U.dependentCareBenefits,onChange:e=>V({...U,dependentCareBenefits:e.target.value}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"nonqualifiedPlans",children:"Box 12: Nonqualified plans"}),(0,a.jsx)(o.Input,{id:"nonqualifiedPlans",type:"number",step:"0.01",value:U.nonqualifiedPlans,onChange:e=>V({...U,nonqualifiedPlans:e.target.value}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"box12Code",children:"Box 12 Code"}),(0,a.jsx)(o.Input,{id:"box12Code",value:U.box12Code,onChange:e=>V({...U,box12Code:e.target.value}),placeholder:"Code"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"box12Amount",children:"Box 12 Amount"}),(0,a.jsx)(o.Input,{id:"box12Amount",type:"number",step:"0.01",value:U.box12Amount,onChange:e=>V({...U,box12Amount:e.target.value}),placeholder:"0.00"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-8 w-1 bg-gradient-to-b from-purple-600 to-orange-600 rounded-full"}),"State and Local Information"]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"stateWages",children:"State wages, tips, etc."}),(0,a.jsx)(o.Input,{id:"stateWages",type:"number",step:"0.01",value:U.stateWages,onChange:e=>V({...U,stateWages:e.target.value}),placeholder:"75000.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"stateWithholding",children:"State income tax"}),(0,a.jsx)(o.Input,{id:"stateWithholding",type:"number",step:"0.01",value:U.stateWithholding,onChange:e=>V({...U,stateWithholding:e.target.value}),placeholder:"3750.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"localWages",children:"Local wages, tips, etc."}),(0,a.jsx)(o.Input,{id:"localWages",type:"number",step:"0.01",value:U.localWages,onChange:e=>V({...U,localWages:e.target.value}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"localWithholding",children:"Local income tax"}),(0,a.jsx)(o.Input,{id:"localWithholding",type:"number",step:"0.01",value:U.localWithholding,onChange:e=>V({...U,localWithholding:e.target.value}),placeholder:"0.00"})]})]})]}),P&&(0,a.jsxs)("div",{className:"space-y-3",children:[P.warnings?.filter(e=>"system"===e.field).map((e,t)=>(0,a.jsxs)(N.Alert,{className:"bg-blue-500/10 border-blue-500/20",children:[(0,a.jsx)(f.Info,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(N.AlertTitle,{className:"text-blue-600 font-semibold",children:"Validation Status"}),(0,a.jsxs)(N.AlertDescription,{className:"text-sm",children:[e.message,e.message.includes("temporarily unavailable")&&(0,a.jsx)("span",{className:"block mt-2 text-xs text-muted-foreground",children:"Don't worry - your form has been checked with comprehensive rule-based validation. You can safely proceed with submission."})]})]},`system-warning-${t}`)),P.errors?.map((e,t)=>(0,a.jsxs)(N.Alert,{className:"bg-red-500/10 border-red-500/20",children:[(0,a.jsx)(y.AlertCircle,{className:"h-4 w-4 text-red-600"}),(0,a.jsxs)(N.AlertTitle,{className:"text-red-600 font-semibold",children:["Error: ",e.field]}),(0,a.jsx)(N.AlertDescription,{className:"text-sm",children:e.message})]},`error-${t}`)),P.warnings?.filter(e=>"system"!==e.field).map((e,t)=>(0,a.jsxs)(N.Alert,{className:"bg-orange-500/10 border-orange-500/20",children:[(0,a.jsx)(v.AlertTriangle,{className:"h-4 w-4 text-orange-600"}),(0,a.jsxs)(N.AlertTitle,{className:"text-orange-600 font-semibold",children:["Warning: ",e.field]}),(0,a.jsx)(N.AlertDescription,{className:"text-sm",children:e.message})]},`warning-${t}`)),P.suggestions?.map((e,t)=>(0,a.jsxs)(N.Alert,{className:"bg-blue-500/10 border-blue-500/20",children:[(0,a.jsx)(f.Info,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(N.AlertTitle,{className:"text-blue-600 font-semibold",children:["Suggestion: ",e.field]}),(0,a.jsx)(N.AlertDescription,{className:"text-sm",children:e.message})]},`suggestion-${t}`)),P.valid&&!P.errors?.length&&!P.warnings?.filter(e=>"system"!==e.field).length&&(0,a.jsxs)(N.Alert,{className:"bg-green-500/10 border-green-500/20",children:[(0,a.jsx)(b.CheckCircle2,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)(N.AlertTitle,{className:"text-green-600 font-semibold",children:"All Clear!"}),(0,a.jsx)(N.AlertDescription,{className:"text-sm",children:"Your form passed all validation checks. Ready to submit!"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 pt-6 border-t border-border",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(s.Button,{type:"button",variant:"outline",onClick:em,disabled:k||I,className:"flex-1 bg-transparent border-blue-500/20",children:k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Sparkles,{className:"mr-2 h-4 w-4"}),"AI Validate Form"]})}),eh&&(0,a.jsxs)(s.Button,{type:"button",variant:"outline",onClick:()=>B(!0),className:"flex-1 bg-transparent border-orange-500/20",children:[(0,a.jsx)(x.FileText,{className:"mr-2 h-4 w-4"}),"Generate Penalty Letter ($19)"]})]}),(0,a.jsxs)(s.Button,{type:"submit",disabled:I||F||k,className:"w-full bg-gradient-to-r from-purple-600 to-orange-600 hover:from-purple-700 hover:to-orange-700 shadow-lg text-lg py-6",children:["Continue to Review",(0,a.jsx)(j.ArrowRight,{className:"ml-2 h-5 w-5"})]})]})]})]}),(0,a.jsx)(ed.FilingProgressDialog,{open:H,currentStep:Q,steps:[{id:"auth",title:"Authenticating",description:"Securely connecting to IRS e-filing system",icon:"ðŸ”"},{id:"business",title:"Verifying business entity",description:"Setting up your employer profile with the IRS",icon:"ðŸ¢"},{id:"submit",title:"Submitting W-2 form",description:"Transmitting your tax data securely to the IRS",icon:"ðŸ“„"}],isComplete:4===Q,isError:!1,onClose:()=>{K(!1),ee(0),4===Q&&w.push("/dashboard/filing")}}),(0,a.jsx)(el.PenaltyAbatementDialog,{open:q,onOpenChange:B,businessName:U.employerName,ein:U.employerEIN,taxYear:Number.parseInt(U.taxYear),formType:"W-2"})]})}],26575)}]);