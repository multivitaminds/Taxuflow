(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,980755,e=>{"use strict";let s=(0,e.i(197140).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",0,s])},718633,e=>{"use strict";var s=e.i(980755);e.s(["CheckCircle2",()=>s.default])},223711,e=>{"use strict";let s=(0,e.i(197140).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",0,s],223711)},740302,e=>{"use strict";let s=(0,e.i(197140).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",0,s],740302)},997617,e=>{"use strict";let s=(0,e.i(197140).default)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);e.s(["Database",0,s],997617)},915864,e=>{"use strict";let s=(0,e.i(197140).default)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);e.s(["Server",0,s],915864)},727699,e=>{"use strict";var s=e.i(878957),t=e.i(821596),a=e.i(958202),r=e.i(920755),l=e.i(970065),i=e.i(167881),c=e.i(718633),n=e.i(740302),d=e.i(223711),x=e.i(487473),m=e.i(997617),o=e.i(915864),u=e.i(327501);function h({userEmail:e}){let[a,r]=(0,t.useState)(null),[h,p]=(0,t.useState)(null),[f,j]=(0,t.useState)(!0),g=async()=>{j(!0);try{let[e,s]=await Promise.all([fetch("/api/diagnostics/supabase"),fetch("/api/diagnostics/database")]),t=await e.json(),a=await s.json();r(t),p(a)}catch(e){console.error("[v0] Diagnostics error:",e)}finally{j(!1)}};(0,t.useEffect)(()=>{g()},[]);let y=({status:e})=>"success"===e?(0,s.jsx)(c.CheckCircle2,{className:"h-6 w-6 text-emerald-500"}):"error"===e?(0,s.jsx)(n.XCircle,{className:"h-6 w-6 text-red-500"}):(0,s.jsx)(d.AlertCircle,{className:"h-6 w-6 text-amber-500"}),b=(()=>{if(!a||!h)return 0;let e=0;return"success"===a.status&&(e+=50),"success"===h.status?e+=50:"warning"===h.status&&(e+=35),e})();return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-purple-600/20 via-transparent to-transparent"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_left,_var(--tw-gradient-stops))] from-orange-600/20 via-transparent to-transparent"}),(0,s.jsxs)("div",{className:"relative z-10 mx-auto max-w-6xl p-8 space-y-8",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20",children:[(0,s.jsx)(u.Shield,{className:"h-4 w-4 text-emerald-400"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-white",children:["Authenticated: ",e]})]}),(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),(0,s.jsx)("span",{className:"text-sm font-medium text-white",children:"System Health Monitor"})]}),(0,s.jsx)("h1",{className:"text-5xl font-bold bg-gradient-to-r from-white via-purple-200 to-orange-200 bg-clip-text text-transparent",children:"Platform Diagnostics"}),(0,s.jsx)("p",{className:"text-lg text-slate-300",children:"Real-time health checks for Taxu infrastructure"})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.Button,{onClick:g,disabled:f,children:f?(0,s.jsx)(x.RefreshCw,{className:"h-6 w-6 animate-spin"}):"Run Diagnostics"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsx)(l.Card,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(o.Server,{className:"h-12 w-12 text-emerald-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Supabase"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:a?.message||"No data"})]})]}),(0,s.jsx)(y,{status:a?.status||"error"})]})}),(0,s.jsx)(l.Card,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(m.Database,{className:"h-12 w-12 text-emerald-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Database"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:h?.message||"No data"})]})]}),(0,s.jsx)(y,{status:h?.status||"error"})]})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold",children:["Health Score: ",b]}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Overall health of the Taxu infrastructure"})]})]})]})}e.s(["default",0,function(){let e=(0,a.useRouter)(),[l,i]=(0,t.useState)(null),[c,n]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{let s=(0,r.createClient)(),{data:{session:t}}=await s.auth.getSession();t?(i(t.user.email||null),n(!1)):e.push("/login?redirect=/diagnostics")})()},[e]),c)?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mb-4 h-8 w-8 animate-spin rounded-full border-4 border-purple-500 border-t-transparent mx-auto"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Loading diagnostics..."})]})}):(0,s.jsx)(h,{userEmail:l})}],727699)}]);