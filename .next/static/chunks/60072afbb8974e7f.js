(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,469568,e=>{"use strict";let s=(0,e.i(197140).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["default",0,s])},189691,e=>{"use strict";var s=e.i(469568);e.s(["Plus",()=>s.default])},223711,e=>{"use strict";let s=(0,e.i(197140).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",0,s],223711)},66401,e=>{"use strict";let s=(0,e.i(197140).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",0,s],66401)},696642,e=>{"use strict";let s=(0,e.i(197140).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",0,s],696642)},120682,e=>{"use strict";var s=e.i(821596);let t=0,a=new Map,r=e=>{if(a.has(e))return;let s=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,s)},i=[],l={toasts:[]};function c(e){l=((e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?r(t):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}})(l,e),i.forEach(e=>{e(l)})}function n({...e}){let s=(t=(t+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}e.s(["toast",0,n,"useToast",0,function(){let[e,t]=s.useState(l);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:n,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}])},720799,e=>{"use strict";let s=(0,e.i(197140).default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);e.s(["Key",0,s],720799)},356861,e=>{"use strict";var s=e.i(878957),t=e.i(821596),a=e.i(167881),r=e.i(970065),i=e.i(720799),l=e.i(696642),c=e.i(66401),n=e.i(189691),o=e.i(327501),d=e.i(223711),u=e.i(120682);e.s(["ApiKeysClient",0,function(){let[e,m]=(0,t.useState)([]),[x,h]=(0,t.useState)(!0),[p,y]=(0,t.useState)(!1),[v,f]=(0,t.useState)(""),[j,k]=(0,t.useState)("test"),[g,b]=(0,t.useState)(null),{toast:N}=(0,u.useToast)();(0,t.useEffect)(()=>{C()},[]);let C=async()=>{try{let e=await fetch("/api/developer/keys"),s=await e.json();s.keys&&m(s.keys)}catch(e){console.error("[v0] Error fetching keys:",e),N({title:"Error",description:"Failed to load API keys",variant:"destructive"})}finally{h(!1)}},A=async()=>{if(!v.trim())return void N({title:"Error",description:"Please enter a key name",variant:"destructive"});try{let e=await fetch("/api/developer/keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,environment:j})}),s=await e.json();e.ok?(b(s.apiKey),f(""),C(),N({title:"Success",description:"API key created successfully"})):N({title:"Error",description:s.error||"Failed to create API key",variant:"destructive"})}catch(e){console.error("[v0] Error creating key:",e),N({title:"Error",description:"Failed to create API key",variant:"destructive"})}},T=async e=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch("/api/developer/keys/revoke",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyId:e})})).ok?(C(),N({title:"Success",description:"API key revoked successfully"})):N({title:"Error",description:"Failed to revoke API key",variant:"destructive"})}catch(e){console.error("[v0] Error revoking key:",e),N({title:"Error",description:"Failed to revoke API key",variant:"destructive"})}},S=e=>{navigator.clipboard.writeText(e),N({title:"Copied",description:"API key copied to clipboard"})};return x?(0,s.jsx)("div",{className:"space-y-4 animate-pulse",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"h-24 rounded-xl bg-muted/50"},t))}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(r.Card,{className:"border-amber-500/50 bg-amber-500/5",children:(0,s.jsx)(r.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(d.AlertCircle,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-amber-600 dark:text-amber-400 mb-1",children:"Keep your API keys secure"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Never expose your API keys in client-side code, public repositories, or insecure locations. Always use environment variables and server-side code to keep your keys secure."})]})]})})}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Your API Keys"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage authentication keys for the Taxu API"})]}),(0,s.jsxs)(a.Button,{onClick:()=>y(!0),className:"gap-2",children:[(0,s.jsx)(n.Plus,{className:"w-4 h-4"}),"Create New Key"]})]}),0===e.length?(0,s.jsx)(r.Card,{className:"border-dashed",children:(0,s.jsxs)(r.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)(i.Key,{className:"w-12 h-12 text-muted-foreground/50 mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No API keys yet"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4 text-center max-w-md",children:"Create your first API key to start making authenticated requests to the Taxu API"}),(0,s.jsxs)(a.Button,{onClick:()=>y(!0),variant:"outline",className:"gap-2",children:[(0,s.jsx)(n.Plus,{className:"w-4 h-4"}),"Create API Key"]})]})}):(0,s.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,s.jsxs)(r.Card,{className:e.is_active?"":"opacity-60",children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-2 h-2 rounded-full ${e.is_active?"bg-green-500":"bg-red-500"}`}),(0,s.jsxs)("div",{children:[(0,s.jsx)(r.CardTitle,{className:"text-lg",children:e.name}),(0,s.jsx)(r.CardDescription,{className:"font-mono text-xs mt-1",children:e.key_prefix})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(a.Button,{size:"sm",variant:"ghost",onClick:()=>S(e.key_prefix),className:"gap-2",children:[(0,s.jsx)(l.Copy,{className:"w-3 h-3"}),"Copy"]}),e.is_active&&(0,s.jsxs)(a.Button,{size:"sm",variant:"ghost",onClick:()=>T(e.id),className:"gap-2 text-destructive hover:text-destructive",children:[(0,s.jsx)(c.Trash2,{className:"w-3 h-3"}),"Revoke"]})]})]})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-1",children:"Environment"}),(0,s.jsxs)("p",{className:"font-medium capitalize flex items-center gap-2",children:[e.environment,"production"===e.environment&&(0,s.jsx)(o.Shield,{className:"w-3 h-3 text-amber-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-1",children:"Usage"}),(0,s.jsxs)("p",{className:"font-medium",children:[e.usage_count.toLocaleString()," requests"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-1",children:"Last Used"}),(0,s.jsx)("p",{className:"font-medium",children:e.last_used_at?new Date(e.last_used_at).toLocaleDateString():"Never"})]})]})})]},e.id))}),p&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(r.Card,{className:"max-w-md w-full",children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Create API Key"}),(0,s.jsx)(r.CardDescription,{children:"Generate a new API key for authenticating your requests"})]}),(0,s.jsx)(r.CardContent,{children:g?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[(0,s.jsxs)("p",{className:"text-sm font-semibold text-amber-600 dark:text-amber-400 mb-3 flex items-center gap-2",children:[(0,s.jsx)(d.AlertCircle,{className:"w-4 h-4"}),"Save this key now - it won't be shown again!"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"flex-1 text-xs font-mono bg-background p-3 rounded border overflow-x-auto",children:g}),(0,s.jsxs)(a.Button,{size:"sm",onClick:()=>S(g),className:"gap-2",children:[(0,s.jsx)(l.Copy,{className:"w-3 h-3"}),"Copy"]})]})]}),(0,s.jsx)(a.Button,{onClick:()=>{b(null),y(!1)},className:"w-full",children:"Done"})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Key Name"}),(0,s.jsx)("input",{type:"text",value:v,onChange:e=>f(e.target.value),placeholder:"e.g., Production API Key",className:"w-full px-4 py-2 rounded-lg border border-border bg-background"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Environment"}),(0,s.jsxs)("select",{value:j,onChange:e=>k(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-border bg-background",children:[(0,s.jsx)("option",{value:"test",children:"Test"}),(0,s.jsx)("option",{value:"production",children:"Production"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,s.jsx)(a.Button,{onClick:()=>y(!1),variant:"outline",className:"flex-1",children:"Cancel"}),(0,s.jsx)(a.Button,{onClick:A,className:"flex-1",children:"Create Key"})]})]})})]})})]})}])}]);