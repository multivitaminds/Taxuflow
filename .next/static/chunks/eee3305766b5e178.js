(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,671759,e=>{"use strict";let a=(0,e.i(40530).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",0,a],671759)},823018,e=>{"use strict";var a=e.i(437322),t=e.i(949161);e.i(29157);var s=e.i(621914),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let l=(0,s.createSlot)(`Primitive.${r}`),d=t.forwardRef((e,t)=>{let{asChild:s,...d}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s?l:r,{...d,ref:t})});return d.displayName=`Primitive.${r}`,{...e,[r]:d}},{}),l=t.forwardRef((e,t)=>(0,a.jsx)(r.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";var d=e.i(333642);e.s(["Label",0,function({className:e,...t}){return(0,a.jsx)(l,{"data-slot":"label",className:(0,d.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}],823018)},187189,e=>{"use strict";let a=(0,e.i(40530).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",0,a],187189)},71866,e=>{"use strict";let a=(0,e.i(40530).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",0,a],71866)},144655,e=>{"use strict";let a=(0,e.i(40530).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",0,a],144655)},607636,e=>{"use strict";var a=e.i(437322),t=e.i(616861),s=e.i(949161),r=e.i(285937),l=e.i(363284),d=e.i(594950),i=e.i(844994),n=e.i(823018),o=e.i(671759),c=e.i(144655),u=e.i(187189),m=e.i(71866),h=e.i(780212);function p({user:e,profile:t}){let p=(0,r.useRouter)(),x=(0,h.createClient)(),[f,b]=(0,s.useState)({full_name:t?.full_name||"",phone:t?.phone||"",address:t?.address||"",city:t?.city||"",state:t?.state||"",zip_code:t?.zip_code||"",ssn_last_four:t?.ssn_last_four||"",date_of_birth:t?.date_of_birth||""}),[g,j]=(0,s.useState)(!1),[v,_]=(0,s.useState)(null),[y,N]=(0,s.useState)(!1),w=e=>{b({...f,[e.target.name]:e.target.value})},L=async a=>{a.preventDefault(),j(!0),_(null),N(!1);try{let{error:a}=await x.from("user_profiles").upsert({id:e.id,...f,updated_at:new Date().toISOString()});if(a)throw a;N(!0),setTimeout(()=>{p.push("/dashboard")},1500)}catch(e){console.error("[v0] Error updating profile:",e),_(e.message||"Failed to update profile")}finally{j(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-background pt-20",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[(0,a.jsxs)(l.Button,{onClick:()=>p.push("/dashboard"),variant:"ghost",className:"mb-6",children:[(0,a.jsx)(o.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),(0,a.jsxs)(d.Card,{className:"p-8 border-neon/20 bg-card/50 backdrop-blur",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Personal Information"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-8",children:"Update your personal details for tax filing"}),v&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-red-500",children:v})}),y&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-green-500",children:"Profile updated successfully! Redirecting..."})}),(0,a.jsxs)("form",{onSubmit:L,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"full_name",children:"Full Name *"}),(0,a.jsx)(i.Input,{id:"full_name",name:"full_name",value:f.full_name,onChange:w,required:!0,className:"mt-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)(i.Input,{id:"phone",name:"phone",type:"tel",value:f.phone,onChange:w,className:"mt-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"date_of_birth",children:"Date of Birth"}),(0,a.jsx)(i.Input,{id:"date_of_birth",name:"date_of_birth",type:"date",value:f.date_of_birth,onChange:w,className:"mt-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(n.Label,{htmlFor:"ssn_last_four",className:"flex items-center gap-2",children:["SSN (Last 4 digits)",(0,a.jsx)(m.Lock,{className:"h-3 w-3 text-green-500"})]}),(0,a.jsx)(i.Input,{id:"ssn_last_four",name:"ssn_last_four",maxLength:4,value:f.ssn_last_four,onChange:w,className:"mt-2"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[(0,a.jsx)(m.Lock,{className:"h-3 w-3"}),"AES-256 encrypted at rest"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"address",children:"Street Address"}),(0,a.jsx)(i.Input,{id:"address",name:"address",value:f.address,onChange:w,className:"mt-2"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"city",children:"City"}),(0,a.jsx)(i.Input,{id:"city",name:"city",value:f.city,onChange:w,className:"mt-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"state",children:"State"}),(0,a.jsx)(i.Input,{id:"state",name:"state",maxLength:2,value:f.state,onChange:w,className:"mt-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{htmlFor:"zip_code",children:"ZIP Code"}),(0,a.jsx)(i.Input,{id:"zip_code",name:"zip_code",maxLength:5,value:f.zip_code,onChange:w,className:"mt-2"})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-6",children:[(0,a.jsx)(l.Button,{type:"submit",disabled:g,className:"bg-neon hover:bg-neon/90 text-background",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Save,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>p.push("/dashboard"),disabled:g,children:"Cancel"})]})]})]})]})})}e.s(["default",0,function(){let{user:e,profile:s}=(0,t.useDashboard)();return(0,a.jsx)(p,{user:e,profile:s})}],607636)}]);