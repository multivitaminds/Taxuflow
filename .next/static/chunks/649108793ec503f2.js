(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,513095,e=>{"use strict";var t=e.i(821596);e.s(["usePrevious",0,function(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}])},881660,e=>{"use strict";let t=(0,e.i(197140).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",0,t],881660)},814696,e=>{"use strict";let t=(0,e.i(197140).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["default",0,t])},619020,e=>{"use strict";var t=e.i(814696);e.s(["ArrowRight",()=>t.default])},405857,e=>{"use strict";let t=(0,e.i(197140).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",0,t],405857)},625959,e=>{"use strict";var t=e.i(878957),s=e.i(821596),r=e.i(156456),a=e.i(557380),n=e.i(291967),i=e.i(300005),l=e.i(513095),c=e.i(969347),d=e.i(383514),o=e.i(311843),u="Checkbox",[m,x]=(0,a.createContextScope)(u),[h,f]=m(u);function b(e){let{__scopeCheckbox:r,checked:a,children:n,defaultChecked:l,disabled:c,form:d,name:o,onCheckedChange:m,required:x,value:f="on",internal_do_not_use_render:b}=e,[p,g]=(0,i.useControllableState)({prop:a,defaultProp:l??!1,onChange:m,caller:u}),[j,N]=s.useState(null),[v,y]=s.useState(null),k=s.useRef(!1),C=!j||!!d||!!j.closest("form"),S={checked:p,disabled:c,setChecked:g,control:j,setControl:N,name:o,form:d,value:f,hasConsumerStoppedPropagationRef:k,required:x,defaultChecked:!w(l)&&l,isFormControl:C,bubbleInput:v,setBubbleInput:y};return(0,t.jsx)(h,{scope:r,...S,children:"function"==typeof b?b(S):n})}var p="CheckboxTrigger",g=s.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:i,...l},c)=>{let{control:d,value:u,disabled:m,checked:x,required:h,setControl:b,setChecked:g,hasConsumerStoppedPropagationRef:j,isFormControl:N,bubbleInput:v}=f(p,e),y=(0,r.useComposedRefs)(c,b),k=s.useRef(x);return s.useEffect(()=>{let e=d?.form;if(e){let t=()=>g(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,g]),(0,t.jsx)(o.Primitive.button,{type:"button",role:"checkbox","aria-checked":w(x)?"mixed":x,"aria-required":h,"data-state":C(x),"data-disabled":m?"":void 0,disabled:m,value:u,...l,ref:y,onKeyDown:(0,n.composeEventHandlers)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.composeEventHandlers)(i,e=>{g(e=>!!w(e)||!e),v&&N&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});g.displayName=p;var j=s.forwardRef((e,s)=>{let{__scopeCheckbox:r,name:a,checked:n,defaultChecked:i,required:l,disabled:c,value:d,onCheckedChange:o,form:u,...m}=e;return(0,t.jsx)(b,{__scopeCheckbox:r,checked:n,defaultChecked:i,disabled:c,required:l,onCheckedChange:o,name:a,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{...m,ref:s,__scopeCheckbox:r}),e&&(0,t.jsx)(k,{__scopeCheckbox:r})]})})});j.displayName=u;var N="CheckboxIndicator",v=s.forwardRef((e,s)=>{let{__scopeCheckbox:r,forceMount:a,...n}=e,i=f(N,r);return(0,t.jsx)(d.Presence,{present:a||w(i.checked)||!0===i.checked,children:(0,t.jsx)(o.Primitive.span,{"data-state":C(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...e.style}})})});v.displayName=N;var y="CheckboxBubbleInput",k=s.forwardRef(({__scopeCheckbox:e,...a},n)=>{let{control:i,hasConsumerStoppedPropagationRef:d,checked:u,defaultChecked:m,required:x,disabled:h,name:b,value:p,form:g,bubbleInput:j,setBubbleInput:N}=f(y,e),v=(0,r.useComposedRefs)(n,N),k=(0,l.usePrevious)(u),C=(0,c.useSize)(i);s.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(k!==u&&e){let s=new Event("click",{bubbles:t});j.indeterminate=w(u),e.call(j,!w(u)&&u),j.dispatchEvent(s)}},[j,k,u,d]);let S=s.useRef(!w(u)&&u);return(0,t.jsx)(o.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??S.current,required:x,disabled:h,name:b,value:p,form:g,...a,tabIndex:-1,ref:v,style:{...a.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function w(e){return"indeterminate"===e}function C(e){return w(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=y;var S=e.i(725422),R=e.i(647163);e.s(["Checkbox",0,function({className:e,...s}){return(0,t.jsx)(j,{"data-slot":"checkbox",className:(0,R.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,t.jsx)(v,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(S.CheckIcon,{className:"size-3.5"})})})}],625959)},369306,e=>{"use strict";let t=(0,e.i(197140).default)("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);e.s(["FileCheck",0,t],369306)},478522,e=>{"use strict";var t=e.i(878957),s=e.i(821596),r=e.i(958202),a=e.i(167881),n=e.i(970065),i=e.i(23750),l=e.i(625959),c=e.i(920755),d=e.i(881660),o=e.i(327501),u=e.i(405857),m=e.i(619020),x=e.i(369306);e.s(["default",0,function(){let e=(0,r.useRouter)(),[h,f]=(0,s.useState)(!1),[b,p]=(0,s.useState)(1),[g,j]=(0,s.useState)(!1),[N,v]=(0,s.useState)({routingNumber:"",accountNumber:"",accountType:"checking"}),[y,k]=(0,s.useState)(null),[w,C]=(0,s.useState)("");(0,s.useEffect)(()=>{S()},[]);let S=async()=>{try{let t=(0,c.createClient)(),{data:{user:s}}=await t.auth.getUser();if(!s)return void e.push("/login");let{data:r}=await t.from("tax_calculations").select("*").eq("user_id",s.id).order("created_at",{descending:!0}).limit(1).single();k(r)}catch(e){console.error("[v0] Error loading calculations:",e)}},R=async()=>{f(!0),C("Validating tax return...");try{let t=(0,c.createClient)(),{data:{user:s}}=await t.auth.getUser();if(!s)return void e.push("/login");C("Encrypting data..."),await new Promise(e=>setTimeout(e,1e3)),C("Submitting to IRS...");let r=await fetch("/api/filing/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taxYear:2024,filingStatus:"single",federalRefund:y?.federal_refund||0,stateRefund:y?.state_refund||0,bankInfo:{routingNumber:N.routingNumber,accountNumber:N.accountNumber,accountType:N.accountType}})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to file return")}let a=await r.json();console.log("[v0] Tax return filed successfully:",a),C("Return accepted by IRS!"),await new Promise(e=>setTimeout(e,1500)),e.push("/refund")}catch(e){console.error("[v0] Error filing return:",e),alert(`There was an error filing your return: ${e instanceof Error?e.message:"Unknown error"}`),C("")}finally{f(!1)}},T=(y?.federal_refund||0)+(y?.state_refund||0);return(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-12",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-4 mb-12",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${b>=e?"bg-neon text-background":"bg-muted text-muted-foreground"}`,children:b>e?(0,t.jsx)(d.CheckCircle,{className:"w-5 h-5"}):e}),e<3&&(0,t.jsx)("div",{className:`w-16 h-1 ${b>e?"bg-neon":"bg-muted"}`})]},e))}),1===b&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Set Up Direct Deposit"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Get your $",T.toLocaleString()," refund in 7-10 days"]})]}),(0,t.jsx)(n.Card,{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Routing Number"}),(0,t.jsx)(i.Input,{type:"text",placeholder:"123456789",maxLength:9,value:N.routingNumber,onChange:e=>v({...N,routingNumber:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Account Number"}),(0,t.jsx)(i.Input,{type:"text",placeholder:"1234567890",value:N.accountNumber,onChange:e=>v({...N,accountNumber:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Account Type"}),(0,t.jsxs)("select",{className:"w-full p-2 rounded-lg border border-input bg-background",value:N.accountType,onChange:e=>v({...N,accountType:e.target.value}),children:[(0,t.jsx)("option",{value:"checking",children:"Checking"}),(0,t.jsx)("option",{value:"savings",children:"Savings"})]})]})]})}),(0,t.jsx)(n.Card,{className:"p-4 bg-blue-500/10 border-blue-500/20",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(u.Lock,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:"Your banking information is secure"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"We use bank-level encryption and never store your full account details."})]})]})}),(0,t.jsxs)(a.Button,{size:"lg",className:"w-full bg-neon hover:bg-neon/90 text-background",onClick:()=>p(2),disabled:!N.routingNumber||!N.accountNumber,children:["Continue",(0,t.jsx)(m.ArrowRight,{className:"w-4 h-4 ml-2"})]})]}),2===b&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Review & Sign"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Review your information before filing"})]}),(0,t.jsxs)(n.Card,{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-bold mb-4",children:"Filing Summary"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Tax Year"}),(0,t.jsx)("span",{className:"font-semibold",children:"2024"})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Filing Status"}),(0,t.jsx)("span",{className:"font-semibold",children:"Single"})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Federal Refund"}),(0,t.jsxs)("span",{className:"font-semibold",children:["$",y?.federal_refund?.toLocaleString()||"0"]})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"State Refund"}),(0,t.jsxs)("span",{className:"font-semibold",children:["$",y?.state_refund?.toLocaleString()||"0"]})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 bg-neon/10 rounded-lg px-3",children:[(0,t.jsx)("span",{className:"font-bold",children:"Total Refund"}),(0,t.jsxs)("span",{className:"font-bold text-neon text-xl",children:["$",T.toLocaleString()]})]})]})]}),(0,t.jsxs)(n.Card,{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-bold mb-4",children:"Direct Deposit"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Routing: •••••",N.routingNumber.slice(-4)]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Account: •••••",N.accountNumber.slice(-4)," (",N.accountType,")"]})]})]}),(0,t.jsx)(n.Card,{className:"p-4 border-neon/20",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(l.Checkbox,{id:"consent",checked:g,onCheckedChange:e=>j(e)}),(0,t.jsx)("label",{htmlFor:"consent",className:"text-sm cursor-pointer",children:"I declare that I have examined this return and to the best of my knowledge and belief, it is true, correct, and complete. I authorize Taxu to electronically file my return with the IRS and state tax authorities."})]})}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(a.Button,{variant:"outline",size:"lg",className:"flex-1 bg-transparent",onClick:()=>p(1),children:"Back"}),(0,t.jsxs)(a.Button,{size:"lg",className:"flex-1 bg-neon hover:bg-neon/90 text-background",onClick:()=>p(3),disabled:!g,children:["Sign & File",(0,t.jsx)(m.ArrowRight,{className:"w-4 h-4 ml-2"})]})]})]}),3===b&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Filing Your Return"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Submitting to IRS and state tax authorities..."})]}),(0,t.jsx)(n.Card,{className:"p-12 text-center",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-24 h-24 border-4 border-neon border-t-transparent rounded-full animate-spin mx-auto mb-6"}),(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Filing in Progress"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:w||"This usually takes 30-60 seconds"}),(0,t.jsxs)("div",{className:"space-y-2 text-left max-w-md mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(d.CheckCircle,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("span",{children:"Validating tax return"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(d.CheckCircle,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("span",{children:"Encrypting data"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[w.includes("IRS")?(0,t.jsx)(d.CheckCircle,{className:"w-4 h-4 text-green-500"}):(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-neon border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Submitting to IRS..."})]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.FileCheck,{className:"w-24 h-24 text-neon mx-auto mb-6"}),(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Ready to File"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Click below to submit your return to the IRS"}),(0,t.jsxs)(a.Button,{size:"lg",className:"bg-neon hover:bg-neon/90 text-background",onClick:R,children:["File My Return",(0,t.jsx)(m.ArrowRight,{className:"w-4 h-4 ml-2"})]})]})}),(0,t.jsx)(n.Card,{className:"p-4 bg-green-500/10 border-green-500/20",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(o.Shield,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:"SOC 2 Compliance In Progress"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Your return is transmitted securely using IRS-approved encryption protocols."})]})]})})]})]})})}])}]);