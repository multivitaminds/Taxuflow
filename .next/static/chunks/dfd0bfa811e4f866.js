(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,692626,t=>{"use strict";let e=(0,t.i(197140).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);t.s(["Loader2",0,e],692626)},120682,t=>{"use strict";var e=t.i(821596);let o=0,r=new Map,s=t=>{if(r.has(t))return;let e=setTimeout(()=>{r.delete(t),n({type:"REMOVE_TOAST",toastId:t})},1e6);r.set(t,e)},a=[],i={toasts:[]};function n(t){i=((t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:o}=e;return o?s(o):t.toasts.forEach(t=>{s(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===o||void 0===o?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}})(i,t),a.forEach(t=>{t(i)})}function c({...t}){let e=(o=(o+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>n({type:"DISMISS_TOAST",toastId:e});return n({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:t=>{t||r()}}}),{id:e,dismiss:r,update:t=>n({type:"UPDATE_TOAST",toast:{...t,id:e}})}}t.s(["toast",0,c,"useToast",0,function(){let[t,o]=e.useState(i);return e.useEffect(()=>(a.push(o),()=>{let t=a.indexOf(o);t>-1&&a.splice(t,1)}),[t]),{...t,toast:c,dismiss:t=>n({type:"DISMISS_TOAST",toastId:t})}}])},236159,t=>{"use strict";let e=(0,t.i(197140).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);t.s(["ExternalLink",0,e],236159)},125218,t=>{"use strict";var e=t.i(878957),o=t.i(821596),r=t.i(167881),s=t.i(692626),a=t.i(236159),i=t.i(120682);t.s(["SubscriptionCheckoutButton",0,function({planId:t,children:n,className:c,variant:l="default",disabled:u=!1}){let[d,h]=(0,o.useState)(!1),{toast:p}=(0,i.useToast)(),f=async()=>{try{h(!0),console.log("[v0] Starting checkout for plan:",t);let e=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:t})}),o=await e.json();if(console.log("[v0] Checkout response:",o),!e.ok){let t=o.details||o.error||"Failed to create checkout session";console.error("[v0] Checkout failed:",t),p({title:"Checkout Failed",description:t,variant:"destructive"}),h(!1);return}if(o.url)console.log("[v0] Redirecting to checkout:",o.url),window.open(o.url,"_blank","noopener,noreferrer")?(p({title:"Checkout Opened",description:"Please complete your purchase in the new tab that just opened."}),h(!1)):(p({title:"Popup Blocked",description:"Please allow popups for this site and try again. Or copy the checkout link.",variant:"destructive"}),window.location.href=o.url);else throw Error("No checkout URL returned")}catch(t){console.error("[v0] Checkout error:",t),p({title:"Error",description:t instanceof Error?t.message:"Failed to start checkout",variant:"destructive"}),h(!1)}};return(0,e.jsx)(r.Button,{onClick:f,disabled:d||u,className:c,variant:l,children:d?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(s.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):(0,e.jsxs)(e.Fragment,{children:[n,(0,e.jsx)(a.ExternalLink,{className:"ml-2 h-4 w-4"})]})})}])},142630,t=>{"use strict";var e=t.i(878957),o=t.i(821596),r=t.i(167881),s=t.i(692626);t.s(["AddOnCheckoutButton",0,function({addOnId:t,children:a,className:i,variant:n="default",disabled:c=!1,size:l="default"}){let[u,d]=(0,o.useState)(!1),[h,p]=(0,o.useState)(null),f=async()=>{try{d(!0),p(null),console.log("[v0] Starting add-on checkout for:",t);let e=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addOnId:t})}),o=await e.json();if(console.log("[v0] Add-on checkout response:",o),!e.ok){let t=o.details||o.error||"Failed to create checkout session";console.error("[v0] Add-on checkout failed:",t),p(t),alert(`Checkout failed: ${t}`),d(!1);return}if(o.url)console.log("[v0] Redirecting to checkout:",o.url),window.location.href=o.url;else throw Error("No checkout URL returned")}catch(e){console.error("[v0] Add-on checkout error:",e);let t=e instanceof Error?e.message:"Failed to start checkout";p(t),alert(`Failed to start checkout: ${t}`),d(!1)}};return(0,e.jsx)(r.Button,{onClick:f,disabled:u||c,className:i,variant:n,size:l,children:u?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(s.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):a})}])}]);