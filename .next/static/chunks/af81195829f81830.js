(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,669980,e=>{"use strict";let t=(0,e.i(40530).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",0,t],669980)},299550,e=>{"use strict";let t=(0,e.i(40530).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",0,t],299550)},550968,e=>{"use strict";let t=(0,e.i(40530).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",0,t],550968)},965957,e=>{"use strict";let t=(0,e.i(40530).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",0,t],965957)},561383,e=>{"use strict";let t=(0,e.i(40530).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",0,t],561383)},228691,e=>{"use strict";let t=(0,e.i(40530).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",0,t],228691)},803730,e=>{"use strict";let t=(0,e.i(40530).default)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);e.s(["Calculator",0,t],803730)},921713,e=>{"use strict";let t=(0,e.i(40530).default)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);e.s(["Brain",0,t],921713)},943937,e=>{"use strict";var t=e.i(437322),a=e.i(949161),s=e.i(285937),r=e.i(363284),l=e.i(594950),d=e.i(671759),n=e.i(669980),c=e.i(550968),i=e.i(561383),o=e.i(965957),h=e.i(921713),m=e.i(299550),x=e.i(228691);let u=(0,e.i(40530).default)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var p=e.i(803730),y=e.i(780212);e.s(["ProcessedDocumentsClient",0,function({user:e,profile:g}){let f=(0,s.useRouter)(),[j,b]=(0,a.useState)([]),[k,N]=(0,a.useState)([]),[v,w]=(0,a.useState)(!0),C=(0,y.createClient)(),M=async()=>{w(!0);let{data:t}=await C.from("documents").select("*").eq("user_id",e.id).not("ai_document_type","is",null).order("created_at",{ascending:!1}),{data:a}=await C.from("agent_activities").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);t&&b(t),a&&N(a),w(!1)};(0,a.useEffect)(()=>{M()},[e.id]);let _=async(e,t)=>{try{let{data:a,error:s}=await C.from("documents").select("file_path").eq("id",e).single();if(s||!a)return void alert("Failed to download document. Please try again.");let{data:r,error:l}=await C.storage.from("tax-documents").download(a.file_path);if(l)return void alert("Failed to download file. Please try again.");let d=URL.createObjectURL(r),n=document.createElement("a");n.href=d,n.download=t,n.click(),URL.revokeObjectURL(d)}catch(e){alert("An unexpected error occurred. Please try again.")}},A=async(e,t)=>{if(window.confirm(`Are you sure you want to delete "${t}"? This action cannot be undone.`))try{let t=await fetch(`/api/delete-document?id=${e}`,{method:"DELETE"}),a=await t.json();if(!t.ok)return void alert(`Failed to delete document: ${a.error}`);alert("Document deleted successfully"),M()}catch(e){alert("An unexpected error occurred. Please try again.")}};return v?(0,t.jsx)("div",{className:"min-h-screen bg-background pt-20 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-neon border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading processed documents..."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-background pt-20",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,t.jsxs)(r.Button,{onClick:()=>f.push("/dashboard/documents"),variant:"ghost",className:"mb-6",children:[(0,t.jsx)(d.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Processed Documents"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Documents that have been analyzed by your AI team"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsxs)(l.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur cursor-pointer hover:scale-105 transition-transform",onClick:()=>f.push("/dashboard/documents/all"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(o.CheckCircle2,{className:"w-5 h-5 text-green-500"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Processed Documents"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:j.length})]}),(0,t.jsxs)(l.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur cursor-pointer hover:scale-105 transition-transform",onClick:()=>f.push("/dashboard"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(h.Brain,{className:"w-5 h-5 text-purple-500"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"AI Analyses"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:k.length})]}),(0,t.jsxs)(l.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur cursor-pointer hover:scale-105 transition-transform",onClick:()=>f.push("/dashboard/documents/storage"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(n.FileText,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Size"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:[(j.reduce((e,t)=>e+(t.file_size||0),0)/1024/1024).toFixed(1)," MB"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[(0,t.jsx)(o.CheckCircle2,{className:"w-6 h-6 text-green-500"}),"Processed Documents"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[j.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-background/50 hover:bg-background/80 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(n.FileText,{className:"w-6 h-6 text-neon"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:e.file_name}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{className:"capitalize",children:e.ai_document_type}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:[(e.file_size/1024).toFixed(1)," KB"]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Button,{onClick:()=>_(e.id,e.file_name),variant:"ghost",size:"sm",children:(0,t.jsx)(c.Download,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{onClick:()=>A(e.id,e.file_name),variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-600 hover:bg-red-500/10",children:(0,t.jsx)(i.Trash2,{className:"w-4 h-4"})})]})]},e.id)),0===j.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.CheckCircle2,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No processed documents yet"})]})]})]}),(0,t.jsxs)(l.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[(0,t.jsx)(h.Brain,{className:"w-6 h-6 text-purple-500"}),"AI Processing Activity"]}),(0,t.jsxs)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:[k.map(e=>{let a=(e=>{switch(e.toLowerCase()){case"sophie":default:return h.Brain;case"leo":return p.Calculator;case"riley":return m.TrendingUp;case"kai":return x.Shield;case"jordan":return u}})(e.agent_name);return(0,t.jsx)("div",{className:"p-4 rounded-lg bg-background/50",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-neon/10",children:(0,t.jsx)(a,{className:"w-5 h-5 text-neon"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-semibold",children:e.agent_name}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleString()})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.activity_description}),e.metadata&&(0,t.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:(0,t.jsx)("pre",{className:"bg-background/50 p-2 rounded overflow-x-auto",children:JSON.stringify(e.metadata,null,2)})})]})]})},e.id)}),0===k.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(h.Brain,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No AI activity yet"})]})]})]})]})]})})}],943937)}]);