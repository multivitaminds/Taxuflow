(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,671759,e=>{"use strict";let s=(0,e.i(40530).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",0,s],671759)},145327,e=>{"use strict";let s=(0,e.i(40530).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",0,s])},965957,e=>{"use strict";var s=e.i(145327);e.s(["CheckCircle2",()=>s.default])},561383,e=>{"use strict";let s=(0,e.i(40530).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",0,s],561383)},803730,e=>{"use strict";let s=(0,e.i(40530).default)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);e.s(["Calculator",0,s],803730)},330448,e=>{"use strict";let s=(0,e.i(40530).default)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);e.s(["default",0,s])},735688,e=>{"use strict";var s=e.i(330448);e.s(["Lightbulb",()=>s.default])},943937,e=>{"use strict";var s=e.i(437322),t=e.i(949161),a=e.i(285937),r=e.i(363284),l=e.i(594950),c=e.i(671759),d=e.i(669980),n=e.i(550968),i=e.i(561383),o=e.i(965957),m=e.i(921713),x=e.i(299550),h=e.i(228691),u=e.i(735688),p=e.i(803730),g=e.i(780212);e.s(["ProcessedDocumentsClient",0,function({user:e,profile:b}){let f=(0,a.useRouter)(),[j,y]=(0,t.useState)([]),[N,v]=(0,t.useState)([]),[k,w]=(0,t.useState)(!0),C=(0,g.createClient)(),_=async()=>{w(!0);let{data:s}=await C.from("documents").select("*").eq("user_id",e.id).not("ai_document_type","is",null).order("created_at",{ascending:!1}),{data:t}=await C.from("agent_activities").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);s&&y(s),t&&v(t),w(!1)};(0,t.useEffect)(()=>{_()},[e.id]);let A=async(e,s)=>{try{let{data:t,error:a}=await C.from("documents").select("file_path").eq("id",e).single();if(a||!t)return void alert("Failed to download document. Please try again.");let{data:r,error:l}=await C.storage.from("tax-documents").download(t.file_path);if(l)return void alert("Failed to download file. Please try again.");let c=URL.createObjectURL(r),d=document.createElement("a");d.href=c,d.download=s,d.click(),URL.revokeObjectURL(c)}catch(e){alert("An unexpected error occurred. Please try again.")}},L=async(e,s)=>{if(window.confirm(`Are you sure you want to delete "${s}"? This action cannot be undone.`))try{let s=await fetch(`/api/delete-document?id=${e}`,{method:"DELETE"}),t=await s.json();if(!s.ok)return void alert(`Failed to delete document: ${t.error}`);alert("Document deleted successfully"),_()}catch(e){alert("An unexpected error occurred. Please try again.")}};return k?(0,s.jsx)("div",{className:"min-h-screen bg-background pt-20 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-neon border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading processed documents..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-background pt-20",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,s.jsxs)(r.Button,{onClick:()=>f.push("/dashboard/documents"),variant:"ghost",className:"mb-6",children:[(0,s.jsx)(c.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Documents"]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Processed Documents"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Documents that have been analyzed by your AI team"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)(l.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur cursor-pointer hover:scale-105 transition-transform",onClick:()=>f.push("/dashboard/documents/all"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(o.CheckCircle2,{className:"w-5 h-5 text-green-500"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Processed Documents"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:j.length})]}),(0,s.jsxs)(l.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur cursor-pointer hover:scale-105 transition-transform",onClick:()=>f.push("/dashboard"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(m.Brain,{className:"w-5 h-5 text-purple-500"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"AI Analyses"})]}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:N.length})]}),(0,s.jsxs)(l.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur cursor-pointer hover:scale-105 transition-transform",onClick:()=>f.push("/dashboard/documents/storage"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(d.FileText,{className:"w-5 h-5 text-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Size"})]}),(0,s.jsxs)("p",{className:"text-3xl font-bold",children:[(j.reduce((e,s)=>e+(s.file_size||0),0)/1024/1024).toFixed(1)," MB"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(l.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[(0,s.jsx)(o.CheckCircle2,{className:"w-6 h-6 text-green-500"}),"Processed Documents"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[j.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-background/50 hover:bg-background/80 transition-all",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(d.FileText,{className:"w-6 h-6 text-neon"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold",children:e.file_name}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{className:"capitalize",children:e.ai_document_type}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:[(e.file_size/1024).toFixed(1)," KB"]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Button,{onClick:()=>A(e.id,e.file_name),variant:"ghost",size:"sm",children:(0,s.jsx)(n.Download,{className:"w-4 h-4"})}),(0,s.jsx)(r.Button,{onClick:()=>L(e.id,e.file_name),variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-600 hover:bg-red-500/10",children:(0,s.jsx)(i.Trash2,{className:"w-4 h-4"})})]})]},e.id)),0===j.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(o.CheckCircle2,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No processed documents yet"})]})]})]}),(0,s.jsxs)(l.Card,{className:"p-6 border-neon/20 bg-card/50 backdrop-blur",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[(0,s.jsx)(m.Brain,{className:"w-6 h-6 text-purple-500"}),"AI Processing Activity"]}),(0,s.jsxs)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:[N.map(e=>{let t=(e=>{switch(e.toLowerCase()){case"sophie":default:return m.Brain;case"leo":return p.Calculator;case"riley":return x.TrendingUp;case"kai":return h.Shield;case"jordan":return u.Lightbulb}})(e.agent_name);return(0,s.jsx)("div",{className:"p-4 rounded-lg bg-background/50",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-neon/10",children:(0,s.jsx)(t,{className:"w-5 h-5 text-neon"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"font-semibold",children:e.agent_name}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleString()})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.activity_description}),e.metadata&&(0,s.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:(0,s.jsx)("pre",{className:"bg-background/50 p-2 rounded overflow-x-auto",children:JSON.stringify(e.metadata,null,2)})})]})]})},e.id)}),0===N.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(m.Brain,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No AI activity yet"})]})]})]})]})]})})}])}]);