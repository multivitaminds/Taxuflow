(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,994179,e=>{"use strict";var s=e.i(878957),t=e.i(589944),r=e.i(294237),a=e.i(647163);let i=(0,r.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});e.s(["Badge",0,function({className:e,variant:r,asChild:n=!1,...d}){let c=n?t.Slot:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,a.cn)(i({variant:r}),e),...d})}])},980755,e=>{"use strict";let s=(0,e.i(197140).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",0,s])},718633,e=>{"use strict";var s=e.i(980755);e.s(["CheckCircle2",()=>s.default])},740302,e=>{"use strict";let s=(0,e.i(197140).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",0,s],740302)},41108,e=>{"use strict";let s=(0,e.i(197140).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["default",0,s])},87041,e=>{"use strict";var s=e.i(41108);e.s(["Activity",()=>s.default])},997617,e=>{"use strict";let s=(0,e.i(197140).default)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);e.s(["Database",0,s],997617)},296725,e=>{"use strict";var s=e.i(878957),t=e.i(821596),r=e.i(958202),a=e.i(920755),i=e.i(970065),n=e.i(994179),d=e.i(167881),c=e.i(87041),l=e.i(485296),o=e.i(718633),m=e.i(740302),x=e.i(487473),u=e.i(327501),h=e.i(997617),f=e.i(776291);e.s(["default",0,function(){let e=(0,r.useRouter)(),[j,g]=(0,t.useState)(!0),[v,p]=(0,t.useState)(!1),[N,b]=(0,t.useState)(null),[y,C]=(0,t.useState)(null),[w,k]=(0,t.useState)([]);async function S(){let s=(0,a.createBrowserClient)(),{data:{session:t}}=await s.auth.getSession();if(!t)return void e.push("/admin/login");let{data:r}=await s.from("admin_users").select("*").eq("user_id",t.user.id).single();r?g(!1):e.push("/admin/unauthorized")}async function R(){p(!0);try{let e=await fetch("/api/health"),s=await e.json();b(s);let t=await fetch("/api/monitoring/metrics"),r=await t.json();C(r);let i=(0,a.createBrowserClient)(),{data:n}=await i.from("security_events").select("*").order("created_at",{ascending:!1}).limit(10);k(n||[])}catch(e){console.error("[v0] Failed to fetch monitoring data:",e)}finally{p(!1)}}if((0,t.useEffect)(()=>{S(),R();let e=setInterval(R,3e4);return()=>clearInterval(e)},[]),j)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});let T=e=>{switch(e){case"healthy":case"success":return"text-green-600";case"warning":return"text-yellow-600";case"error":case"critical":return"text-red-600";default:return"text-gray-600"}},A=e=>{switch(e){case"healthy":case"success":return(0,s.jsx)(o.CheckCircle2,{className:"h-5 w-5 text-green-600"});case"warning":return(0,s.jsx)(l.AlertTriangle,{className:"h-5 w-5 text-yellow-600"});case"error":case"critical":return(0,s.jsx)(m.XCircle,{className:"h-5 w-5 text-red-600"});default:return(0,s.jsx)(c.Activity,{className:"h-5 w-5 text-gray-600"})}};return(0,s.jsx)("div",{className:"min-h-screen bg-background p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Production Monitoring"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Real-time system health and performance metrics"})]}),(0,s.jsxs)(d.Button,{onClick:R,disabled:v,variant:"outline",size:"sm",children:[(0,s.jsx)(x.RefreshCw,{className:`h-4 w-4 mr-2 ${v?"animate-spin":""}`}),"Refresh"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"System Status"}),(0,s.jsx)(c.Activity,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[A(N?.status||"unknown"),(0,s.jsx)("span",{className:`text-2xl font-bold ${T(N?.status||"unknown")}`,children:N?.status||"Unknown"})]})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Database"}),(0,s.jsx)(h.Database,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[A(N?.checks?.database||"unknown"),(0,s.jsx)("span",{className:`text-2xl font-bold ${T(N?.checks?.database||"unknown")}`,children:N?.checks?.database||"Unknown"})]})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"API Performance"}),(0,s.jsx)(f.Zap,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:y?.performance?.avgResponseTime?`${y.performance.avgResponseTime}ms`:"N/A"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Average response time"})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"Security Events"}),(0,s.jsx)(u.Shield,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:w.length}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Last 10 events"})]})]})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{children:"Integration Status"}),(0,s.jsx)(i.CardDescription,{children:"Status of all connected third-party services"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:N?.integrations&&Object.entries(N.integrations).map(([e,t])=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsx)("span",{className:"font-medium",children:e}),(0,s.jsx)(n.Badge,{variant:t?"default":"secondary",children:t?"Connected":"Not Configured"})]},e))})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{children:"Recent Security Events"}),(0,s.jsx)(i.CardDescription,{children:"Last 10 security-related events"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsx)("div",{className:"space-y-2",children:0===w.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No recent security events"}):w.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent transition-colors",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Badge,{variant:"critical"===e.severity?"destructive":"warning"===e.severity?"outline":"secondary",children:e.severity}),(0,s.jsx)("span",{className:"font-medium",children:e.event_type})]}),e.description&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleString()})]},e.id))})})]}),y?.performance&&(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{children:"Performance Metrics"}),(0,s.jsx)(i.CardDescription,{children:"System performance over the last 24 hours"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Requests"}),(0,s.jsx)("div",{className:"text-2xl font-bold mt-1",children:y.performance.totalRequests||0})]}),(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Success Rate"}),(0,s.jsxs)("div",{className:"text-2xl font-bold mt-1",children:[y.performance.successRate||"0","%"]})]}),(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Error Rate"}),(0,s.jsxs)("div",{className:"text-2xl font-bold mt-1",children:[y.performance.errorRate||"0","%"]})]}),(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Response"}),(0,s.jsxs)("div",{className:"text-2xl font-bold mt-1",children:[y.performance.avgResponseTime||0,"ms"]})]})]})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsx)(i.CardTitle,{children:"System Information"}),(0,s.jsx)(i.CardDescription,{children:"Platform version and configuration"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Version"}),(0,s.jsx)("div",{className:"font-medium mt-1",children:N?.version||"Unknown"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Last Updated"}),(0,s.jsx)("div",{className:"font-medium mt-1",children:N?.timestamp?new Date(N.timestamp).toLocaleString():"N/A"})]})]})})]})]})})}])}]);