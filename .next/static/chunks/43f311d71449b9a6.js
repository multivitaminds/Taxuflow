(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,994179,e=>{"use strict";var t=e.i(878957),s=e.i(589944),r=e.i(294237),a=e.i(647163);let i=(0,r.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});e.s(["Badge",0,function({className:e,variant:r,asChild:n=!1,...l}){let c=n?s.Slot:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,a.cn)(i({variant:r}),e),...l})}])},716478,e=>{"use strict";let t=(0,e.i(197140).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["default",0,t])},507,e=>{"use strict";var t=e.i(716478);e.s(["Calendar",()=>t.default])},980755,e=>{"use strict";let t=(0,e.i(197140).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",0,t])},718633,e=>{"use strict";var t=e.i(980755);e.s(["CheckCircle2",()=>t.default])},223711,e=>{"use strict";let t=(0,e.i(197140).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",0,t],223711)},513095,e=>{"use strict";var t=e.i(821596);e.s(["usePrevious",0,function(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}])},692626,e=>{"use strict";let t=(0,e.i(197140).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",0,t],692626)},120682,e=>{"use strict";var t=e.i(821596);let s=0,r=new Map,a=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},i=[],n={toasts:[]};function l(e){n=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?a(s):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(n,e),i.forEach(e=>{e(n)})}function c({...e}){let t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>l({type:"DISMISS_TOAST",toastId:t});return l({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:t}})}}e.s(["toast",0,c,"useToast",0,function(){let[e,s]=t.useState(n);return t.useEffect(()=>(i.push(s),()=>{let e=i.indexOf(s);e>-1&&i.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}])},625959,e=>{"use strict";var t=e.i(878957),s=e.i(821596),r=e.i(156456),a=e.i(557380),i=e.i(291967),n=e.i(300005),l=e.i(513095),c=e.i(969347),d=e.i(383514),o=e.i(311843),u="Checkbox",[m,x]=(0,a.createContextScope)(u),[h,f]=m(u);function p(e){let{__scopeCheckbox:r,checked:a,children:i,defaultChecked:l,disabled:c,form:d,name:o,onCheckedChange:m,required:x,value:f="on",internal_do_not_use_render:p}=e,[g,b]=(0,n.useControllableState)({prop:a,defaultProp:l??!1,onChange:m,caller:u}),[v,j]=s.useState(null),[y,N]=s.useState(null),k=s.useRef(!1),w=!v||!!d||!!v.closest("form"),S={checked:g,disabled:c,setChecked:b,control:v,setControl:j,name:o,form:d,value:f,hasConsumerStoppedPropagationRef:k,required:x,defaultChecked:!C(l)&&l,isFormControl:w,bubbleInput:y,setBubbleInput:N};return(0,t.jsx)(h,{scope:r,...S,children:"function"==typeof p?p(S):i})}var g="CheckboxTrigger",b=s.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:n,...l},c)=>{let{control:d,value:u,disabled:m,checked:x,required:h,setControl:p,setChecked:b,hasConsumerStoppedPropagationRef:v,isFormControl:j,bubbleInput:y}=f(g,e),N=(0,r.useComposedRefs)(c,p),k=s.useRef(x);return s.useEffect(()=>{let e=d?.form;if(e){let t=()=>b(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,b]),(0,t.jsx)(o.Primitive.button,{type:"button",role:"checkbox","aria-checked":C(x)?"mixed":x,"aria-required":h,"data-state":w(x),"data-disabled":m?"":void 0,disabled:m,value:u,...l,ref:N,onKeyDown:(0,i.composeEventHandlers)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.composeEventHandlers)(n,e=>{b(e=>!!C(e)||!e),y&&j&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});b.displayName=g;var v=s.forwardRef((e,s)=>{let{__scopeCheckbox:r,name:a,checked:i,defaultChecked:n,required:l,disabled:c,value:d,onCheckedChange:o,form:u,...m}=e;return(0,t.jsx)(p,{__scopeCheckbox:r,checked:i,defaultChecked:n,disabled:c,required:l,onCheckedChange:o,name:a,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{...m,ref:s,__scopeCheckbox:r}),e&&(0,t.jsx)(k,{__scopeCheckbox:r})]})})});v.displayName=u;var j="CheckboxIndicator",y=s.forwardRef((e,s)=>{let{__scopeCheckbox:r,forceMount:a,...i}=e,n=f(j,r);return(0,t.jsx)(d.Presence,{present:a||C(n.checked)||!0===n.checked,children:(0,t.jsx)(o.Primitive.span,{"data-state":w(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:s,style:{pointerEvents:"none",...e.style}})})});y.displayName=j;var N="CheckboxBubbleInput",k=s.forwardRef(({__scopeCheckbox:e,...a},i)=>{let{control:n,hasConsumerStoppedPropagationRef:d,checked:u,defaultChecked:m,required:x,disabled:h,name:p,value:g,form:b,bubbleInput:v,setBubbleInput:j}=f(N,e),y=(0,r.useComposedRefs)(i,j),k=(0,l.usePrevious)(u),w=(0,c.useSize)(n);s.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(k!==u&&e){let s=new Event("click",{bubbles:t});v.indeterminate=C(u),e.call(v,!C(u)&&u),v.dispatchEvent(s)}},[v,k,u,d]);let S=s.useRef(!C(u)&&u);return(0,t.jsx)(o.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??S.current,required:x,disabled:h,name:p,value:g,form:b,...a,tabIndex:-1,ref:y,style:{...a.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function w(e){return C(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=N;var S=e.i(725422),T=e.i(647163);e.s(["Checkbox",0,function({className:e,...s}){return(0,t.jsx)(v,{"data-slot":"checkbox",className:(0,T.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,t.jsx)(y,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(S.CheckIcon,{className:"size-3.5"})})})}],625959)},46408,e=>{"use strict";var t=e.i(271893),s=e.i(878957),r=e.i(821596),a=e.i(970065),i=e.i(167881),n=e.i(120682),l=e.i(338211),c=e.i(931454),d=e.i(692626),o=e.i(718633),u=e.i(829463),m=e.i(223711),x=e.i(958202),h=e.i(994179);let f=[{value:"w2",label:"W-2 (Wage Statement)"},{value:"w2c",label:"W-2c (Corrected)"},{value:"1099-nec",label:"1099-NEC"},{value:"1099-misc",label:"1099-MISC"},{value:"1098",label:"1098 (Mortgage Interest)"},{value:"medical-expenses",label:"Medical Expenses"},{value:"charitable-donations",label:"Charitable Donations"},{value:"business-receipts",label:"Business Receipts"},{value:"k1",label:"Schedule K-1"},{value:"income-statement",label:"Income Statement"}];e.s(["MultiDocumentUpload",0,function({userId:e,onUploadComplete:p}){let[g,b]=(0,r.useState)([]),[v,j]=(0,r.useState)(!1),[y,N]=(0,r.useState)(!1),{toast:k}=(0,n.useToast)(),C=(0,x.useRouter)(),w=(0,r.useCallback)(e=>{e.preventDefault(),j(!1),S(Array.from(e.dataTransfer.files))},[]),S=async s=>{let r=s.map(e=>({id:Date.now().toString()+Math.random(),name:e.name,size:e.size,type:e.type,status:"uploading"}));b(e=>[...e,...r]),N(!0);for(let a=0;a<s.length;a++){let i=s[a],n=r[a].id;try{console.log("[v0] Processing document:",i.name),b(e=>e.map(e=>e.id===n?{...e,status:"processing"}:e));let s=await i.arrayBuffer(),r=t.Buffer.from(s).toString("base64"),a=await fetch("/api/filing/extract-document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileData:r,fileName:i.name,mimeType:i.type,userId:e})}),l=await a.json();if(l.success&&l.data)b(e=>e.map(e=>e.id===n?{...e,status:"complete",documentType:l.documentType,extractedData:l.data}:e)),k({title:"Document Processed",description:`Successfully extracted data from ${i.name}`});else throw Error(l.error||"Extraction failed")}catch(t){console.error("[v0] Processing error:",t);let e=t instanceof Error?t.message:"Failed to process document";b(t=>t.map(t=>t.id===n?{...t,status:"error",errorMessage:e}:t)),k({title:"Processing Failed",description:`Failed to process ${i.name}`,variant:"destructive"})}}N(!1),p&&p()},T=g.filter(e=>"complete"===e.status).length,E=g.length;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(a.Card,{className:"border-neon/20 bg-card/50 backdrop-blur",children:[(0,s.jsxs)(a.CardHeader,{children:[(0,s.jsx)(a.CardTitle,{children:"Upload Tax Documents"}),(0,s.jsx)(a.CardDescription,{children:"Upload W-2s, 1099s, mortgage statements, medical expenses, charitable donations, and other tax documents"})]}),(0,s.jsx)(a.CardContent,{children:(0,s.jsxs)("div",{onDrop:w,onDragOver:e=>{e.preventDefault(),j(!0)},onDragLeave:()=>j(!1),className:`relative rounded-lg border-2 border-dashed p-12 text-center transition-colors ${v?"border-neon bg-neon/5":"border-muted-foreground/25"}`,children:[(0,s.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:e=>e.target.files&&S(Array.from(e.target.files)),className:"absolute inset-0 cursor-pointer opacity-0",disabled:y}),(0,s.jsx)(l.Upload,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),(0,s.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"Drop files here or click to upload"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Supports PDF, JPG, PNG (Max 10MB per file)"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:f.map(e=>(0,s.jsx)(h.Badge,{variant:"outline",className:"text-xs",children:e.label},e.value))})]})})]}),g.length>0&&(0,s.jsxs)(a.Card,{className:"border-neon/20 bg-card/50 backdrop-blur",children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(a.CardTitle,{children:["Uploaded Documents (",T,"/",E," processed)"]}),T===E&&E>0&&(0,s.jsxs)(h.Badge,{className:"bg-green-500 text-white",children:[(0,s.jsx)(o.CheckCircle2,{className:"w-3 h-3 mr-1"}),"All Complete"]})]})}),(0,s.jsx)(a.CardContent,{className:"space-y-3",children:g.map(e=>{let t=(e=>{switch(e.status){case"uploading":return{icon:(0,s.jsx)(d.Loader2,{className:"h-5 w-5 animate-spin text-blue-600"}),text:"Uploading...",color:"text-blue-600"};case"processing":return{icon:(0,s.jsx)(d.Loader2,{className:"h-5 w-5 animate-spin text-yellow-600"}),text:"AI Processing...",color:"text-yellow-600"};case"complete":return{icon:(0,s.jsx)(o.CheckCircle2,{className:"h-5 w-5 text-green-600"}),text:"Complete",color:"text-green-600"};case"error":return{icon:(0,s.jsx)(m.AlertCircle,{className:"h-5 w-5 text-red-600"}),text:e.errorMessage||"Failed",color:"text-red-600"}}})(e);return(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4 bg-background/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)(c.FileText,{className:"h-8 w-8 text-neon flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium truncate",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsxs)("span",{children:[(e.size/1024).toFixed(1)," KB"]}),e.documentType&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"•"}),(0,s.jsx)(h.Badge,{variant:"outline",className:"text-xs",children:f.find(t=>t.value===e.documentType)?.label||e.documentType})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[t.icon,(0,s.jsx)("span",{className:`text-sm font-medium ${t.color}`,children:t.text})]}),(0,s.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{var t;return t=e.id,void b(e=>e.filter(e=>e.id!==t))},disabled:y,children:(0,s.jsx)(u.X,{className:"h-4 h-4"})})]})]},e.id)})})]}),T>0&&(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(i.Button,{variant:"outline",onClick:()=>C.push("/dashboard/documents/all"),children:"View All Documents"}),(0,s.jsxs)(i.Button,{onClick:()=>{k({title:"Documents Saved",description:`${T} document(s) have been processed and saved`}),p&&p()},className:"bg-neon hover:bg-neon/90 text-background",children:[(0,s.jsx)(o.CheckCircle2,{className:"w-4 h-4 mr-2"}),"Done"]})]})]})}])},503805,e=>{"use strict";var t=e.i(878957),s=e.i(821596),r=e.i(167881),a=e.i(970065),i=e.i(692626),n=e.i(718633),l=e.i(223711),c=e.i(893629),d=e.i(958202);e.s(["AutoFileButton",0,function(){let[e,o]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),[x,h]=(0,s.useState)(null),f=(0,d.useRouter)(),p=async()=>{o(!0),h(null),m(null);try{let e=await fetch("/api/auto-file",{method:"POST"}),t=await e.json();if(!e.ok)throw Error(t.error||"Filing failed");m(t),setTimeout(()=>{f.push("/dashboard")},3e3)}catch(e){h(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}};return u?(0,t.jsx)(a.Card,{className:"p-6 bg-green-500/10 border-green-500",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(n.CheckCircle2,{className:"h-6 w-6 text-green-500 mt-1 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-green-500 mb-2",children:"Filing Complete!"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Your taxes have been filed successfully with the IRS."}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Submission ID:"}),(0,t.jsx)("span",{className:"font-mono",children:u.submissionId})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Refund/Owed:"}),(0,t.jsxs)("span",{className:`font-semibold ${u.refundOrOwed>=0?"text-green-500":"text-red-500"}`,children:[u.refundOrOwed>=0?"+":"","$",Math.abs(u.refundOrOwed).toFixed(2)]})]})]})]})]})}):x?(0,t.jsx)(a.Card,{className:"p-6 bg-destructive/10 border-destructive",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(l.AlertCircle,{className:"h-6 w-6 text-destructive mt-1 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-destructive mb-2",children:"Filing Failed"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:x}),(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:()=>h(null),children:"Try Again"})]})]})}):(0,t.jsx)(r.Button,{onClick:p,disabled:e,size:"lg",className:"w-full",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Filing your taxes..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Sparkles,{className:"mr-2 h-5 w-5"}),"Auto-File My Taxes"]})})}])},84777,e=>{"use strict";var t=e.i(878957),s=e.i(821596),r=e.i(167881),a=e.i(970065),i=e.i(625959),n=e.i(692626),l=e.i(718633),c=e.i(223711),d=e.i(893629),o=e.i(507),u=e.i(958202);e.s(["MultiYearFileButton",0,function({availableYears:e}){let[m,x]=(0,s.useState)([]),[h,f]=(0,s.useState)(!1),[p,g]=(0,s.useState)(null),[b,v]=(0,s.useState)(null),[j,y]=(0,s.useState)(!1),N=(0,u.useRouter)(),k=e=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},C=async()=>{if(0===m.length)return void v("Please select at least one tax year");f(!0),v(null),g(null);try{let e=await fetch("/api/auto-file-multi-year",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taxYears:m})}),t=await e.json();if(!e.ok)throw Error(t.error||"Filing failed");g(t),setTimeout(()=>{N.push("/dashboard/filing")},5e3)}catch(e){v(e instanceof Error?e.message:"An error occurred")}finally{f(!1)}},w=e.filter(e=>m.includes(e.year)).reduce((e,t)=>e+t.estimatedRefund,0);return p?(0,t.jsx)(a.Card,{className:"p-6 bg-green-500/10 border-green-500",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(l.CheckCircle2,{className:"h-6 w-6 text-green-500 mt-1 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-green-500 mb-2",children:"Multi-Year Filing Complete!"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-3",children:["Successfully filed ",p.summary.successfulFilings," of ",p.summary.totalYears," tax years."]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Total Refund:"}),(0,t.jsxs)("span",{className:"font-semibold text-green-500",children:["$",p.summary.totalRefund.toFixed(2)]})]}),p.results.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:[e.taxYear,":"]}),e.success?(0,t.jsx)("span",{className:"text-green-500 text-xs",children:"✓ Filed"}):(0,t.jsxs)("span",{className:"text-red-500 text-xs",children:["✗ ",e.error]})]},e.taxYear))]})]})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Button,{onClick:()=>y(!0),size:"lg",className:"w-full",children:[(0,t.jsx)(o.Calendar,{className:"mr-2 h-5 w-5"}),"File Multiple Years"]}),j&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)(a.Card,{className:"w-full max-w-2xl p-6 border-neon/20 bg-card",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"File Multiple Tax Years"}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:"✕"})]}),b&&(0,t.jsx)(a.Card,{className:"p-4 mb-6 bg-red-500/10 border-red-500/20",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(c.AlertCircle,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,t.jsx)("p",{className:"text-sm text-red-500",children:b})]})}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select the tax years you want to file. We'll process them all at once."}),e.map(e=>(0,t.jsx)(a.Card,{className:`p-4 cursor-pointer transition-all ${m.includes(e.year)?"border-neon/40 bg-neon/5":"border-border hover:border-neon/20"}`,onClick:()=>k(e.year),children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(i.Checkbox,{checked:m.includes(e.year),onCheckedChange:()=>k(e.year)}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold",children:["Tax Year ",e.year]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.documentCount," document",1!==e.documentCount?"s":""," ready"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-semibold text-green-500",children:["$",e.estimatedRefund.toLocaleString()]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Est. refund"})]})]})})]})},e.year))]}),m.length>0&&(0,t.jsx)(a.Card,{className:"p-4 mb-6 bg-neon/5 border-neon/20",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Estimated Refund"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-neon",children:["$",w.toLocaleString()]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Filing ",m.length," year",1!==m.length?"s":""]})})]})}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(r.Button,{variant:"outline",onClick:()=>y(!1),className:"flex-1",children:"Cancel"}),(0,t.jsx)(r.Button,{onClick:C,disabled:h||0===m.length,className:"flex-1 bg-neon hover:bg-neon/90 text-background",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Filing ",m.length," year",1!==m.length?"s":"","..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Sparkles,{className:"mr-2 h-5 w-5"}),"File All Selected Years"]})})]})]})})]})}])}]);